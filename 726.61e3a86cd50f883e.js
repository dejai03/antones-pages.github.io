"use strict";(self.webpackChunkDDE_FE=self.webpackChunkDDE_FE||[]).push([[726],{6726:(I,_,d)=>{d.r(_),d.d(_,{InvoiceModule:()=>w});var a=d(9808),g=d(6671),C=d(439),v=d(5861),l=d(9646),n=d(1223),O=d(62);function m(e,c){if(1&e&&(n.TgZ(0,"div",24)(1,"div",25),n._UZ(2,"img",26),n.qZA(),n.TgZ(3,"div"),n._uU(4),n.qZA(),n.TgZ(5,"div"),n._uU(6),n.qZA(),n.TgZ(7,"div"),n._uU(8),n.qZA(),n.TgZ(9,"div"),n._uU(10),n.qZA(),n.TgZ(11,"div"),n._uU(12),n.qZA(),n.TgZ(13,"div"),n._uU(14),n.ALo(15,"number"),n.qZA(),n.TgZ(16,"div"),n._uU(17),n.ALo(18,"number"),n.qZA(),n.TgZ(19,"div"),n._uU(20),n.ALo(21,"number"),n.qZA()()),2&e){const t=c.$implicit;n.xp6(2),n.Q6J("src",t.src,n.LSH),n.xp6(2),n.Oqu(t.brand),n.xp6(2),n.Oqu(t.name),n.xp6(2),n.Oqu(t.buyPrice),n.xp6(2),n.Oqu(t.sellPrice),n.xp6(2),n.Oqu(t.quantity),n.xp6(2),n.Oqu(n.xi3(15,9,t.buyPrice*t.quantity,"1.2-2")),n.xp6(3),n.Oqu(n.xi3(18,12,t.totalQuantityPrice,"1.2-2")),n.xp6(3),n.Oqu(n.xi3(21,15,t.totalQuantityPrice-t.buyPrice*t.quantity,"1.2-2"))}}function M(e,c){if(1&e&&(n.TgZ(0,"div",19)(1,"div",20)(2,"div",21),n._UZ(3,"div",12),n.TgZ(4,"div",12),n._uU(5,"Brand"),n.qZA(),n.TgZ(6,"div",12),n._uU(7,"Name"),n.qZA(),n.TgZ(8,"div",12),n._uU(9,"Buy @"),n.qZA(),n.TgZ(10,"div",12),n._uU(11,"Sell @"),n.qZA(),n.TgZ(12,"div",12),n._uU(13,"Quantity"),n.qZA(),n.TgZ(14,"div",12),n._uU(15,"Total Buy"),n.qZA(),n.TgZ(16,"div",12),n._uU(17,"Total Sell"),n.qZA(),n.TgZ(18,"div",12),n._uU(19,"Profit"),n.qZA()(),n.TgZ(20,"div",22),n.YNc(21,m,22,18,"div",23),n.qZA()()()),2&e){const t=n.oxw().$implicit;n.xp6(21),n.Q6J("ngForOf",t.productDetails)}}function f(e,c){if(1&e){const t=n.EpF();n.TgZ(0,"div",16),n.NdJ("click",function(){const r=n.CHM(t).index;return n.oxw(2).switchCard(r)}),n.TgZ(1,"div",17)(2,"div"),n._uU(3),n.qZA(),n.TgZ(4,"div"),n._uU(5),n.ALo(6,"date"),n.qZA(),n.TgZ(7,"div"),n._uU(8),n.qZA(),n.TgZ(9,"div"),n._uU(10),n.qZA(),n.TgZ(11,"div")(12,"b"),n._uU(13),n.qZA()(),n.TgZ(14,"div"),n._uU(15),n.qZA(),n.TgZ(16,"div")(17,"b"),n._uU(18),n.ALo(19,"number"),n.qZA()(),n.TgZ(20,"div")(21,"b"),n._uU(22),n.ALo(23,"number"),n.qZA()(),n.TgZ(24,"div")(25,"i",4),n._uU(26),n.qZA()()(),n.YNc(27,M,22,1,"div",18),n.qZA()}if(2&e){const t=c.$implicit,o=c.index,i=n.oxw(2);n.xp6(3),n.Oqu(t.billNo),n.xp6(2),n.Oqu(n.xi3(6,13,i.intoDate(t.dateOfSell),"medium")),n.xp6(3),n.Oqu(t.sellTo),n.xp6(1),n.Tol(t.paymentMethord),n.xp6(1),n.Oqu(t.paymentMethord),n.xp6(3),n.Oqu(t.paidAmount),n.xp6(2),n.Oqu(t.productDetails.length),n.xp6(3),n.Oqu(n.xi3(19,16,t.grandTotal,"1.2-2")),n.xp6(4),n.Oqu(n.xi3(23,19,t.profit,"1.2-2")),n.xp6(4),n.Oqu(o==i.selectedIndex?"keyboard_arrow_up":"keyboard_arrow_down"),n.xp6(1),n.Q6J("ngIf",o==i.selectedIndex)}}function P(e,c){1&e&&(n.TgZ(0,"div",27),n._uU(1,"No Orders Sold Yet.."),n.qZA())}function h(e,c){if(1&e&&(n.TgZ(0,"div",10)(1,"div",11)(2,"div",12),n._uU(3,"Bill No."),n.qZA(),n.TgZ(4,"div",12),n._uU(5,"Date"),n.qZA(),n.TgZ(6,"div",12),n._uU(7,"Sell To"),n.qZA(),n.TgZ(8,"div",12),n._uU(9,"Payment Mode"),n.qZA(),n.TgZ(10,"div",12),n._uU(11,"Paid"),n.qZA(),n.TgZ(12,"div",12),n._uU(13,"Count"),n.qZA(),n.TgZ(14,"div",12),n._uU(15,"Total Amount"),n.qZA(),n.TgZ(16,"div",12),n._uU(17,"Profit"),n.qZA(),n._UZ(18,"div",12),n.qZA(),n.TgZ(19,"div",13),n.YNc(20,f,28,22,"div",14),n.ALo(21,"async"),n.YNc(22,P,2,0,"div",15),n._UZ(23,"br")(24,"br")(25,"br")(26,"br"),n.qZA()()),2&e){const t=n.oxw();n.xp6(20),n.Q6J("ngForOf",n.lcZ(21,2,t.filterOrders)),n.xp6(2),n.Q6J("ngIf",t.isEmpty&&!t.CS.isLoading)}}function Z(e,c){if(1&e){const t=n.EpF();n.TgZ(0,"div",16),n.NdJ("click",function(){const r=n.CHM(t).index;return n.oxw(2).switchCard(r)}),n.TgZ(1,"div",17)(2,"div"),n._uU(3),n.qZA(),n.TgZ(4,"div"),n._uU(5),n.qZA(),n._UZ(6,"div")(7,"div")(8,"div")(9,"div")(10,"div"),n.TgZ(11,"div"),n._uU(12),n.qZA(),n.TgZ(13,"div")(14,"i",4),n._uU(15),n.qZA()()()()}if(2&e){const t=c.$implicit,o=c.index,i=n.oxw(2);n.xp6(3),n.Oqu(o+1),n.xp6(2),n.Oqu(t.key),n.xp6(7),n.Oqu(i.calculateDue(t.value)),n.xp6(3),n.Oqu(o==i.selectedIndex?"keyboard_arrow_up":"keyboard_arrow_down")}}function x(e,c){1&e&&(n.TgZ(0,"div",27),n._uU(1,"No Dues.."),n.qZA())}function b(e,c){if(1&e&&(n.TgZ(0,"div",10)(1,"div",28)(2,"div",11)(3,"div",12),n._uU(4,"SL No."),n.qZA(),n.TgZ(5,"div",12),n._uU(6,"Due Person"),n.qZA(),n._UZ(7,"div",12)(8,"div",12)(9,"div",12)(10,"div",12)(11,"div",12),n.TgZ(12,"div",12),n._uU(13,"Total Due"),n.qZA(),n._UZ(14,"div",12),n.qZA(),n.TgZ(15,"div",13),n.YNc(16,Z,16,4,"div",14),n.ALo(17,"async"),n.qZA()(),n.YNc(18,x,2,0,"div",15),n.qZA()),2&e){const t=n.oxw();n.xp6(16),n.Q6J("ngForOf",n.lcZ(17,2,t.filterDues)),n.xp6(2),n.Q6J("ngIf",t.isEmpty&&!t.CS.isLoading)}}function T(e,c){1&e&&n._UZ(0,"div",10)}function q(e,c){1&e&&n._UZ(0,"div",10)}function A(e,c){1&e&&n._UZ(0,"div",10)}const s=function(e){return{active:e}};let p=(()=>{class e{constructor(t,o,i){this.CS=t,this.router=o,this.activated=i,this.filterOrders=(0,l.of)([]),this.filterDues=(0,l.of)([]),this.selectedIndex=9999999999,this.selectedMenu="table",this.isEmpty=!1}ngOnInit(){this.activated.queryParams.subscribe(t=>{this.selectedIndex=999999999,this.selectedMenu=t.tab||"table",this.switchAction(this.selectedMenu)})}initFilter(){var t=this;return(0,v.Z)(function*(){yield t.CS.getOrders(),t.CS.orders.subscribe(o=>{o.forEach(i=>{i.profit=t.getProfitCalculate(i.productDetails,i.grandTotal)}),t.filterOrders=(0,l.of)(o),t.isEmpty=0==o.length})})()}calculateDue(t){return"2222"}getProfitCalculate(t,o){let i=0;return t.forEach(r=>{i+=r.buyPrice*r.quantity}),o-i}switchAction(t){switch(t){case"due":this.calculateDues();break;case"filters":break;default:this.initFilter()}}switchMenu(t){this.selectedMenu=t,this.router.navigate(["invoice"],{queryParams:{menu:"invoice",tab:t}})}calculateDues(){var t=this;return(0,v.Z)(function*(){let o={};yield t.CS.getOrders(),t.CS.orders.subscribe(i=>{i.forEach(r=>{"due"==r.paymentMethord&&(o[r.sellTo]||(o[r.sellTo]=[]),o[r.sellTo].push(r))}),o=Object.entries(o).map(([r,u])=>({key:r,value:u})),t.filterDues=(0,l.of)(o),t.isEmpty=0==o.length,console.log("temp : ",o)})})()}switchCard(t){this.selectedIndex=this.selectedIndex==t?999999999:t}intoDate(t){return new Date(t.replace(".Z",""))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(O.v_),n.Y36(g.F0),n.Y36(g.gz))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-invoice-home"]],decls:25,vars:20,consts:[[1,"invoice-container"],[1,"menu-container"],[1,"menus"],["title","Orders Table",1,"menu",3,"ngClass","click"],[1,"material-icons"],["title","Due Payments",1,"menu",3,"ngClass","click"],["title","Filters",1,"menu",3,"ngClass","click"],["title","Growth Graph",1,"menu",3,"ngClass","click"],["title","Cash Count",1,"menu",3,"ngClass","click"],["class","product-content",4,"ngIf"],[1,"product-content"],[1,"card-head"],[1,"head"],[1,"search-list"],["class","card-body",3,"click",4,"ngFor","ngForOf"],["class","no-item-in-cart",4,"ngIf"],[1,"card-body",3,"click"],[1,"card"],["class","sub-list",4,"ngIf"],[1,"sub-list"],[1,"sub-card"],[1,"sub-card-head"],[1,"sub-list-body"],["class","list",4,"ngFor","ngForOf"],[1,"list"],[1,"image"],["onerror","this.src='assets/images/icons/DDE-d.png';","alt","",3,"src"],[1,"no-item-in-cart"],[1,"due-container"]],template:function(t,o){1&t&&(n.TgZ(0,"div",0)(1,"div",1),n._UZ(2,"br")(3,"br"),n.TgZ(4,"div",2)(5,"div",3),n.NdJ("click",function(){return o.switchMenu("table")}),n.TgZ(6,"i",4),n._uU(7,"table_chart"),n.qZA()(),n.TgZ(8,"div",5),n.NdJ("click",function(){return o.switchMenu("due")}),n.TgZ(9,"i",4),n._uU(10,"menu_book"),n.qZA()(),n.TgZ(11,"div",6),n.NdJ("click",function(){return o.switchMenu("filters")}),n.TgZ(12,"i",4),n._uU(13,"tune"),n.qZA()(),n.TgZ(14,"div",7),n.NdJ("click",function(){return o.switchMenu("growth")}),n.TgZ(15,"i",4),n._uU(16,"bar_chart"),n.qZA()(),n.TgZ(17,"div",8),n.NdJ("click",function(){return o.switchMenu("cash")}),n.TgZ(18,"i",4),n._uU(19,"currency_rupee"),n.qZA()()()(),n.YNc(20,h,27,4,"div",9),n.YNc(21,b,19,4,"div",9),n.YNc(22,T,1,0,"div",9),n.YNc(23,q,1,0,"div",9),n.YNc(24,A,1,0,"div",9),n.qZA()),2&t&&(n.xp6(5),n.Q6J("ngClass",n.VKq(10,s,"table"==o.selectedMenu)),n.xp6(3),n.Q6J("ngClass",n.VKq(12,s,"due"==o.selectedMenu)),n.xp6(3),n.Q6J("ngClass",n.VKq(14,s,"filters"==o.selectedMenu)),n.xp6(3),n.Q6J("ngClass",n.VKq(16,s,"growth"==o.selectedMenu)),n.xp6(3),n.Q6J("ngClass",n.VKq(18,s,"cash"==o.selectedMenu)),n.xp6(3),n.Q6J("ngIf","table"==o.selectedMenu),n.xp6(1),n.Q6J("ngIf","due"==o.selectedMenu),n.xp6(1),n.Q6J("ngIf","filters"==o.selectedMenu),n.xp6(1),n.Q6J("ngIf","growth"==o.selectedMenu),n.xp6(1),n.Q6J("ngIf","cash"==o.selectedMenu))},directives:[a.mk,a.O5,a.sg],pipes:[a.Ov,a.uU,a.JJ],styles:[".invoice-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:60px 1fr}.invoice-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]{background:#1976d2}.invoice-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menus[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{height:60px;color:#fff;text-align:center;margin-bottom:5px;background:#2c19d200;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s linear}.invoice-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menus[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]:hover, .invoice-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menus[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background:#fff;color:#1976d2}.invoice-container[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]{height:96vh;padding:0 15px}.invoice-container[_ngcontent-%COMP%]   .card-head[_ngcontent-%COMP%]{color:#4a4a4a;margin-top:15px;margin-bottom:0;border-left:5px solid #2469ac}.invoice-container[_ngcontent-%COMP%]   .card-head[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:5px;background:#1976d2;border-radius:2px;color:#fff}.invoice-container[_ngcontent-%COMP%]   .card-head[_ngcontent-%COMP%], .invoice-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:grid;grid-column-gap:2px;column-gap:2px;border:1px solid #80808000;text-align:center;font-size:14px;font-weight:600;grid-template-columns:100px 1fr 1fr 110px 110px 60px 1fr 1fr 50px}.invoice-container[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border:1px solid #1f33f138;border-left:5px solid #2469ac;background:#fff;margin-bottom:3px;box-shadow:-5px 0 5px #c8c8c8}.invoice-container[_ngcontent-%COMP%]   .search-list[_ngcontent-%COMP%]{height:calc(100% - 93px);overflow:auto;margin-top:5px}.invoice-container[_ngcontent-%COMP%]   .search-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.invoice-container[_ngcontent-%COMP%]   .search-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-bottom:1px solid #1f33f138;border-radius:2px;padding:5px;cursor:pointer}.invoice-container[_ngcontent-%COMP%]   .search-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .due[_ngcontent-%COMP%]{color:#d21919;font-weight:700;text-transform:uppercase}.invoice-container[_ngcontent-%COMP%]   .search-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]{color:#2c19d2;font-weight:700;text-transform:uppercase}.invoice-container[_ngcontent-%COMP%]   .search-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cash[_ngcontent-%COMP%]{color:#06ae06;font-weight:700;text-transform:uppercase}.invoice-container[_ngcontent-%COMP%]   .search-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(odd)   b[_ngcontent-%COMP%]{color:#1976d2!important}.invoice-container[_ngcontent-%COMP%]   .search-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(even)   b[_ngcontent-%COMP%]{color:red!important}.invoice-container[_ngcontent-%COMP%]   .search-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{width:100%}.invoice-container[_ngcontent-%COMP%]   .search-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:max-content;border:none;outline:none;color:#fff;padding:5px 10px;font-weight:600;font-size:18px;border-radius:2px;cursor:pointer}.invoice-container[_ngcontent-%COMP%]   .search-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px;font-weight:400}.invoice-container[_ngcontent-%COMP%]   .search-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(odd){background-color:#c40000}.invoice-container[_ngcontent-%COMP%]   .search-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(even){background-color:#047a14e6}.invoice-container[_ngcontent-%COMP%]   .search-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(odd):hover{background-color:#f10000}.invoice-container[_ngcontent-%COMP%]   .search-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(even):hover{background-color:#017412}.invoice-container[_ngcontent-%COMP%]   .sub-list[_ngcontent-%COMP%]{background:#f6f8fd;padding:5px 5px 3px}.invoice-container[_ngcontent-%COMP%]   .sub-list[_ngcontent-%COMP%]   .sub-card[_ngcontent-%COMP%]{margin-left:1%;margin-bottom:2px}.invoice-container[_ngcontent-%COMP%]   .sub-list[_ngcontent-%COMP%]   .sub-card[_ngcontent-%COMP%]   .sub-card-head[_ngcontent-%COMP%], .invoice-container[_ngcontent-%COMP%]   .sub-list[_ngcontent-%COMP%]   .sub-card[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{border-radius:1px;display:grid;grid-column-gap:1px;column-gap:1px;text-align:center}.invoice-container[_ngcontent-%COMP%]   .sub-list[_ngcontent-%COMP%]   .sub-card[_ngcontent-%COMP%]   .sub-card-head[_ngcontent-%COMP%]{grid-template-columns:35px repeat(8,1fr);font-size:12px;font-weight:600}.invoice-container[_ngcontent-%COMP%]   .sub-list[_ngcontent-%COMP%]   .sub-card[_ngcontent-%COMP%]   .sub-card-head[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:5px 0;background:#e30000;color:#fff}.invoice-container[_ngcontent-%COMP%]   .sub-list[_ngcontent-%COMP%]   .sub-card[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:#ffffff;padding:5px 10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.invoice-container[_ngcontent-%COMP%]   .sub-list[_ngcontent-%COMP%]   .sub-card[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{grid-template-columns:20px repeat(8,1fr);margin-top:1px;border:1px solid rgba(196,187,187,.662);border-left:5px solid red}.invoice-container[_ngcontent-%COMP%]   .sub-list[_ngcontent-%COMP%]   .sub-card[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:20px;height:20px}.invoice-container[_ngcontent-%COMP%]   .sub-list[_ngcontent-%COMP%]   .sub-card[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.no-item-in-cart[_ngcontent-%COMP%]{width:90%;height:80%;margin:2% auto auto;border:1px solid #1976d2;background:#a7c4e038;color:#4a4a4a;font-size:25px;font-weight:600;display:flex;justify-content:center;align-items:center}"]}),e})();const U=[{path:"",component:p},{path:"home",component:p},{path:"**",component:C.r}];let y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[g.Bz.forChild(U)],g.Bz]}),e})(),w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[a.ez,y]]}),e})()}}]);