"use strict";(self.webpackChunkDDE_FE=self.webpackChunkDDE_FE||[]).push([[179],{294:(yt,Ne,H)=>{H.d(Ne,{I:()=>ee});var g=H(6895),O=H(1571);let ee=(()=>{class ve{}return ve.\u0275fac=function(Be){return new(Be||ve)},ve.\u0275mod=O.oAB({type:ve}),ve.\u0275inj=O.cJS({imports:[g.ez]}),ve})()},6430:(yt,Ne,H)=>{H.d(Ne,{r:()=>O});var g=H(1571);let O=(()=>{class ee{constructor(){this.msg="Page Not Found...!"}ngOnInit(){}}return ee.\u0275fac=function(he){return new(he||ee)},ee.\u0275cmp=g.Xpm({type:ee,selectors:[["pnf"]],inputs:{msg:"msg"},decls:3,vars:1,consts:[[1,"container","center-align"]],template:function(he,Be){1&he&&(g.TgZ(0,"div",0)(1,"p"),g._uU(2),g.qZA()()),2&he&&(g.xp6(2),g.Oqu(Be.msg))},styles:[".container[_ngcontent-%COMP%]{width:90%;min-height:100px;height:85%;margin:3% auto auto;border:1px solid rgba(25,118,210,.5215686275);background:rgba(231,241,252,.5215686275);color:#1976d2;font-size:25px;font-weight:900;letter-spacing:1.8px}"]}),ee})()},4069:(yt,Ne,H)=>{H.d(Ne,{v_:()=>re,KM:()=>Ke,xs:()=>le});var g=H(5861),O=H(9646),ee=H(6451),ve=H(8421),he=H(9751),Be=H(5577),Fe=H(1144),qe=H(576),Le=H(3268);const ce=["addListener","removeListener"],ge=["addEventListener","removeEventListener"],De=["on","off"];function dt(L,G,U,W){if((0,qe.m)(U)&&(W=U,U=void 0),W)return dt(L,G,U).pipe((0,Le.Z)(W));const[fe,pe]=function it(L){return(0,qe.m)(L.addEventListener)&&(0,qe.m)(L.removeEventListener)}(L)?ge.map(Qe=>It=>L[Qe](G,It,U)):function Je(L){return(0,qe.m)(L.addListener)&&(0,qe.m)(L.removeListener)}(L)?ce.map(Oe(L,G)):function ke(L){return(0,qe.m)(L.on)&&(0,qe.m)(L.off)}(L)?De.map(Oe(L,G)):[];if(!fe&&(0,Fe.z)(L))return(0,Be.z)(Qe=>dt(Qe,G,U))((0,ve.Xf)(L));if(!fe)throw new TypeError("Invalid event target");return new he.y(Qe=>{const It=(...tn)=>Qe.next(1<tn.length?tn:tn[0]);return fe(It),()=>pe(It)})}function Oe(L,G){return U=>W=>L[U](G,W)}var bt=H(4004),Ve=H(1571),Kt=H(1166),_e=H(2214),ye=H(9016);class Ke{constructor(){this.refID="",this.billNo="",this.productDetails=Array(),this.sellTo="",this.paymentMethord="",this.grandTotal=0,this.paidAmount=0,this.dateOfSell=new Date}}class le{constructor(){this.id="123",this.name="",this.src="assets/images/icons/DDE-d.png",this.brand="",this.category="",this.unit="",this.description="",this.sellPrice=0,this.buyPrice=0,this.inStock=0,this.totalStock=0,this.quantity=1,this.totalQuantityPrice=0}}let re=(()=>{class L{constructor(U,W,fe){this.FB=U,this.router=W,this.notifier=fe,this.products=(0,O.of)([]),this.orders=(0,O.of)([]),this.brands=(0,O.of)([]),this.category=(0,O.of)([]),this.isLoading=!1,this.isConfirm=!1,this.isOnline=!1,this.msg="",this.org="",this.delSelect=new le,this.org=localStorage.getItem("org"),this.createOnline$().subscribe(pe=>this.isOnline=pe)}navigateTo(U){this.router.navigate(U.route,U.qp)}sortByKey(U,W,fe){return U.sort(function(pe,Qe){let It=pe[W],tn=Qe[W];return fe&&(It=new Date(It.replace(".Z","")),tn=new Date(tn.replace(".Z",""))),It<tn?-1:It>tn?1:0})}getProducts(){var U=this;return(0,g.Z)(function*(){U.isLoading=!0,U.products=(0,O.of)(U.sortByKey(yield U.FB.getData(),"name")),yield U.FB.getData(),U.isLoading=!1})()}deleteProduct(U){var W=this;return(0,g.Z)(function*(){W.msg="Do You Really Want to delete.",W.isConfirm=!0,W.delSelect=U})()}confirmDel(U){var W=this;return(0,g.Z)(function*(){W.isConfirm=!1,U&&(W.isLoading=!0,yield W.FB.deleteData(W.delSelect),yield W.getProducts(),W.isLoading=!1,W.notifier.notify("success","Product Deleted..."))})()}sellCart(U){var W=this;return(0,g.Z)(function*(){W.isLoading=!0,yield W.FB.sellCart(U),W.isLoading=!1})()}getOrders(){var U=this;return(0,g.Z)(function*(){U.isLoading=!0,U.orders=(0,O.of)(U.sortByKey(yield U.FB.getCart(),"dateOfSell")),yield U.FB.getCart(),U.isLoading=!1})()}setBrand(U){var W=this;return(0,g.Z)(function*(){W.isLoading=!0,yield W.FB.setBrand(U),W.isLoading=!1})()}getBrand(){var U=this;return(0,g.Z)(function*(){return U.isLoading=!0,U.brands=(0,O.of)(yield U.FB.getBrand()),U.isLoading=!1,U.brands})()}setCategory(U){var W=this;return(0,g.Z)(function*(){W.isLoading=!0,yield W.FB.setCategory(U),W.isLoading=!1})()}getCategory(){var U=this;return(0,g.Z)(function*(){return U.isLoading=!0,U.category=(0,O.of)(yield U.FB.getCategory()),U.isLoading=!1,U.category})()}updateOrder(U){var W=this;return(0,g.Z)(function*(){W.isLoading=!0,yield W.FB.updateOrder(U),W.isLoading=!1,W.getOrders()})()}createOnline$(){return(0,ee.T)(dt(window,"offline").pipe((0,bt.U)(()=>!1)),dt(window,"online").pipe((0,bt.U)(()=>!0)),new he.y(U=>{U.next(navigator.onLine),U.complete()}))}}return L.\u0275fac=function(U){return new(U||L)(Ve.LFG(Kt.O),Ve.LFG(_e.F0),Ve.LFG(ye.lG))},L.\u0275prov=Ve.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})()},1166:(yt,Ne,H)=>{H.d(Ne,{O:()=>Sv});var g=H(5861);const he=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let a=r.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=63&a|128):55296==(64512&a)&&s+1<r.length&&56320==(64512&r.charCodeAt(s+1))?(a=65536+((1023&a)<<10)+(1023&r.charCodeAt(++s)),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=63&a|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=63&a|128)}return e},Fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<r.length;a+=3){const l=r[a],h=a+1<r.length,_=h?r[a+1]:0,T=a+2<r.length,M=T?r[a+2]:0;let te=(15&_)<<2|M>>6,me=63&M;T||(me=64,h||(te=64)),s.push(t[l>>2],t[(3&l)<<4|_>>4],t[te],t[me])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(he(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):function(r){const e=[];let t=0,s=0;for(;t<r.length;){const a=r[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[s++]=String.fromCharCode((31&a)<<6|63&l)}else if(a>239&&a<365){const T=((7&a)<<18|(63&r[t++])<<12|(63&r[t++])<<6|63&r[t++])-65536;e[s++]=String.fromCharCode(55296+(T>>10)),e[s++]=String.fromCharCode(56320+(1023&T))}else{const l=r[t++],h=r[t++];e[s++]=String.fromCharCode((15&a)<<12|(63&l)<<6|63&h)}}return e.join("")}(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],_=a<r.length?t[r.charAt(a)]:0;++a;const M=a<r.length?t[r.charAt(a)]:64;++a;const $=a<r.length?t[r.charAt(a)]:64;if(++a,null==l||null==_||null==M||null==$)throw Error();s.push(l<<2|_>>4),64!==M&&(s.push(_<<4&240|M>>2),64!==$&&s.push(M<<6&192|$))}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}},Le=function(r){return function(r){const e=he(r);return Fe.encodeByteArray(e,!0)}(r).replace(/\./g,"")};class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,s))}}}function ke(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class fe extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name="FirebaseError",Object.setPrototypeOf(this,fe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pe.prototype.create)}}class pe{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],h=l?function Qe(r,e){return r.replace(It,(t,s)=>{const a=e[s];return null!=a?String(a):`<${s}?>`})}(l,s):"Error";return new fe(a,`${this.serviceName}: ${h} (${a}).`,s)}}const It=/\{\$([^}]+)}/g;function Kr(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=r[a],h=e[a];if(Br(l)&&Br(h)){if(!Kr(l,h))return!1}else if(l!==h)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function Br(r){return null!==r&&"object"==typeof r}function pi(r){return r&&r._delegate?r._delegate:r}class ur{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const mr="[DEFAULT]";class Yr{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Oe;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e?.identifier),a=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(s)&&!this.shouldAutoInitialize()){if(a)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function _t(r){return"EAGER"===r.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:mr})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=mr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,g.Z)(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...t.filter(s=>"_delete"in s).map(s=>s._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=mr){return this.instances.has(e)}getOptions(e=mr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries())s===this.normalizeInstanceIdentifier(l)&&h.resolve(a);return a}onInit(e,t){var s;const a=this.normalizeInstanceIdentifier(t),l=null!==(s=this.onInitCallbacks.get(a))&&void 0!==s?s:new Set;l.add(e),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&e(h,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===mr?void 0:r),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}var r;return s||null}normalizeInstanceIdentifier(e=mr){return this.component?this.component.multipleInstances?e:mr:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ur{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Yr(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Zn=[];var Dt=(()=>{return(r=Dt||(Dt={}))[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT",Dt;var r})();const Zr={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},Qr=Dt.INFO,gi={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},mo=(r,e,...t)=>{if(e<r.logLevel)return;const s=(new Date).toISOString(),a=gi[e];if(!a)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[a](`[${s}]  ${r.name}:`,...t)};class Jr{constructor(e){this.name=e,this._logLevel=Qr,this._logHandler=mo,this._userLogHandler=null,Zn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Zr[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...e),this._logHandler(this,Dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...e),this._logHandler(this,Dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...e),this._logHandler(this,Dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...e),this._logHandler(this,Dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...e),this._logHandler(this,Dt.ERROR,...e)}}let wn,X;const ie=new WeakMap,J=new WeakMap,Pe=new WeakMap,Ye=new WeakMap,St=new WeakMap;let yr={get(r,e,t){if(r instanceof IDBTransaction){if("done"===e)return J.get(r);if("objectStoreNames"===e)return r.objectStoreNames||Pe.get(r);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ct(r[e])},set:(r,e,t)=>(r[e]=t,!0),has:(r,e)=>r instanceof IDBTransaction&&("done"===e||"store"===e)||e in r};function yi(r){return"function"==typeof r?function mi(r){return r!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function z(){return X||(X=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(r)?function(...e){return r.apply(Xr(this),e),ct(ie.get(this))}:function(...e){return ct(r.apply(Xr(this),e))}:function(e,...t){const s=r.call(Xr(this),e,...t);return Pe.set(s,e.sort?e.sort():[e]),ct(s)}}(r):(r instanceof IDBTransaction&&function rn(r){if(J.has(r))return;const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),a()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});J.set(r,e)}(r),((r,e)=>e.some(t=>r instanceof t))(r,function Q(){return wn||(wn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(r,yr):r)}function ct(r){if(r instanceof IDBRequest)return function an(r){const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(ct(r.result)),a()},h=()=>{s(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&ie.set(t,r)}).catch(()=>{}),St.set(e,r),e}(r);if(Ye.has(r))return Ye.get(r);const e=yi(r);return e!==r&&(Ye.set(r,e),St.set(e,r)),e}const Xr=r=>St.get(r),Bi=["get","getKey","getAll","getAllKeys","count"],Jn=["put","add","delete","clear"],Ti=new Map;function ei(r,e){if(!(r instanceof IDBDatabase)||e in r||"string"!=typeof e)return;if(Ti.get(e))return Ti.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=Jn.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!a&&!Bi.includes(t))return;const l=function(){var h=(0,g.Z)(function*(_,...T){const M=this.transaction(_,a?"readwrite":"readonly");let V=M.store;return s&&(V=V.index(T.shift())),(yield Promise.all([V[t](...T),a&&M.done]))[0]});return function(T){return h.apply(this,arguments)}}();return Ti.set(e,l),l}!function en(r){yr=r(yr)}(r=>({...r,get:(e,t,s)=>ei(e,t)||r.get(e,t,s),has:(e,t)=>!!ei(e,t)||r.has(e,t)}));class Xn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function cr(r){return"VERSION"===r.getComponent()?.type}(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}return null}).filter(t=>t).join(" ")}}const jr="@firebase/app",Nr=new Jr("@firebase/app"),vo="[DEFAULT]",$a={[jr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},xi=new Map,_o=new Map;function Xo(r,e){try{r.container.addComponent(e)}catch(t){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Us(r){const e=r.name;if(_o.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;_o.set(e,r);for(const t of xi.values())Xo(t,r);return!0}const $r=new pe("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Gr{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}function ni(r,e,t){var s;let a=null!==(s=$a[r])&&void 0!==s?s:r;t&&(a+=`-${t}`);const l=a.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const _=[`Unable to register library "${a}" with version "${e}":`];return l&&_.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&_.push("and"),h&&_.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Nr.warn(_.join(" "))}Us(new ur(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const zr="firebase-heartbeat-store";let za=null;function Hi(){return za||(za=function Qn(r,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const h=indexedDB.open(r,e),_=ct(h);return s&&h.addEventListener("upgradeneeded",T=>{s(ct(h.result),T.oldVersion,T.newVersion,ct(h.transaction))}),t&&h.addEventListener("blocked",()=>t()),_.then(T=>{l&&T.addEventListener("close",()=>l()),a&&T.addEventListener("versionchange",()=>a())}).catch(()=>{}),_}("firebase-heartbeat-database",1,{upgrade:(r,e)=>{0===e&&r.createObjectStore(zr)}}).catch(r=>{throw $r.create("idb-open",{originalErrorMessage:r.message})})),za}function ms(){return(ms=(0,g.Z)(function*(r){var e;try{return(yield Hi()).transaction(zr).objectStore(zr).get(ra(r))}catch(t){if(t instanceof fe)Nr.warn(t.message);else{const s=$r.create("idb-get",{originalErrorMessage:null===(e=t)||void 0===e?void 0:e.message});Nr.warn(s.message)}}})).apply(this,arguments)}function un(r,e){return ri.apply(this,arguments)}function ri(){return(ri=(0,g.Z)(function*(r,e){var t;try{const a=(yield Hi()).transaction(zr,"readwrite");return yield a.objectStore(zr).put(e,ra(r)),a.done}catch(s){if(s instanceof fe)Nr.warn(s.message);else{const a=$r.create("idb-set",{originalErrorMessage:null===(t=s)||void 0===t?void 0:t.message});Nr.warn(a.message)}}})).apply(this,arguments)}function ra(r){return`${r.name}!${r.options.appId}`}class qs{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Hn(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}triggerHeartbeat(){var e=this;return(0,g.Z)(function*(){const s=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Di();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==a&&!e._heartbeatsCache.heartbeats.some(l=>l.date===a))return e._heartbeatsCache.heartbeats.push({date:a,agent:s}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(l=>{const h=new Date(l.date).valueOf();return Date.now()-h<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return(0,g.Z)(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=Di(),{heartbeatsToSend:s,unsentEntries:a}=function ys(r,e=1024){const t=[];let s=r.slice();for(const a of r){const l=t.find(h=>h.agent===a.agent);if(l){if(l.dates.push(a.date),$i(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),$i(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}(e._heartbeatsCache.heartbeats),l=Le(JSON.stringify({version:2,heartbeats:s}));return e._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(e._heartbeatsCache.heartbeats=a,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),l})()}}function Di(){return(new Date).toISOString().substring(0,10)}class Hn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!function re(){return"object"==typeof indexedDB}()&&function L(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e((null===(l=a.error)||void 0===l?void 0:l.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,g.Z)(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Gs(r){return ms.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return(0,g.Z)(function*(){var s;if(yield t._canUseIndexedDBPromise){const l=yield t.read();return un(t.app,{lastSentHeartbeatDate:null!==(s=e.lastSentHeartbeatDate)&&void 0!==s?s:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return(0,g.Z)(function*(){var s;if(yield t._canUseIndexedDBPromise){const l=yield t.read();return un(t.app,{lastSentHeartbeatDate:null!==(s=e.lastSentHeartbeatDate)&&void 0!==s?s:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}})()}}function $i(r){return Le(JSON.stringify({version:2,heartbeats:r})).length}!function vs(r){Us(new ur("platform-logger",e=>new Xn(e),"PRIVATE")),Us(new ur("heartbeat",e=>new qs(e),"PRIVATE")),ni(jr,"0.7.32",r),ni(jr,"0.7.32","esm2017"),ni("fire-js","")}(""),ni("firebase","9.9.4","app");var Ee,qa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qr={},Ws=Ws||{},ft=qa||self;function Do(){}function Ks(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function tr(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var zi="closure_uid_"+(1e9*Math.random()>>>0),wo=0;function Ie(r,e,t){return r.call.apply(r.bind,arguments)}function kt(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function En(r,e,t){return(En=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ie:kt).apply(null,arguments)}function qi(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function Ot(r,e){function t(){}t.prototype=e.prototype,r.Z=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.Vb=function(s,a,l){for(var h=Array(arguments.length-2),_=2;_<arguments.length;_++)h[_-2]=arguments[_];return e.prototype[a].apply(s,h)}}function wr(){this.s=this.s,this.o=this.o}var ii={};wr.prototype.s=!1,wr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var r=function Ys(r){return Object.prototype.hasOwnProperty.call(r,zi)&&r[zi]||(r[zi]=++wo)}(this);delete ii[r]}},wr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const x=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1},S=Array.prototype.forEach?function(r,e,t){Array.prototype.forEach.call(r,e,t)}:function(r,e,t){const s=r.length,a="string"==typeof r?r.split(""):r;for(let l=0;l<s;l++)l in a&&e.call(t,a[l],l,r)};function F(r){return Array.prototype.concat.apply([],arguments)}function oe(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function Ue(r){return/^[\s\xa0]*$/.test(r)}var cn,xt=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function Vt(r,e){return-1!=r.indexOf(e)}function si(r,e){return r<e?-1:r>e?1:0}e:{var Cr=ft.navigator;if(Cr){var _s=Cr.userAgent;if(_s){cn=_s;break e}}cn=""}function Ai(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function Zs(r){const e={};for(const t in r)e[t]=r[t];return e}var Lu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ia(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let l=0;l<Lu.length;l++)t=Lu[l],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function sa(r){return sa[" "](r),r}sa[" "]=Do;var K,r,Vu=Vt(cn,"Opera"),Co=Vt(cn,"Trident")||Vt(cn,"MSIE"),Bu=Vt(cn,"Edge"),C=Bu||Co,N=Vt(cn,"Gecko")&&!(Vt(cn.toLowerCase(),"webkit")&&!Vt(cn,"Edge"))&&!(Vt(cn,"Trident")||Vt(cn,"MSIE"))&&!Vt(cn,"Edge"),b=Vt(cn.toLowerCase(),"webkit")&&!Vt(cn,"Edge");function k(){var r=ft.document;return r?r.documentMode:void 0}e:{var ue="",be=(r=cn,N?/rv:([^\);]+)(\)|;)/.exec(r):Bu?/Edge\/([\d\.]+)/.exec(r):Co?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):b?/WebKit\/(\S+)/.exec(r):Vu?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(be&&(ue=be?be[1]:""),Co){var ze=k();if(null!=ze&&ze>parseFloat(ue)){K=String(ze);break e}}K=ue}var Ct={};var mn=ft.document&&Co&&(k()||parseInt(K,10))||void 0,Qt=function(){if(!ft.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{ft.addEventListener("test",Do,e),ft.removeEventListener("test",Do,e)}catch{}return r}();function Ut(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}function Er(r,e){if(Ut.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(N){e:{try{sa(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Pr[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Er.Z.h.call(this)}}Ut.prototype.h=function(){this.defaultPrevented=!0},Ot(Er,Ut);var Pr={2:"touch",3:"pen",4:"mouse"};Er.prototype.h=function(){Er.Z.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var lr="closure_listenable_"+(1e6*Math.random()|0),dr=0;function Wi(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=a,this.key=++dr,this.ca=this.fa=!1}function Ki(r){r.ca=!0,r.listener=null,r.proxy=null,r.src=null,r.ia=null}function Qs(r){this.src=r,this.g={},this.h=0}function nl(r,e){var t=e.type;if(t in r.g){var l,s=r.g[t],a=x(s,e);(l=0<=a)&&Array.prototype.splice.call(s,a,1),l&&(Ki(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Yi(r,e,t,s){for(var a=0;a<r.length;++a){var l=r[a];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==s)return a}return-1}Qs.prototype.add=function(r,e,t,s,a){var l=r.toString();(r=this.g[l])||(r=this.g[l]=[],this.h++);var h=Yi(r,e,s,a);return-1<h?(e=r[h],t||(e.fa=!1)):((e=new Wi(e,this.src,l,!!s,a)).fa=t,r.push(e)),e};var Eo="closure_lm_"+(1e6*Math.random()|0),oa={};function Id(r,e,t,s,a){if(s&&s.once)return Sd(r,e,t,s,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Id(r,e[l],t,s,a);return null}return t=bo(t),r&&r[lr]?r.N(e,t,tr(s)?!!s.capture:!!s,a):aa(r,e,t,!1,s,a)}function aa(r,e,t,s,a,l){if(!e)throw Error("Invalid event type");var h=tr(a)?!!a.capture:!!a,_=Uu(r);if(_||(r[Eo]=_=new Qs(r)),(t=_.add(e,t,s,h,l)).proxy)return t;if(s=function rl(){var e=Wa;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)Qt||(a=h),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(Ef(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function Sd(r,e,t,s,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Sd(r,e[l],t,s,a);return null}return t=bo(t),r&&r[lr]?r.O(e,t,tr(s)?!!s.capture:!!s,a):aa(r,e,t,!0,s,a)}function Td(r,e,t,s,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)Td(r,e[l],t,s,a);else s=tr(s)?!!s.capture:!!s,t=bo(t),r&&r[lr]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Yi(l=r.g[e],t,s,a))&&(Ki(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete r.g[e],r.h--))):r&&(r=Uu(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Yi(e,t,s,a)),(t=-1<r?e[r]:null)&&xd(t))}function xd(r){if("number"!=typeof r&&r&&!r.ca){var e=r.src;if(e&&e[lr])nl(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(Ef(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Uu(e))?(nl(t,r),0==t.h&&(t.src=null,e[Eo]=null)):Ki(r)}}}function Ef(r){return r in oa?oa[r]:oa[r]="on"+r}function Wa(r,e){if(r.ca)r=!0;else{e=new Er(e,this);var t=r.listener,s=r.ia||r.src;r.fa&&xd(r),r=t.call(s,e)}return r}function Uu(r){return(r=r[Eo])instanceof Qs?r:null}var Ka="__closure_events_fn_"+(1e9*Math.random()>>>0);function bo(r){return"function"==typeof r?r:(r[Ka]||(r[Ka]=function(e){return r.handleEvent(e)}),r[Ka])}function Pn(){wr.call(this),this.i=new Qs(this),this.P=this,this.I=null}function $n(r,e){var t,s=r.I;if(s)for(t=[];s;s=s.I)t.push(s);if(r=r.P,s=e.type||e,"string"==typeof e)e=new Ut(e,r);else if(e instanceof Ut)e.target=e.target||r;else{var a=e;ia(e=new Ut(s,r),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];a=Zi(h,s,!0,e)&&a}if(a=Zi(h=e.g=r,s,!0,e)&&a,a=Zi(h,s,!1,e)&&a,t)for(l=0;l<t.length;l++)a=Zi(h=e.g=t[l],s,!1,e)&&a}function Zi(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ca&&h.capture==t){var _=h.listener,T=h.ia||h.src;h.fa&&nl(r.i,h),a=!1!==_.call(T,s)&&a}}return a&&!s.defaultPrevented}Ot(Pn,wr),Pn.prototype[lr]=!0,Pn.prototype.removeEventListener=function(r,e,t,s){Td(this,r,e,t,s)},Pn.prototype.M=function(){if(Pn.Z.M.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)Ki(t[s]);delete r.g[e],r.h--}}this.I=null},Pn.prototype.N=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},Pn.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var il=ft.JSON.stringify;function ua(){var r=Ja;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Qa,Ya=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new Ag,r=>r.reset());class Ag{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ad(r){ft.setTimeout(()=>{throw r},0)}function Za(r,e){Qa||function Mi(){var r=ft.Promise.resolve(void 0);Qa=function(){r.then(ol)}}(),ju||(Qa(),ju=!0),Ja.add(r,e)}var ju=!1,Ja=new class sl{constructor(){this.h=this.g=null}add(e,t){const s=Ya.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function ol(){for(var r;r=ua();){try{r.h.call(r.g)}catch(t){Ad(t)}var e=Ya;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}ju=!1}function ca(r,e){Pn.call(this),this.h=r||1,this.g=e||ft,this.j=En(this.kb,this),this.l=Date.now()}function la(r){r.da=!1,r.S&&(r.g.clearTimeout(r.S),r.S=null)}function da(r,e,t){if("function"==typeof r)t&&(r=En(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=En(r.handleEvent,r)}return 2147483647<Number(e)?-1:ft.setTimeout(r,e||0)}function Xa(r){r.g=da(()=>{r.g=null,r.i&&(r.i=!1,Xa(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}Ot(ca,Pn),(Ee=ca.prototype).da=!1,Ee.S=null,Ee.kb=function(){if(this.da){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-r):(this.S&&(this.g.clearTimeout(this.S),this.S=null),$n(this,"tick"),this.da&&(la(this),this.start()))}},Ee.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ee.M=function(){ca.Z.M.call(this),la(this),delete this.g};class al extends wr{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Xa(this)}M(){super.M(),this.g&&(ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Js(r){wr.call(this),this.h=r,this.g={}}Ot(Js,wr);var eu=[];function ul(r,e,t,s){Array.isArray(t)||(t&&(eu[0]=t.toString()),t=eu);for(var a=0;a<t.length;a++){var l=Id(e,t[a],s||r.handleEvent,!1,r.h||r);if(!l)break;r.g[l.key]=l}}function Md(r){Ai(r.g,function(e,t){this.g.hasOwnProperty(t)&&xd(e)},r),r.g={}}function Qi(){this.g=!0}function Io(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ha(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<a.length;h++)a[h]=""}}}return il(t)}catch{return e}}(r,t)+(s?" "+s:"")})}Js.prototype.M=function(){Js.Z.M.call(this),Md(this)},Js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qi.prototype.Aa=function(){this.g=!1},Qi.prototype.info=function(){};var Xs={},Fn=null;function fa(){return Fn=Fn||new Pn}function cl(r){Ut.call(this,Xs.Ma,r)}function eo(r){const e=fa();$n(e,new cl(e,r))}function pa(r,e){Ut.call(this,Xs.STAT_EVENT,r),this.stat=e}function kn(r){const e=fa();$n(e,new pa(e,r))}function So(r,e){Ut.call(this,Xs.Na,r),this.size=e}function Ni(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return ft.setTimeout(function(){r()},e)}Xs.Ma="serverreachability",Ot(cl,Ut),Xs.STAT_EVENT="statevent",Ot(pa,Ut),Xs.Na="timingevent",Ot(So,Ut);var Hu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ll={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function to(){}function hl(){}to.prototype.h=null;var To,jt={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function If(){Ut.call(this,"d")}function fl(){Ut.call(this,"c")}function nu(){}function pl(r,e,t,s){this.l=r,this.j=e,this.m=t,this.X=s||1,this.V=new Js(this),this.P=Sf,this.W=new ca(r=C?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Od}function Od(){this.i=null,this.g="",this.h=!1}Ot(If,Ut),Ot(fl,Ut),Ot(nu,to),nu.prototype.g=function(){return new XMLHttpRequest},nu.prototype.i=function(){return{}},To=new nu;var Sf=45e3,Ds={},gl={};function Rd(r,e,t){r.K=1,r.v=j(m(e)),r.s=t,r.U=!0,Ln(r,null)}function Ln(r,e){r.F=Date.now(),no(r),r.A=m(r.v);var t=r.A,s=r.X;Array.isArray(s)||(s=[String(s)]),Mg(t.h,"t",s),r.C=0,t=r.l.H,r.h=new Od,r.g=Gv(r.l,t?e:null,!r.s),0<r.O&&(r.L=new al(En(r.Ia,r,r.g),r.O)),ul(r.V,r.g,"readystatechange",r.gb),e=r.H?Zs(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.s,e)):(r.u="GET",r.g.ea(r.A,r.u,null,e)),eo(1),function tu(r,e,t,s,a,l){r.info(function(){if(r.g)if(l)for(var h="",_=l.split("&"),T=0;T<_.length;T++){var M=_[T].split("=");if(1<M.length){var V=M[0];M=M[1];var $=V.split("_");h=2<=$.length&&"type"==$[1]?h+(V+"=")+M+"&":h+(V+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+h})}(r.j,r.u,r.A,r.m,r.X,r.s)}function ru(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Ba}function ga(r,e,t){let a,s=!0;for(;!r.I&&r.C<t.length;){if(a=Lv(r,t),a==gl){4==e&&(r.o=4,kn(14),s=!1),Io(r.j,r.m,null,"[Incomplete Response]");break}if(a==Ds){r.o=4,kn(15),Io(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}Io(r.j,r.m,a,null),xo(r,a)}ru(r)&&a!=gl&&a!=Ds&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,kn(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.aa&&(r.aa=!0,(e=r.l).g==r&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Lf(e),e.L=!0,kn(11))):(Io(r.j,r.m,t,"[Invalid Chunked Response]"),Ji(r),ma(r))}function Lv(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?gl:(t=Number(e.substring(t,s)),isNaN(t)?Ds:(s+=1)+t>e.length?gl:(e=e.substr(s,t),r.C=s+t,e))}function no(r){r.Y=Date.now()+r.P,oi(r,r.P)}function oi(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Ni(En(r.eb,r),e)}function ai(r){r.B&&(ft.clearTimeout(r.B),r.B=null)}function ma(r){0==r.l.G||r.I||Ug(r.l,r)}function Ji(r){ai(r);var e=r.L;e&&"function"==typeof e.na&&e.na(),r.L=null,la(r.W),Md(r.V),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function xo(r,e){try{var t=r.l;if(0!=t.G&&(t.g==r||Tf(t.i,r)))if(t.I=r.N,!r.J&&Tf(t.i,r)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<r.F))break e;jd(t),No(t)}Ud(t),kn(18)}}else t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=Ni(En(t.ab,t),6e3));if(1>=Pg(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else Ci(t,11)}else if((r.J||t.g==r)&&jd(t),!Ue(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let M=a[e];if(t.U=M[0],M=M[1],2==t.G)if("c"==M[0]){t.J=M[1],t.la=M[2];const V=M[3];null!=V&&(t.ma=V,t.h.info("VER="+t.ma));const $=M[4];null!=$&&(t.za=$,t.h.info("SVER="+t.za));const te=M[5];null!=te&&"number"==typeof te&&0<te&&(t.K=s=1.5*te,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const me=r.g;if(me){const we=me.g?me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(we){var l=s.i;!l.g&&(Vt(we,"spdy")||Vt(we,"quic")||Vt(we,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(vl(l,l.h),l.h=null))}if(s.D){const $e=me.g?me.g.getResponseHeader("X-HTTP-Session-Id"):null;$e&&(s.sa=$e,R(s.F,s.D,$e))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-r.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=r;if((s=t).oa=Hg(s,s.H?s.la:null,s.W),h.J){Gu(s.i,h);var _=h,T=s.K;T&&_.setTimeout(T),_.B&&(ai(_),no(_)),s.g=h}else kf(s);0<t.l.length&&Pf(t)}else"stop"!=M[0]&&"close"!=M[0]||Ci(t,7);else 3==t.G&&("stop"==M[0]||"close"==M[0]?"stop"==M[0]?Ci(t,7):bl(t):"noop"!=M[0]&&t.j&&t.j.wa(M),t.A=0)}eo(4)}catch{}}function ml(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Ks(r)||"string"==typeof r)S(r,e,void 0);else{if(r.T&&"function"==typeof r.T)var t=r.T();else if(r.R&&"function"==typeof r.R)t=void 0;else if(Ks(r)||"string"==typeof r){t=[];for(var s=r.length,a=0;a<s;a++)t.push(a)}else for(a in t=[],s=0,r)t[s++]=a;s=function Pd(r){if(r.R&&"function"==typeof r.R)return r.R();if("string"==typeof r)return r.split("");if(Ks(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length;for(var l=0;l<a;l++)e.call(void 0,s[l],t&&t[l],r)}}function ya(r,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(r)if(r instanceof ya)for(t=r.T(),s=0;s<t.length;s++)this.set(t[s],r.get(t[s]));else for(s in r)this.set(s,r[s])}function Fd(r){if(r.i!=r.g.length){for(var e=0,t=0;e<r.g.length;){var s=r.g[e];va(r.h,s)&&(r.g[t++]=s),e++}r.g.length=t}if(r.i!=r.g.length){var a={};for(t=e=0;e<r.g.length;)va(a,s=r.g[e])||(r.g[t++]=s,a[s]=1),e++;r.g.length=t}}function va(r,e){return Object.prototype.hasOwnProperty.call(r,e)}(Ee=pl.prototype).setTimeout=function(r){this.P=r},Ee.gb=function(r){r=r.target;const e=this.L;e&&3==io(r)?e.l():this.Ia(r)},Ee.Ia=function(r){try{if(r==this.g)e:{const V=io(this.g);var e=this.g.Da();const $=this.g.ba();if(!(3>V)&&(3!=V||C||this.g&&(this.h.h||this.g.ga()||$v(this.g)))){this.I||4!=V||7==e||eo(8==e||0>=$?3:2),ai(this);var t=this.g.ba();this.N=t;t:if(ru(this)){var s=$v(this.g);r="";var a=s.length,l=4==io(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ji(this),ma(this);var h="";break t}this.h.i=new ft.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:l&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function bf(r,e,t,s,a,l,h){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,V,t),this.i){if(this.$&&!this.J){t:{if(this.g){var _,T=this.g;if((_=T.g?T.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ue(_)){var M=_;break t}}M=null}if(!(t=M)){this.i=!1,this.o=3,kn(12),Ji(this),ma(this);break e}Io(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xo(this,t)}this.U?(ga(this,V,h),C&&this.i&&3==V&&(ul(this.V,this.W,"tick",this.fb),this.W.start())):(Io(this.j,this.m,h,null),xo(this,h)),4==V&&Ji(this),this.i&&!this.I&&(4==V?Ug(this.l,this):(this.i=!1,no(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,kn(12)):(this.o=0,kn(13)),Ji(this),ma(this)}}}catch{}},Ee.fb=function(){if(this.g){var r=io(this.g),e=this.g.ga();this.C<e.length&&(ai(this),ga(this,r,e),this.i&&4!=r&&no(this))}},Ee.cancel=function(){this.I=!0,Ji(this)},Ee.eb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Nd(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(eo(3),kn(17)),Ji(this),this.o=2,ma(this)):oi(this,this.Y-r)},(Ee=ya.prototype).R=function(){Fd(this);for(var r=[],e=0;e<this.g.length;e++)r.push(this.h[this.g[e]]);return r},Ee.T=function(){return Fd(this),this.g.concat()},Ee.get=function(r,e){return va(this.h,r)?this.h[r]:e},Ee.set=function(r,e){va(this.h,r)||(this.i++,this.g.push(r)),this.h[r]=e},Ee.forEach=function(r,e){for(var t=this.T(),s=0;s<t.length;s++){var a=t[s],l=this.get(a);r.call(e,l,a,this)}};var $u=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ro(r,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,r instanceof ro){this.g=void 0!==e?e:r.g,y(this,r.j),this.s=r.s,f(this,r.i),D(this,r.m),this.l=r.l,e=r.h;var t=new _a;t.i=e.i,e.g&&(t.g=new ya(e.g),t.h=e.h),I(this,t),this.o=r.o}else r&&(t=String(r).match($u))?(this.g=!!e,y(this,t[1]||"",!0),this.s=Te(t[2]||""),f(this,t[3]||"",!0),D(this,t[4]),this.l=Te(t[5]||"",!0),I(this,t[6]||"",!0),this.o=Te(t[7]||"")):(this.g=!!e,this.h=new _a(null,this.g))}function m(r){return new ro(r)}function y(r,e,t){r.j=t?Te(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function f(r,e,t){r.i=t?Te(e,!0):e}function D(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function I(r,e,t){e instanceof _a?(r.h=e,function Ng(r,e){e&&!r.j&&(ci(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(Da(this,s),Mg(this,a,t))},r)),r.j=e}(r.h,r.g)):(t||(e=at(e,Ao)),r.h=new _a(e,r.g))}function R(r,e,t){r.h.set(e,t)}function j(r){return R(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Te(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function at(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,We),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function We(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}ro.prototype.toString=function(){var r=[],e=this.j;e&&r.push(at(e,Ht,!0),":");var t=this.i;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(at(e,Ht,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&r.push("/"),r.push(at(t,"/"==t.charAt(0)?wi:br,!0))),(t=this.h.toString())&&r.push("?",t),(t=this.o)&&r.push("#",at(t,Oi)),r.join("")};var Ht=/[#\/\?@]/g,br=/[#\?:]/g,wi=/[#\?]/g,Ao=/[#\?@]/g,Oi=/#/g;function _a(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function ci(r){r.g||(r.g=new ya,r.h=0,r.i&&function ui(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var l=r[t].substring(0,s);a=r[t].substring(s+1)}else l=r[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Da(r,e){ci(r),e=bn(r,e),va(r.g.h,e)&&(r.i=null,r.h-=r.g.get(e).length,va((r=r.g).h,e)&&(delete r.h[e],r.i--,r.g.length>2*r.i&&Fd(r)))}function iu(r,e){return ci(r),e=bn(r,e),va(r.g.h,e)}function Mg(r,e,t){Da(r,e),0<t.length&&(r.i=null,r.g.set(bn(r,e),oe(t)),r.h+=t.length)}function bn(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function kd(r){this.l=r||yl,r=ft.PerformanceNavigationTiming?0<(r=ft.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(ft.g&&ft.g.Ea&&ft.g.Ea()&&ft.g.Ea().Zb),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ee=_a.prototype).add=function(r,e){ci(this),this.i=null,r=bn(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},Ee.forEach=function(r,e){ci(this),this.g.forEach(function(t,s){S(t,function(a){r.call(e,a,s,this)},this)},this)},Ee.T=function(){ci(this);for(var r=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var a=r[s],l=0;l<a.length;l++)t.push(e[s]);return t},Ee.R=function(r){ci(this);var e=[];if("string"==typeof r)iu(this,r)&&(e=F(e,this.g.get(bn(this,r))));else{r=this.g.R();for(var t=0;t<r.length;t++)e=F(e,r[t])}return e},Ee.set=function(r,e){return ci(this),this.i=null,iu(this,r=bn(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},Ee.get=function(r,e){return r&&0<(r=this.R(r)).length?String(r[0]):e},Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var r=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],a=encodeURIComponent(String(s));s=this.R(s);for(var l=0;l<s.length;l++){var h=a;""!==s[l]&&(h+="="+encodeURIComponent(String(s[l]))),r.push(h)}}return this.i=r.join("&")};var yl=10;function Rg(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Pg(r){return r.h?1:r.g?r.g.size:0}function Tf(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function vl(r,e){r.g?r.g.add(e):r.h=e}function Gu(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function xf(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.D);return e}return oe(r.i)}function su(){}function Vv(){this.g=new su}function Fg(r,e,t){const s=t||"";try{ml(r,function(a,l){let h=a;tr(a)&&(h=il(a)),e.push(s+l+"="+encodeURIComponent(h))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function ou(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function zu(r){this.l=r.$b||null,this.j=r.ib||!1}function Ld(r,e){Pn.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=Af,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kd.prototype.cancel=function(){if(this.i=xf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},su.prototype.stringify=function(r){return ft.JSON.stringify(r,void 0)},su.prototype.parse=function(r){return ft.JSON.parse(r,void 0)},Ot(zu,to),zu.prototype.g=function(){return new Ld(this.l,this.j)},zu.prototype.i=function(r){return function(){return r}}({}),Ot(Ld,Pn);var Af=0;function au(r){r.j.read().then(r.Sa.bind(r)).catch(r.ha.bind(r))}function Mo(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Dl(r)}function Dl(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(Ee=Ld.prototype).open=function(r,e){if(this.readyState!=Af)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Dl(this)},Ee.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||ft).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mo(this)),this.readyState=Af},Ee.Va=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Dl(this)),this.g&&(this.readyState=3,Dl(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ft.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;au(this)}else r.text().then(this.Ua.bind(this),this.ha.bind(this))},Ee.Sa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Mo(this):Dl(this),3==this.readyState&&au(this)}},Ee.Ua=function(r){this.g&&(this.response=this.responseText=r,Mo(this))},Ee.Ta=function(r){this.g&&(this.response=r,Mo(this))},Ee.ha=function(){this.g&&Mo(this)},Ee.setRequestHeader=function(r,e){this.v.append(r,e)},Ee.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},Ee.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(Ld.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var CD=ft.JSON.parse;function Gn(r){Pn.call(this),this.headers=new ya,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=kg,this.K=this.L=!1}Ot(Gn,Pn);var kg="",ED=/^https?$/i,Bv=["POST","PUT"];function jv(r){return"content-type"==r.toLowerCase()}function wl(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Mf(r),Cl(r)}function Mf(r){r.D||(r.D=!0,$n(r,"complete"),$n(r,"error"))}function Lg(r){if(r.h&&typeof Ws<"u"&&(!r.C[1]||4!=io(r)||2!=r.ba()))if(r.v&&4==io(r))da(r.Fa,0,r);else if($n(r,"readystatechange"),4==io(r)){r.h=!1;try{const _=r.ba();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===_){var a=String(r.H).match($u)[1]||null;if(!a&&ft.self&&ft.self.location){var l=ft.self.location.protocol;a=l.substr(0,l.length-1)}s=!ED.test(a?a.toLowerCase():"")}t=s}if(t)$n(r,"complete"),$n(r,"success");else{r.m=6;try{var h=2<io(r)?r.g.statusText:""}catch{h=""}r.j=h+" ["+r.ba()+"]",Mf(r)}}finally{Cl(r)}}}function Cl(r,e){if(r.g){Hv(r);const t=r.g,s=r.C[0]?Do:null;r.g=null,r.C=null,e||$n(r,"ready");try{t.onreadystatechange=s}catch{}}}function Hv(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(ft.clearTimeout(r.A),r.A=null)}function io(r){return r.g?r.g.readyState:0}function $v(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case kg:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Of(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function Nf(r){let e="";return Ai(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):R(r,e,t))}function qu(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function El(r){this.za=0,this.l=[],this.h=new Qi,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=qu("failFast",!1,r),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=qu("baseRetryDelayMs",5e3,r),this.$a=qu("retryDelaySeedMs",1e4,r),this.Ya=qu("forwardChannelMaxRetries",2,r),this.ra=qu("forwardChannelRequestTimeoutMs",2e4,r),this.qa=r&&r.xmlHttpFactory||void 0,this.Ba=r&&r.Yb||!1,this.K=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.J="",this.i=new kd(r&&r.concurrentRequestLimit),this.Ca=new Vv,this.ja=r&&r.fastHandshake||!1,this.Ra=r&&r.Wb||!1,r&&r.Aa&&this.h.Aa(),r&&r.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&r&&r.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!r||!1!==r.Xb}function bl(r){if(Vg(r),3==r.G){var e=r.V++,t=m(r.F);R(t,"SID",r.J),R(t,"RID",e),R(t,"TYPE","terminate"),Wu(r,t),(e=new pl(r,r.h,e,void 0)).K=2,e.v=j(m(t)),t=!1,ft.navigator&&ft.navigator.sendBeacon&&(t=ft.navigator.sendBeacon(e.v.toString(),"")),!t&&ft.Image&&((new Image).src=e.v,t=!0),t||(e.g=Gv(e.l,null),e.g.ea(e.v)),e.F=Date.now(),no(e)}Ku(r)}function No(r){r.g&&(Lf(r),r.g.cancel(),r.g=null)}function Vg(r){No(r),r.u&&(ft.clearTimeout(r.u),r.u=null),jd(r),r.i.cancel(),r.m&&("number"==typeof r.m&&ft.clearTimeout(r.m),r.m=null)}function Rf(r,e){r.l.push(new class{constructor(r,e){this.h=r,this.g=e}}(r.Za++,e)),3==r.G&&Pf(r)}function Pf(r){Rg(r.i)||r.m||(r.m=!0,Za(r.Ha,r),r.C=0)}function Bd(r,e){var t;t=e?e.m:r.V++;const s=m(r.F);R(s,"SID",r.J),R(s,"RID",t),R(s,"AID",r.U),Wu(r,s),r.o&&r.s&&Of(s,r.o,r.s),t=new pl(r,r.h,t,r.C+1),null===r.o&&(t.H=r.s),e&&(r.l=e.D.concat(r.l)),e=Ff(r,t,1e3),t.setTimeout(Math.round(.5*r.ra)+Math.round(.5*r.ra*Math.random())),vl(r.i,t),Rd(t,s,e)}function Wu(r,e){r.j&&ml({},function(t,s){R(e,s,t)})}function Ff(r,e,t){t=Math.min(r.l.length,t);var s=r.j?En(r.j.Oa,r.j,r):null;e:{var a=r.l;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=a[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let _=!0;for(let T=0;T<t;T++){let M=a[T].h;const V=a[T].g;if(M-=l,0>M)l=Math.max(0,a[T].h-100),_=!1;else try{Fg(V,h,"req"+M+"_")}catch{s&&s(V)}}if(_){s=h.join("&");break e}}}return r=r.l.splice(0,t),e.D=r,s}function kf(r){r.g||r.u||(r.Y=1,Za(r.Ga,r),r.A=0)}function Ud(r){return!(r.g||r.u||3<=r.A||(r.Y++,r.u=Ni(En(r.Ga,r),jg(r,r.A)),r.A++,0))}function Lf(r){null!=r.B&&(ft.clearTimeout(r.B),r.B=null)}function Bg(r){r.g=new pl(r,r.h,"rpc",r.Y),null===r.o&&(r.g.H=r.s),r.g.O=0;var e=m(r.oa);R(e,"RID","rpc"),R(e,"SID",r.J),R(e,"CI",r.N?"0":"1"),R(e,"AID",r.U),Wu(r,e),R(e,"TYPE","xmlhttp"),r.o&&r.s&&Of(e,r.o,r.s),r.K&&r.g.setTimeout(r.K);var t=r.g;r=r.la,t.K=1,t.v=j(m(e)),t.s=null,t.U=!0,Ln(t,r)}function jd(r){null!=r.v&&(ft.clearTimeout(r.v),r.v=null)}function Ug(r,e){var t=null;if(r.g==e){jd(r),Lf(r),r.g=null;var s=2}else{if(!Tf(r.i,e))return;t=e.D,Gu(r.i,e),s=1}if(r.I=e.N,0!=r.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=r.C;$n(s=fa(),new So(s,t,e,a)),Pf(r)}else kf(r);else if(3==(a=e.o)||0==a&&0<r.I||!(1==s&&function Vd(r,e){return!(Pg(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=e.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=Ni(En(r.Ha,r,e),jg(r,r.C)),r.C++,0)))}(r,e)||2==s&&Ud(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:Ci(r,5);break;case 4:Ci(r,10);break;case 3:Ci(r,6);break;default:Ci(r,2)}}function jg(r,e){let t=r.Pa+Math.floor(Math.random()*r.$a);return r.j||(t*=2),t*e}function Ci(r,e){if(r.h.info("Error code "+e),2==e){var t=null;r.j&&(t=null);var s=En(r.jb,r);t||(t=new ro("//www.google.com/images/cleardot.gif"),ft.location&&"http"==ft.location.protocol||y(t,"https"),j(t)),function _l(r,e){const t=new Qi;if(ft.Image){const s=new Image;s.onload=qi(ou,t,s,"TestLoadImage: loaded",!0,e),s.onerror=qi(ou,t,s,"TestLoadImage: error",!1,e),s.onabort=qi(ou,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=qi(ou,t,s,"TestLoadImage: timeout",!1,e),ft.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else kn(2);r.G=0,r.j&&r.j.va(e),Ku(r),Vg(r)}function Ku(r){r.G=0,r.I=-1,r.j&&((0!=xf(r.i).length||0!=r.l.length)&&(r.i.i.length=0,oe(r.l),r.l.length=0),r.j.ua())}function Hg(r,e,t){let s=function q(r){return r instanceof ro?m(r):new ro(r,void 0)}(t);if(""!=s.i)e&&f(s,e+"."+s.i),D(s,s.m);else{const a=ft.location;s=function se(r,e,t,s){var a=new ro(null,void 0);return r&&y(a,r),e&&f(a,e),t&&D(a,t),s&&(a.l=s),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return r.aa&&Ai(r.aa,function(a,l){R(s,l,a)}),t=r.sa,(e=r.D)&&t&&R(s,e,t),R(s,"VER",r.ma),Wu(r,s),s}function Gv(r,e,t){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Gn(t&&r.Ba&&!r.qa?new zu({ib:!0}):r.qa)).L=r.H,e}function zv(){}function Vf(){if(Co&&!(10<=Number(mn)))throw Error("Environmental error: no available transport.")}function Xi(r,e){Pn.call(this),this.g=new El(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.P=r,(r=e&&e.httpHeadersOverwriteParam)&&!Ue(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ue(e)&&(this.g.D=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Yu(this)}function qv(r){If.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Bf(){fl.call(this),this.status=1}function Yu(r){this.g=r}(Ee=Gn.prototype).ea=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():To.g(),this.C=function dl(r){return r.h||(r.h=r.i())}(this.u?this.u:To),this.g.onreadystatechange=En(this.Fa,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(l){return void wl(this,l)}r=t||"";const a=new ya(this.headers);s&&ml(s,function(l,h){a.set(h,l)}),s=function E(r){e:{var e=jv;const t=r.length,s="string"==typeof r?r.split(""):r;for(let a=0;a<t;a++)if(a in s&&e.call(void 0,s[a],a,r)){e=a;break e}e=-1}return 0>e?null:"string"==typeof r?r.charAt(e):r[e]}(a.T()),t=ft.FormData&&r instanceof ft.FormData,!(0<=x(Bv,e))||s||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Hv(this),0<this.B&&((this.K=function Uv(r){return Co&&function Rt(){return function tl(r){var e=Ct;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}(function(){let r=0;const e=xt(String(K)).split("."),t=xt("9").split("."),s=Math.max(e.length,t.length);for(let h=0;0==r&&h<s;h++){var a=e[h]||"",l=t[h]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;r=si(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||si(0==a[2].length,0==l[2].length)||si(a[2],l[2]),a=a[3],l=l[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=En(this.pa,this)):this.A=da(this.pa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(l){wl(this,l)}},Ee.pa=function(){typeof Ws<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$n(this,"timeout"),this.abort(8))},Ee.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,$n(this,"complete"),$n(this,"abort"),Cl(this))},Ee.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cl(this,!0)),Gn.Z.M.call(this)},Ee.Fa=function(){this.s||(this.F||this.v||this.l?Lg(this):this.cb())},Ee.cb=function(){Lg(this)},Ee.ba=function(){try{return 2<io(this)?this.g.status:-1}catch{return-1}},Ee.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ee.Qa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),CD(e)}},Ee.Da=function(){return this.m},Ee.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ee=El.prototype).ma=8,Ee.G=1,Ee.hb=function(r){try{this.h.info("Origin Trials invoked: "+r)}catch{}},Ee.Ha=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.V=Math.floor(1e5*Math.random()),r=this.V++;const a=new pl(this,this.h,r,void 0);let l=this.s;if(this.P&&(l?(l=Zs(l),ia(l,this.P)):l=this.P),null===this.o&&(a.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ff(this,a,e),R(t=m(this.F),"RID",r),R(t,"CVER",22),this.D&&R(t,"X-HTTP-Session-Id",this.D),Wu(this,t),this.o&&l&&Of(t,this.o,l),vl(this.i,a),this.Ra&&R(t,"TYPE","init"),this.ja?(R(t,"$req",e),R(t,"SID","null"),a.$=!0,Rd(a,t,null)):Rd(a,t,e),this.G=2}}else 3==this.G&&(r?Bd(this,r):0==this.l.length||Rg(this.i)||Bd(this))},Ee.Ga=function(){if(this.u=null,Bg(this),this.$&&!(this.L||null==this.g||0>=this.O)){var r=2*this.O;this.h.info("BP detection timer enabled: "+r),this.B=Ni(En(this.bb,this),r)}},Ee.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,kn(10),No(this),Bg(this))},Ee.ab=function(){null!=this.v&&(this.v=null,No(this),Ud(this),kn(19))},Ee.jb=function(r){r?(this.h.info("Successfully pinged google.com"),kn(2)):(this.h.info("Failed to ping google.com"),kn(1))},(Ee=zv.prototype).xa=function(){},Ee.wa=function(){},Ee.va=function(){},Ee.ua=function(){},Ee.Oa=function(){},Vf.prototype.g=function(r,e){return new Xi(r,e)},Ot(Xi,Pn),Xi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,t=this.h||void 0;r.Wa&&(r.h.info("Origin Trials enabled."),Za(En(r.hb,r,e))),kn(0),r.W=e,r.aa=t||{},r.N=r.X,r.F=Hg(r,null,r.W),Pf(r)},Xi.prototype.close=function(){bl(this.g)},Xi.prototype.u=function(r){if("string"==typeof r){var e={};e.__data__=r,Rf(this.g,e)}else this.v?((e={}).__data__=il(r),Rf(this.g,e)):Rf(this.g,r)},Xi.prototype.M=function(){this.g.j=null,delete this.j,bl(this.g),delete this.g,Xi.Z.M.call(this)},Ot(qv,If),Ot(Bf,fl),Ot(Yu,zv),Yu.prototype.xa=function(){$n(this.g,"a")},Yu.prototype.wa=function(r){$n(this.g,new qv(r))},Yu.prototype.va=function(r){$n(this.g,new Bf(r))},Yu.prototype.ua=function(){$n(this.g,"b")},Vf.prototype.createWebChannel=Vf.prototype.g,Xi.prototype.send=Xi.prototype.u,Xi.prototype.open=Xi.prototype.m,Xi.prototype.close=Xi.prototype.close,Hu.NO_ERROR=0,Hu.TIMEOUT=8,Hu.HTTP_ERROR=6,ll.COMPLETE="complete",hl.EventType=jt,jt.OPEN="a",jt.CLOSE="b",jt.ERROR="c",jt.MESSAGE="d",Pn.prototype.listen=Pn.prototype.N,Gn.prototype.listenOnce=Gn.prototype.O,Gn.prototype.getLastError=Gn.prototype.La,Gn.prototype.getLastErrorCode=Gn.prototype.Da,Gn.prototype.getStatus=Gn.prototype.ba,Gn.prototype.getResponseJson=Gn.prototype.Qa,Gn.prototype.getResponseText=Gn.prototype.ga,Gn.prototype.send=Gn.prototype.ea;var Wv=qr.createWebChannelTransport=function(){return new Vf},Kv=qr.getStatEventTarget=function(){return fa()},Uf=qr.ErrorCode=Hu,Hd=qr.EventType=ll,$g=qr.Event=Xs,ws=qr.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Il=qr.FetchXmlHttpFactory=zu,Sl=qr.WebChannel=hl,Gg=qr.XhrIo=Gn;const jf="@firebase/firestore";class Fr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");let Tl="9.9.4";const uu=new Jr("@firebase/firestore");function xl(){return uu.logLevel}function Re(r,...e){if(uu.logLevel<=Dt.DEBUG){const t=e.map($d);uu.debug(`Firestore (${Tl}): ${r}`,...t)}}function nr(r,...e){if(uu.logLevel<=Dt.ERROR){const t=e.map($d);uu.error(`Firestore (${Tl}): ${r}`,...t)}}function Al(r,...e){if(uu.logLevel<=Dt.WARN){const t=e.map($d);uu.warn(`Firestore (${Tl}): ${r}`,...t)}}function $d(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function et(r="Unexpected state"){const e=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: `+r;throw nr(e),new Error(e)}function Et(r,e){r||et()}function Ge(r,e){return r}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends fe{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ir{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Gd{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fr.UNAUTHENTICATED))}shutdown(){}}class Zv{constructor(e){this.t=e,this.currentUser=Fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const l=M=>this.i!==a?(a=this.i,t(M)):Promise.resolve();let h=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ir,e.enqueueRetryable(()=>l(this.currentUser))};const _=()=>{const M=h;e.enqueueRetryable((0,g.Z)(function*(){yield M.promise,yield l(s.currentUser)}))},T=M=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=M,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(M=>T(M)),setTimeout(()=>{if(!this.auth){const M=this.t.getImmediate({optional:!0});M?T(M):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ir)}},0),_()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Et("string"==typeof s.accessToken),new Gd(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Et(null===e||"string"==typeof e),new Fr(e)}}class Qv{constructor(e,t,s,a){this.h=e,this.l=t,this.m=s,this.g=a,this.type="FirstParty",this.user=Fr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Et(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Hf{constructor(e,t,s,a){this.h=e,this.l=t,this.m=s,this.g=a}getToken(){return Promise.resolve(new Qv(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $f{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jv{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const s=l=>{null!=l.error&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.A;return this.A=l.token,Re("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?a(l):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Et("string"==typeof t.token),this.A=t.token,new $f(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xv(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class qg{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Xv(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%e.length))}return s}}function Tt(r,e){return r<e?-1:r>e?1:0}function Ml(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}class fn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new fn(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Tt(this.nanoseconds,e.nanoseconds):Tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class mt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new mt(e)}static min(){return new mt(new fn(0,0))}static max(){return new mt(new fn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Zu{constructor(e,t,s){void 0===t?t=0:t>e.length&&et(),void 0===s?s=e.length-t:s>e.length-t&&et(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Zu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zu?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=e.get(a),h=t.get(a);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Gt extends Zu{construct(e,t,s){return new Gt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ae(de.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Gt(t)}static emptyPath(){return new Gt([])}}const Wg=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zn extends Zu{construct(e,t,s){return new zn(e,t,s)}static isValidIdentifier(e){return Wg.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zn(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(0===s.length)throw new Ae(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;a<e.length;){const _=e[a];if("\\"===_){if(a+1===e.length)throw new Ae(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const T=e[a+1];if("\\"!==T&&"."!==T&&"`"!==T)throw new Ae(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=T,a+=2}else"`"===_?(h=!h,a++):"."!==_||h?(s+=_,a++):(l(),a++)}if(l(),h)throw new Ae(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zn(t)}static emptyPath(){return new zn([])}}class je{constructor(e){this.path=e}static fromPath(e){return new je(Gt.fromString(e))}static fromName(e){return new je(Gt.fromString(e).popFirst(5))}static empty(){return new je(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Gt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new Gt(e.slice()))}}function Yg(r){return new li(r.readTime,r.key,-1)}class li{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new li(mt.min(),je.empty(),-1)}static max(){return new li(mt.max(),je.empty(),-1)}}function ec(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=je.comparator(r.documentKey,e.documentKey),0!==t?t:Tt(r.largestBatchId,e.largestBatchId))}const Zg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Cs(r){return Oo.apply(this,arguments)}function Oo(){return Oo=(0,g.Z)(function*(r){if(r.code!==de.FAILED_PRECONDITION||r.message!==Zg)throw r;Re("LocalStore","Unexpectedly lost primary lease")}),Oo.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,s)=>{t(e)})}static reject(e){return new ae((t,s)=>{s(e)})}static waitFor(e){return new ae((t,s)=>{let a=0,l=0,h=!1;e.forEach(_=>{++a,_.next(()=>{++l,h&&l===a&&t()},T=>s(T))}),h=!0,l===a&&t()})}static or(e){let t=ae.resolve(!1);for(const s of e)t=t.next(a=>a?ae.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}static mapArray(e,t){return new ae((s,a)=>{const l=e.length,h=new Array(l);let _=0;for(let T=0;T<l;T++){const M=T;t(e[M]).next(V=>{h[M]=V,++_,_===l&&s(h)},V=>a(V))}})}static doWhile(e,t){return new ae((s,a)=>{const l=()=>{!0===e()?t().next(()=>{l()},a):s()};l()})}}function Ri(r){return"IndexedDbTransactionError"===r.name}class di{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ut(s),this.ct=s=>t.writeSequenceNumber(s))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Jg(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ca(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function s_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}di.at=-1;class Vn{constructor(e,t){this.comparator=e,this.root=t||kr.EMPTY}insert(e,t){return new Vn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kr.BLACK,null,null))}remove(e){return new Vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ea(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ea(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ea(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ea(this.root,e,this.comparator,!0)}}class Ea{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kr{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??kr.RED,this.left=a??kr.EMPTY,this.right=l??kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new kr(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return kr.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();const e=this.left.check();if(e!==this.right.check())throw et();return e+(this.isRed()?0:1)}}kr.EMPTY=null,kr.RED=!0,kr.BLACK=!1,kr.EMPTY=new class{constructor(){this.size=0}get key(){throw et()}get value(){throw et()}get color(){throw et()}get left(){throw et()}get right(){throw et()}copy(r,e,t,s,a){return this}insert(r,e,t){return new kr(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zt{constructor(e){this.comparator=e,this.data=new Vn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rc(this.data.getIterator())}getIteratorFrom(e){return new rc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Zt(this.comparator);return t.data=e,t}}class rc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class es{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new es([])}unionWith(e){let t=new Zt(zn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new es(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ml(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class hr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new hr(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new hr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hr.EMPTY_BYTE_STRING=new hr("");const a_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ba(r){if(Et(!!r),"string"==typeof r){let e=0;const t=a_.exec(r);if(Et(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:An(r.seconds),nanos:An(r.nanos)}}function An(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function lu(r){return"string"==typeof r?hr.fromBase64String(r):hr.fromUint8Array(r)}function Rl(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Xg(r){const e=r.mapValue.fields.__previous_value__;return Rl(e)?Xg(e):e}function Pl(r){const e=ba(r.mapValue.fields.__local_write_time__.timestampValue);return new fn(e.seconds,e.nanos)}class Wf{constructor(e,t,s,a,l,h,_,T){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=_,this.useFetchStreams=T}}class sc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new sc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof sc&&e.projectId===this.projectId&&e.database===this.database}}function zd(r){return null==r}function du(r){return 0===r&&1/r==-1/0}const hu_mapValue={fields:{__type__:{stringValue:"__max__"}}};function oc(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Rl(r)?4:em(r)?9007199254740991:10:et()}function Ro(r,e){if(r===e)return!0;const t=oc(r);if(t!==oc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Pl(r).isEqual(Pl(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=ba(s.timestampValue),h=ba(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,lu(r.bytesValue).isEqual(lu(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return An(s.geoPointValue.latitude)===An(a.geoPointValue.latitude)&&An(s.geoPointValue.longitude)===An(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return An(s.integerValue)===An(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=An(s.doubleValue),h=An(a.doubleValue);return l===h?du(l)===du(h):isNaN(l)&&isNaN(h)}return!1}(r,e);case 9:return Ml(r.arrayValue.values||[],e.arrayValue.values||[],Ro);case 10:return function(s,a){const l=s.mapValue.fields||{},h=a.mapValue.fields||{};if(Jg(l)!==Jg(h))return!1;for(const _ in l)if(l.hasOwnProperty(_)&&(void 0===h[_]||!Ro(l[_],h[_])))return!1;return!0}(r,e);default:return et()}var a}function Fl(r,e){return void 0!==(r.values||[]).find(t=>Ro(t,e))}function Po(r,e){if(r===e)return 0;const t=oc(r),s=oc(e);if(t!==s)return Tt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Tt(r.booleanValue,e.booleanValue);case 2:return function(a,l){const h=An(a.integerValue||a.doubleValue),_=An(l.integerValue||l.doubleValue);return h<_?-1:h>_?1:h===_?0:isNaN(h)?isNaN(_)?0:-1:1}(r,e);case 3:return qd(r.timestampValue,e.timestampValue);case 4:return qd(Pl(r),Pl(e));case 5:return Tt(r.stringValue,e.stringValue);case 6:return function(a,l){const h=lu(a),_=lu(l);return h.compareTo(_)}(r.bytesValue,e.bytesValue);case 7:return function(a,l){const h=a.split("/"),_=l.split("/");for(let T=0;T<h.length&&T<_.length;T++){const M=Tt(h[T],_[T]);if(0!==M)return M}return Tt(h.length,_.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,l){const h=Tt(An(a.latitude),An(l.latitude));return 0!==h?h:Tt(An(a.longitude),An(l.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,l){const h=a.values||[],_=l.values||[];for(let T=0;T<h.length&&T<_.length;++T){const M=Po(h[T],_[T]);if(M)return M}return Tt(h.length,_.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,l){if(a===hu_mapValue&&l===hu_mapValue)return 0;if(a===hu_mapValue)return 1;if(l===hu_mapValue)return-1;const h=a.fields||{},_=Object.keys(h),T=l.fields||{},M=Object.keys(T);_.sort(),M.sort();for(let V=0;V<_.length&&V<M.length;++V){const $=Tt(_[V],M[V]);if(0!==$)return $;const te=Po(h[_[V]],T[M[V]]);if(0!==te)return te}return Tt(_.length,M.length)}(r.mapValue,e.mapValue);default:throw et()}}function qd(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Tt(r,e);const t=ba(r),s=ba(e),a=Tt(t.seconds,s.seconds);return 0!==a?a:Tt(t.nanos,s.nanos)}function fu(r){return Wd(r)}function Wd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=ba(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?lu(r.bytesValue).toBase64():"referenceValue"in r?je.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",l=!0;for(const h of s.values||[])l?l=!1:a+=",",a+=Wd(h);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let l="{",h=!0;for(const _ of a)h?h=!1:l+=",",l+=`${_}:${Wd(s.fields[_])}`;return l+"}"}(r.mapValue):et();var e}function kl(r){return!!r&&"integerValue"in r}function Ll(r){return!!r&&"arrayValue"in r}function Kd(r){return!!r&&"nullValue"in r}function ac(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Yd(r){return!!r&&"mapValue"in r}function Vl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ca(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Vl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vl(r.arrayValue.values[t]);return e}return Object.assign({},r)}function em(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}class Lr{constructor(e){this.value=e}static empty(){return new Lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Yd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(t)}setAll(e){let t=zn.emptyPath(),s={},a=[];e.forEach((h,_)=>{if(!t.isImmediateParentOf(_)){const T=this.getFieldsMap(t);this.applyChanges(T,s,a),s={},a=[],t=_.popLast()}h?s[_.lastSegment()]=Vl(h):a.push(_.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());Yd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ro(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Yd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Ca(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new Lr(Vl(this.value))}}function Zd(r){const e=[];return Ca(r.fields,(t,s)=>{const a=new zn([t]);if(Yd(s)){const l=Zd(s.mapValue).fields;if(0===l.length)e.push(a);else for(const h of l)e.push(a.child(h))}else e.push(a)}),new es(e)}class yn{constructor(e,t,s,a,l,h){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.data=l,this.documentState=h}static newInvalidDocument(e){return new yn(e,0,mt.min(),mt.min(),Lr.empty(),0)}static newFoundDocument(e,t,s){return new yn(e,1,t,mt.min(),s,0)}static newNoDocument(e,t){return new yn(e,2,t,mt.min(),Lr.empty(),0)}static newUnknownDocument(e,t){return new yn(e,3,t,mt.min(),Lr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class l_{constructor(e,t=null,s=[],a=[],l=null,h=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=h,this.endAt=_,this.ht=null}}function im(r,e=null,t=[],s=[],a=null,l=null,h=null){return new l_(r,e,t,s,a,l,h)}function Sa(r){const e=Ge(r);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>{return(a=s).field.canonicalString()+a.op.toString()+fu(a.value);var a}).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),zd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>fu(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>fu(s)).join(",")),e.ht=t}return e.ht}function Bl(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<r.orderBy.length;a++)if(!g_(r.orderBy[a],e.orderBy[a]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let a=0;a<r.filters.length;a++)if((t=r.filters[a]).op!==(s=e.filters[a]).op||!t.field.isEqual(s.field)||!Ro(t.value,s.value))return!1;var t,s;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!cm(r.startAt,e.startAt)&&cm(r.endAt,e.endAt)}function Sr(r){return je.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class Jt extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,s):new Ul(e,t,s):"array-contains"===t?new om(e,s):"in"===t?new f_(e,s):"not-in"===t?new am(e,s):"array-contains-any"===t?new p_(e,s):new Jt(e,t,s)}static lt(e,t,s){return"in"===t?new Zf(e,s):new h_(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Po(t,this.value)):null!==t&&oc(this.value)===oc(t)&&this.ft(Po(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return et()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ul extends Jt{constructor(e,t,s){super(e,t,s),this.key=je.fromName(s.referenceValue)}matches(e){const t=je.comparator(e.key,this.key);return this.ft(t)}}class Zf extends Jt{constructor(e,t){super(e,"in",t),this.keys=sm(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class h_ extends Jt{constructor(e,t){super(e,"not-in",t),this.keys=sm(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sm(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>je.fromName(s.referenceValue))}class om extends Jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ll(t)&&Fl(t.arrayValue,this.value)}}class f_ extends Jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Fl(this.value.arrayValue,t)}}class am extends Jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Fl(this.value.arrayValue,t)}}class p_ extends Jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ll(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Fl(this.value.arrayValue,s))}}class Fo{constructor(e,t){this.position=e,this.inclusive=t}}class cc{constructor(e,t="asc"){this.field=e,this.dir=t}}function g_(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}function um(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const l=e[a],h=r.position[a];if(s=l.field.isKeyField()?je.comparator(je.fromName(h.referenceValue),t.key):Po(h,t.data.field(l.field)),"desc"===l.dir&&(s*=-1),0!==s)break}return s}function cm(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Ro(r.position[t],e.position[t]))return!1;return!0}class ko{constructor(e,t=null,s=[],a=[],l=null,h="F",_=null,T=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=h,this.startAt=_,this.endAt=T,this._t=null,this.wt=null}}function Ei(r){return new ko(r)}function lm(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function gu(r){const e=Ge(r);if(null===e._t){e._t=[];const t=function dm(r){for(const e of r.filters)if(e.dt())return e.field;return null}(e),s=function Qf(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}(e);if(null!==t&&null===s)t.isKeyField()||e._t.push(new cc(t)),e._t.push(new cc(zn.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e._t.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new cc(zn.keyField(),l))}}}return e._t}function Pi(r){const e=Ge(r);if(!e.wt)if("F"===e.limitType)e.wt=im(e.path,e.collectionGroup,gu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of gu(e))t.push(new cc(l.field,"desc"===l.dir?"asc":"desc"));const s=e.endAt?new Fo(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Fo(e.startAt.position,e.startAt.inclusive):null;e.wt=im(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e.wt}function Fi(r,e,t){return new ko(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function mu(r,e){return Bl(Pi(r),Pi(e))&&r.limitType===e.limitType}function Jd(r){return`${Sa(Pi(r))}|lt:${r.limitType}`}function Jf(r){return`Query(target=${function d_(r){let e=r.path.canonicalString();return null!==r.collectionGroup&&(e+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(e+=`, filters: [${r.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${fu(s.value)}`;var s}).join(", ")}]`),zd(r.limit)||(e+=", limit: "+r.limit),r.orderBy.length>0&&(e+=`, orderBy: [${r.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),r.startAt&&(e+=", startAt: ",e+=r.startAt.inclusive?"b:":"a:",e+=r.startAt.position.map(t=>fu(t)).join(",")),r.endAt&&(e+=", endAt: ",e+=r.endAt.inclusive?"a:":"b:",e+=r.endAt.position.map(t=>fu(t)).join(",")),`Target(${e})`}(Pi(r))}; limitType=${r.limitType})`}function Xd(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):je.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,l,h){const _=um(a,l,h);return a.inclusive?_<=0:_<0}(t.startAt,gu(t),s)||t.endAt&&!function(a,l,h){const _=um(a,l,h);return a.inclusive?_>=0:_>0}(t.endAt,gu(t),s)));var t,s}function lc(r){return(e,t)=>{let s=!1;for(const a of gu(r)){const l=m_(a,e,t);if(0!==l)return l;s=s||a.field.isKeyField()}return 0}}function m_(r,e,t){const s=r.field.isKeyField()?je.comparator(e.key,t.key):function(a,l,h){const _=l.data.field(a),T=h.data.field(a);return null!==_&&null!==T?Po(_,T):et()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return et()}}function pm(r,e){if(r.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:du(e)?"-0":e}}function eh(r){return{integerValue:""+r}}function th(r,e){return function u_(r){return"number"==typeof r&&Number.isInteger(r)&&!du(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}(e)?eh(e):pm(r,e)}class jl{constructor(){this._=void 0}}function SD(r,e,t){return r instanceof yu?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):r instanceof vu?rh(r,e):r instanceof _u?gm(r,e):function(s,a){const l=nh(s,a),h=mm(l)+mm(s.yt);return kl(l)&&kl(s.yt)?eh(h):pm(s.It,h)}(r,e)}function dc(r,e,t){return r instanceof vu?rh(r,e):r instanceof _u?gm(r,e):t}function nh(r,e){return r instanceof hc?kl(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class yu extends jl{}class vu extends jl{constructor(e){super(),this.elements=e}}function rh(r,e){const t=ym(e);for(const s of r.elements)t.some(a=>Ro(a,s))||t.push(s);return{arrayValue:{values:t}}}class _u extends jl{constructor(e){super(),this.elements=e}}function gm(r,e){let t=ym(e);for(const s of r.elements)t=t.filter(a=>!Ro(a,s));return{arrayValue:{values:t}}}class hc extends jl{constructor(e,t){super(),this.It=e,this.yt=t}}function mm(r){return An(r.integerValue||r.doubleValue)}function ym(r){return Ll(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Xf{constructor(e,t){this.version=e,this.transformResults=t}}class In{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new In}static exists(e){return new In(void 0,e)}static updateTime(e){return new In(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fc(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class ih{}function _m(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Cu(r.key,In.none()):new wu(r.key,r.data,In.none());{const t=r.data,s=Lr.empty();let a=new Zt(zn.comparator);for(let l of e.fields)if(!a.has(l)){let h=t.field(l);null===h&&l.length>1&&(l=l.popLast(),h=t.field(l)),null===h?s.delete(l):s.set(l,h),a=a.add(l)}return new Lo(r.key,s,new es(a.toArray()),In.none())}}function Dm(r,e,t){r instanceof wu?function(s,a,l){const h=s.value.clone(),_=$l(s.fieldTransforms,a,l.transformResults);h.setAll(_),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(r,e,t):r instanceof Lo?function(s,a,l){if(!fc(s.precondition,a))return void a.convertToUnknownDocument(l.version);const h=$l(s.fieldTransforms,a,l.transformResults),_=a.data;_.setAll(y_(s)),_.setAll(h),a.convertToFoundDocument(l.version,_).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function pc(r,e,t,s){return r instanceof wu?function(a,l,h,_){if(!fc(a.precondition,l))return h;const T=a.value.clone(),M=wm(a.fieldTransforms,_,l);return T.setAll(M),l.convertToFoundDocument(l.version,T).setHasLocalMutations(),null}(r,e,t,s):r instanceof Lo?function(a,l,h,_){if(!fc(a.precondition,l))return h;const T=wm(a.fieldTransforms,_,l),M=l.data;return M.setAll(y_(a)),M.setAll(T),l.convertToFoundDocument(l.version,M).setHasLocalMutations(),null===h?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(V=>V.field))}(r,e,t,s):(h=t,fc(r.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h);var l,h}function Du(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),l=nh(s.transform,a||null);null!=l&&(null===t&&(t=Lr.empty()),t.set(s.field,l))}return t||null}function ep(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&Ml(t,s,(a,l)=>function vm(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof vu&&s instanceof vu||t instanceof _u&&s instanceof _u?Ml(t.elements,s.elements,Ro):t instanceof hc&&s instanceof hc?Ro(t.yt,s.yt):t instanceof yu&&s instanceof yu);var t,s}(a,l))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class wu extends ih{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Lo extends ih{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function y_(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function $l(r,e,t){const s=new Map;Et(r.length===t.length);for(let a=0;a<t.length;a++){const l=r[a],h=l.transform,_=e.data.field(l.field);s.set(l.field,dc(h,_,t[a]))}return s}function wm(r,e,t){const s=new Map;for(const a of r){const l=a.transform,h=t.data.field(a.field);s.set(a.field,SD(l,h,e))}return s}class Cu extends ih{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sh extends ih{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Cm{constructor(e){this.count=e}}var Bn,zt;function Gl(r){switch(r){default:return et();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function zl(r){if(void 0===r)return nr("GRPC error has no .code"),de.UNKNOWN;switch(r){case Bn.OK:return de.OK;case Bn.CANCELLED:return de.CANCELLED;case Bn.UNKNOWN:return de.UNKNOWN;case Bn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Bn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Bn.INTERNAL:return de.INTERNAL;case Bn.UNAVAILABLE:return de.UNAVAILABLE;case Bn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Bn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Bn.NOT_FOUND:return de.NOT_FOUND;case Bn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Bn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Bn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Bn.ABORTED:return de.ABORTED;case Bn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Bn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Bn.DATA_LOSS:return de.DATA_LOSS;default:return et()}}(zt=Bn||(Bn={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";class Vo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,l]of s)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ca(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return s_(this.inner)}size(){return this.innerSize}}const tp=new Vn(je.comparator);function hi(){return tp}const oh=new Vn(je.comparator);function Bo(...r){let e=oh;for(const t of r)e=e.insert(t.key,t);return e}function Em(r){let e=oh;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function bs(){return ql()}function bm(){return ql()}function ql(){return new Vo(r=>r.toString(),(r,e)=>r.isEqual(e))}const Im=new Vn(je.comparator),np=new Zt(je.comparator);function At(...r){let e=np;for(const t of r)e=e.add(t);return e}const TD=new Zt(Tt);function Wl(){return TD}class Kl{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,gc.createSynthesizedTargetChangeForCurrentChange(e,t)),new Kl(mt.min(),s,Wl(),hi(),At())}}class gc{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new gc(hr.EMPTY_BYTE_STRING,t,At(),At(),At())}}class ah{constructor(e,t,s,a){this.Tt=e,this.removedTargetIds=t,this.key=s,this.Et=a}}class Sm{constructor(e,t){this.targetId=e,this.At=t}}class ts{constructor(e,t,s=hr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Tm{constructor(){this.Rt=0,this.bt=Mm(),this.Pt=hr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=At(),t=At(),s=At();return this.bt.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:et()}}),new gc(this.Pt,this.vt,e,t,s)}Nt(){this.Vt=!1,this.bt=Mm()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class xm{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=hi(),this.qt=Am(),this.Kt=new Zt(Tt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const s=this.zt(t);switch(e.state){case 0:this.Ht(t)&&s.Ct(e.resumeToken);break;case 1:s.Ft(),s.St||s.Nt(),s.Ct(e.resumeToken);break;case 2:s.Ft(),s.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(s.$t(),s.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),s.Ct(e.resumeToken));break;default:et()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((s,a)=>{this.Ht(a)&&t(a)})}Yt(e){const t=e.targetId,s=e.At.count,a=this.Xt(t);if(a){const l=a.target;if(Sr(l))if(0===s){const h=new je(l.path);this.jt(t,h,yn.newNoDocument(h,mt.min()))}else Et(1===s);else this.Zt(t)!==s&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((l,h)=>{const _=this.Xt(h);if(_){if(l.current&&Sr(_.target)){const T=new je(_.target.path);null!==this.Ut.get(T)||this.ee(h,T)||this.jt(h,T,yn.newNoDocument(T,e))}l.Dt&&(t.set(h,l.xt()),l.Nt())}});let s=At();this.qt.forEach((l,h)=>{let _=!0;h.forEachWhile(T=>{const M=this.Xt(T);return!M||2===M.purpose||(_=!1,!1)}),_&&(s=s.add(l))}),this.Ut.forEach((l,h)=>h.setReadTime(e));const a=new Kl(e,t,this.Kt,this.Ut,s);return this.Ut=hi(),this.qt=Am(),this.Kt=new Zt(Tt),a}Qt(e,t){if(!this.Ht(e))return;const s=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,s),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,s){if(!this.Ht(e))return;const a=this.zt(e);this.ee(e,t)?a.kt(t,1):a.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),s&&(this.Ut=this.Ut.insert(t,s))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new Tm,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Zt(Tt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Re("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Tm),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Am(){return new Vn(je.comparator)}function Mm(){return new Vn(je.comparator)}const v_={asc:"ASCENDING",desc:"DESCENDING"},__={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Nm{constructor(e,t){this.databaseId=e,this.gt=t}}function Yl(r,e){return r.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Om(r,e){return r.gt?e.toBase64():e.toUint8Array()}function D_(r,e){return Yl(r,e.toTimestamp())}function nt(r){return Et(!!r),mt.fromTimestamp(function(e){const t=ba(e);return new fn(t.seconds,t.nanos)}(r))}function uh(r,e){return(t=r,new Gt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function rp(r){const e=Gt.fromString(r);return Et(ap(e)),e}function mc(r,e){return uh(r.databaseId,e.path)}function so(r,e){const t=rp(e);if(t.get(1)!==r.databaseId.projectId)throw new Ae(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ae(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new je(op(t))}function ip(r,e){return uh(r.databaseId,e)}function Zl(r){return new Gt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function op(r){return Et(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Rm(r,e,t){return{name:mc(r,e),fields:t.value.mapValue.fields}}function ch(r,e){return{documents:[ip(r,e.path)]}}function lh(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=ip(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ip(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(T){if(0===T.length)return;const M=T.map(V=>function($){if("=="===$.op){if(ac($.value))return{unaryFilter:{field:Eu($.field),op:"IS_NAN"}};if(Kd($.value))return{unaryFilter:{field:Eu($.field),op:"IS_NULL"}}}else if("!="===$.op){if(ac($.value))return{unaryFilter:{field:Eu($.field),op:"IS_NOT_NAN"}};if(Kd($.value))return{unaryFilter:{field:Eu($.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eu($.field),op:E_($.op),value:$.value}}}(V));return 1===M.length?M[0]:{compositeFilter:{op:"AND",filters:M}}}(e.filters);a&&(t.structuredQuery.where=a);const l=function(T){if(0!==T.length)return T.map(M=>{return{field:Eu((V=M).field),direction:MD(V.dir)};var V})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=(M=e.limit,r.gt||zd(M)?M:{value:M});var M,_,T;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(_=e.startAt).inclusive,values:_.position}),e.endAt&&(t.structuredQuery.endAt={before:!(T=e.endAt).inclusive,values:T.position}),t}function km(r){let e=function sp(r){const e=rp(r);return 4===e.length?Gt.emptyPath():op(e)}(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Et(1===s);const V=t.from[0];V.allDescendants?a=V.collectionId:e=e.child(V.collectionId)}let l=[];t.where&&(l=C_(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(V=>{return new cc(Ql(($=V).field),function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction));var $}));let _=null;t.limit&&(_=function(V){let $;return $="object"==typeof V?V.value:V,zd($)?null:$}(t.limit));let T=null;var V;t.startAt&&(T=new Fo((V=t.startAt).values||[],!!V.before));let M=null;return t.endAt&&(M=function(V){return new Fo(V.values||[],!V.before)}(t.endAt)),function pu(r,e,t,s,a,l,h,_){return new ko(r,e,t,s,a,l,h,_)}(e,a,h,l,_,"F",T,M)}function C_(r){return r?void 0!==r.unaryFilter?[vc(r)]:void 0!==r.fieldFilter?[b_(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(e=>C_(e)).reduce((e,t)=>e.concat(t)):et():[]}function MD(r){return v_[r]}function E_(r){return __[r]}function Eu(r){return{fieldPath:r.canonicalString()}}function Ql(r){return zn.fromServerFormat(r.fieldPath)}function b_(r){return Jt.create(Ql(r.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return et()}}(r.fieldFilter.op),r.fieldFilter.value)}function vc(r){switch(r.unaryFilter.op){case"IS_NAN":const e=Ql(r.unaryFilter.field);return Jt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ql(r.unaryFilter.field);return Jt.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ql(r.unaryFilter.field);return Jt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ql(r.unaryFilter.field);return Jt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return et()}}function I_(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ap(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Gm{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Dm(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=pc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=pc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=bm();return this.mutations.forEach(a=>{const l=e.get(a.key),h=l.overlayedDocument;let _=this.applyToLocalView(h,l.mutatedFields);_=t.has(a.key)?null:_;const T=_m(h,_);null!==T&&s.set(a.key,T),h.isValidDocument()||h.convertToNoDocument(mt.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),At())}isEqual(e){return this.batchId===e.batchId&&Ml(this.mutations,e.mutations,(t,s)=>ep(t,s))&&Ml(this.baseMutations,e.baseMutations,(t,s)=>ep(t,s))}}class gh{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Et(e.mutations.length===s.length);let a=Im;const l=e.mutations;for(let h=0;h<l.length;h++)a=a.insert(l[h].key,s[h].version);return new gh(e,t,s,a)}}class zm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ss{constructor(e,t,s,a,l=mt.min(),h=mt.min(),_=hr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=_}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Jl{constructor(e){this.re=e}}function yh(r){const e=km({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Fi(e,e.limit,"L"):e}class Ec{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(An(e.integerValue));else if("doubleValue"in e){const s=An(e.doubleValue);isNaN(s)?this.le(t,13):(this.le(t,15),du(s)?t.fe(0):t.fe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.le(t,20),"string"==typeof s?t.de(s):(t.de(`${s.seconds||""}`),t.fe(s.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(lu(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.le(t,45),t.fe(s.latitude||0),t.fe(s.longitude||0)}else"mapValue"in e?em(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):et()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const s=e.fields||{};this.le(t,55);for(const a of Object.keys(s))this._e(a,t),this.ae(s[a],t)}pe(e,t){const s=e.values||[];this.le(t,50);for(const a of s)this.ae(a,t)}ge(e,t){this.le(t,37),je.fromName(e).path.forEach(s=>{this.le(t,60),this.Ie(s,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}Ec.Te=new Ec;class R_{constructor(){this.Ye=new Dh}addToCollectionParentIndex(e,t){return this.Ye.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(li.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(li.min())}updateCollectionGroup(e,t,s){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class Dh{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Zt(Gt.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Zt(Gt.comparator)).toArray()}}new Uint8Array(0);class fi{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new fi(e,fi.DEFAULT_COLLECTION_PERCENTILE,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}fi.DEFAULT_COLLECTION_PERCENTILE=10,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fi.DEFAULT=new fi(41943040,fi.DEFAULT_COLLECTION_PERCENTILE,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fi.DISABLED=new fi(-1,0,0);class As{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new As(0)}static vn(){return new As(-1)}}class V_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ih{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.getBaseDocument(e,t,s))).next(a=>(null!==s&&pc(s.mutation,a,es.empty(),fn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,At()).next(()=>s))}getLocalViewOfDocuments(e,t,s=At()){const a=bs();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(l=>{let h=Bo();return l.forEach((_,T)=>{h=h.insert(_,T.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=bs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,At()))}populateOverlays(e,t,s){const a=[];return s.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((h,_)=>{t.set(h,_)})})}computeViews(e,t,s,a){let l=hi();const h=ql(),_=ql();return t.forEach((T,M)=>{const V=s.get(M.key);a.has(M.key)&&(void 0===V||V.mutation instanceof Lo)?l=l.insert(M.key,M):void 0!==V&&(h.set(M.key,V.mutation.getFieldMask()),pc(V.mutation,M,V.mutation.getFieldMask(),fn.now()))}),this.recalculateAndSaveOverlays(e,l).next(T=>(T.forEach((M,V)=>h.set(M,V)),t.forEach((M,V)=>{var $;return _.set(M,new V_(V,null!==($=h.get(M))&&void 0!==$?$:null))}),_))}recalculateAndSaveOverlays(e,t){const s=ql();let a=new Vn((h,_)=>h-_),l=At();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const _ of h)_.keys().forEach(T=>{const M=t.get(T);if(null===M)return;let V=s.get(T)||es.empty();V=_.applyToLocalView(M,V),s.set(T,V);const $=(a.get(_.batchId)||At()).add(T);a=a.insert(_.batchId,$)})}).next(()=>{const h=[],_=a.getReverseIterator();for(;_.hasNext();){const T=_.getNext(),M=T.key,V=T.value,$=bm();V.forEach(te=>{if(!l.has(te)){const me=_m(t.get(te),s.get(te));null!==me&&$.set(te,me),l=l.add(te)}}),h.push(this.documentOverlayCache.saveOverlays(e,M,$))}return ae.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return je.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function hm(r){return null!==r.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(l=>{const h=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):ae.resolve(bs());let _=-1,T=l;return h.next(M=>ae.forEach(M,(V,$)=>(_<$.largestBatchId&&(_=$.largestBatchId),l.get(V)?ae.resolve():this.getBaseDocument(e,V,$).next(te=>{T=T.insert(V,te)}))).next(()=>this.populateOverlays(e,M,l)).next(()=>this.computeViews(e,T,M,At())).next(V=>({batchId:_,changes:Em(V)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new je(t)).next(s=>{let a=Bo();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let l=Bo();return this.indexManager.getCollectionParents(e,a).next(h=>ae.forEach(h,_=>{const T=(M=t,V=_.child(a),new ko(V,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt));var M,V;return this.getDocumentsMatchingCollectionQuery(e,T,s).next(M=>{M.forEach((V,$)=>{l=l.insert(V,$)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.remoteDocumentCache.getAllFromCollection(e,t.path,s).next(l=>(a=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId))).next(l=>{l.forEach((_,T)=>{const M=T.getKey();null===a.get(M)&&(a=a.insert(M,yn.newInvalidDocument(M)))});let h=Bo();return a.forEach((_,T)=>{const M=l.get(_);void 0!==M&&pc(M.mutation,T,es.empty(),fn.now()),Xd(t,T)&&(h=h.insert(_,T))}),h})}getBaseDocument(e,t,s){return null===s||1===s.mutation.type?this.remoteDocumentCache.getEntry(e,t):ae.resolve(yn.newInvalidDocument(t))}}class oy{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ae.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var s;return this.Zn.set(t.id,{id:(s=t).id,version:s.version,createTime:nt(s.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(s=t).name,query:yh(s.bundledQuery),readTime:nt(s.readTime)}),ae.resolve();var s}}class B_{constructor(){this.overlays=new Vn(je.comparator),this.es=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const s=bs();return ae.forEach(t,a=>this.getOverlay(e,a).next(l=>{null!==l&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,l)=>{this.ue(e,t,l)}),ae.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.es.get(s);return void 0!==a&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(s)),ae.resolve()}getOverlaysForCollection(e,t,s){const a=bs(),l=t.length+1,h=new je(t.child("")),_=this.overlays.getIteratorFrom(h);for(;_.hasNext();){const T=_.getNext().value,M=T.getKey();if(!t.isPrefixOf(M.path))break;M.path.length===l&&T.largestBatchId>s&&a.set(T.getKey(),T)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new Vn((M,V)=>M-V);const h=this.overlays.getIterator();for(;h.hasNext();){const M=h.getNext().value;if(M.getKey().getCollectionGroup()===t&&M.largestBatchId>s){let V=l.get(M.largestBatchId);null===V&&(V=bs(),l=l.insert(M.largestBatchId,V)),V.set(M.getKey(),M)}}const _=bs(),T=l.getIterator();for(;T.hasNext()&&(T.getNext().value.forEach((M,V)=>_.set(M,V)),!(_.size()>=a)););return ae.resolve(_)}ue(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const h=this.es.get(a.largestBatchId).delete(s.key);this.es.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new zm(t,s));let l=this.es.get(t);void 0===l&&(l=At(),this.es.set(t,l)),this.es.set(t,l.add(s.key))}}class _p{constructor(){this.ns=new Zt(xr.ss),this.rs=new Zt(xr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const s=new xr(e,t);this.ns=this.ns.add(s),this.rs=this.rs.add(s)}us(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.cs(new xr(e,t))}hs(e,t){e.forEach(s=>this.removeReference(s,t))}ls(e){const t=new je(new Gt([])),s=new xr(t,e),a=new xr(t,e+1),l=[];return this.rs.forEachInRange([s,a],h=>{this.cs(h),l.push(h.key)}),l}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new je(new Gt([])),s=new xr(t,e),a=new xr(t,e+1);let l=At();return this.rs.forEachInRange([s,a],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new xr(e,0),s=this.ns.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class xr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return je.comparator(e.key,t.key)||Tt(e._s,t._s)}static os(e,t){return Tt(e._s,t._s)||je.comparator(e.key,t.key)}}class ay{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Zt(xr.ss)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const l=this.ws;this.ws++;const h=new Gm(l,t,s,a);this.mutationQueue.push(h);for(const _ of a)this.gs=this.gs.add(new xr(_.key,l)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return ae.resolve(h)}lookupMutationBatch(e,t){return ae.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.ps(t+1),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new xr(t,0),a=new xr(t,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([s,a],h=>{const _=this.ys(h._s);l.push(_)}),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Zt(Tt);return t.forEach(a=>{const l=new xr(a,0),h=new xr(a,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,h],_=>{s=s.add(_._s)})}),ae.resolve(this.Is(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;je.isDocumentKey(l)||(l=l.child(""));const h=new xr(new je(l),0);let _=new Zt(Tt);return this.gs.forEachWhile(T=>{const M=T.key.path;return!!s.isPrefixOf(M)&&(M.length===a&&(_=_.add(T._s)),!0)},h),ae.resolve(this.Is(_))}Is(e){const t=[];return e.forEach(s=>{const a=this.ys(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Et(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let s=this.gs;return ae.forEach(t.mutations,a=>{const l=new xr(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.gs=s})}An(e){}containsKey(e,t){const s=new xr(t,0),a=this.gs.firstAfterOrEqual(s);return ae.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return ae.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class U_{constructor(e){this.Es=e,this.docs=new Vn(je.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,h=this.Es(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ae.resolve(s?s.document.mutableCopy():yn.newInvalidDocument(t))}getEntries(e,t){let s=hi();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():yn.newInvalidDocument(a))}),ae.resolve(s)}getAllFromCollection(e,t,s){let a=hi();const l=new je(t.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:_,value:{document:T}}=h.getNext();if(!t.isPrefixOf(_.path))break;_.path.length>t.length+1||ec(Yg(T),s)<=0||(a=a.insert(T.key,T.mutableCopy()))}return ae.resolve(a)}getAllFromCollectionGroup(e,t,s,a){et()}As(e,t){return ae.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new uy(this)}getSize(e){return ae.resolve(this.size)}}class uy extends class ny{constructor(){this.changes=new Vo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?ae.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Yn.addEntry(e,a)):this.Yn.removeEntry(s)}),ae.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class j_{constructor(e){this.persistence=e,this.Rs=new Vo(t=>Sa(t),Bl),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new _p,this.targetCount=0,this.vs=As.Pn()}forEachTarget(e,t){return this.Rs.forEach((s,a)=>t(a)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.bs&&(this.bs=t),ae.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new As(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Dn(t),ae.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.Rs.forEach((h,_)=>{_.sequenceNumber<=t&&null===s.get(_.targetId)&&(this.Rs.delete(h),l.push(this.removeMatchingKeysForTargetId(e,_.targetId)),a++)}),ae.waitFor(l).next(()=>a)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const s=this.Rs.get(t)||null;return ae.resolve(s)}addMatchingKeys(e,t,s){return this.Ps.us(t,s),ae.resolve()}removeMatchingKeys(e,t,s){this.Ps.hs(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(h=>{l.push(a.markPotentiallyOrphaned(e,h))}),ae.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ps.ds(t);return ae.resolve(s)}containsKey(e,t){return ae.resolve(this.Ps.containsKey(t))}}class cy{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new di(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new j_(this),this.indexManager=new R_,this.remoteDocumentCache=new U_(s=>this.referenceDelegate.xs(s)),this.It=new Jl(t),this.Ns=new oy(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new B_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Vs[e.toKey()];return s||(s=new ay(t,this.referenceDelegate),this.Vs[e.toKey()]=s),s}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,s){Re("MemoryPersistence","Starting transaction:",e);const a=new ly(this.Ss.next());return this.referenceDelegate.ks(),s(a).next(l=>this.referenceDelegate.Ms(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Os(e,t){return ae.or(Object.values(this.Vs).map(s=>()=>s.containsKey(e,t)))}}class ly extends class Gf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class nd{constructor(e){this.persistence=e,this.Fs=new _p,this.$s=null}static Bs(e){return new nd(e)}get Ls(){if(this.$s)return this.$s;throw et()}addReference(e,t,s){return this.Fs.addReference(s,t),this.Ls.delete(s.toString()),ae.resolve()}removeReference(e,t,s){return this.Fs.removeReference(s,t),this.Ls.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(a=>this.Ls.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.Ls.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Ls,s=>{const a=je.fromPath(s);return this.Us(e,a).next(l=>{l||t.removeEntry(a,mt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(s=>{s?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ae.or([()=>ae.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class Cp{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Si=s,this.Di=a}static Ci(e,t){let s=At(),a=At();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Cp(e,t.fromCache,s,a)}}class dy{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.ki(e,t).next(l=>l||this.Mi(e,t,a,s)).next(l=>l||this.Oi(e,t))}ki(e,t){if(lm(t))return ae.resolve(null);let s=Pi(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Fi(t,null,"F"),s=Pi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=At(...l);return this.Ni.getDocuments(e,h).next(_=>this.indexManager.getMinOffset(e,s).next(T=>{const M=this.Fi(t,_);return this.$i(t,M,h,T.readTime)?this.ki(e,Fi(t,null,"F")):this.Bi(e,M,t,T)}))})))}Mi(e,t,s,a){return lm(t)||a.isEqual(mt.min())?this.Oi(e,t):this.Ni.getDocuments(e,s).next(l=>{const h=this.Fi(t,l);return this.$i(t,h,s,a)?this.Oi(e,t):(xl()<=Dt.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Jf(t)),this.Bi(e,h,t,function wa(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=mt.fromTimestamp(1e9===s?new fn(t+1,0):new fn(t,s));return new li(a,je.empty(),e)}(a,-1)))})}Fi(e,t){let s=new Zt(lc(e));return t.forEach((a,l)=>{Xd(e,l)&&(s=s.add(l))}),s}$i(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Oi(e,t){return xl()<=Dt.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",Jf(t)),this.Ni.getDocumentsMatchingQuery(e,t,li.min())}Bi(e,t,s,a){return this.Ni.getDocumentsMatchingQuery(e,s,a).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}class $_{constructor(e,t,s,a){this.persistence=e,this.Li=t,this.It=a,this.Ui=new Vn(Tt),this.qi=new Vo(l=>Sa(l),Bl),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(s)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ih(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function hy(r,e){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,g.Z)(function*(r,e){const t=Ge(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,t.Qi(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],_=[];let T=At();for(const M of a){h.push(M.batchId);for(const V of M.mutations)T=T.add(V.key)}for(const M of l){_.push(M.batchId);for(const V of M.mutations)T=T.add(V.key)}return t.localDocuments.getDocuments(s,T).next(M=>({ji:M,removedBatchIds:h,addedBatchIds:_}))})})}),Ep.apply(this,arguments)}function xh(r,e){const t=Ge(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.Gi.newChangeBuffer({trackRemovals:!0});return function(h,_,T,M){const V=T.batch,$=V.keys();let te=ae.resolve();return $.forEach(me=>{te=te.next(()=>M.getEntry(_,me)).next(we=>{const $e=T.docVersions.get(me);Et(null!==$e),we.version.compareTo($e)<0&&(V.applyToRemoteDocument(we,T),we.isValidDocument()&&(we.setReadTime(T.commitVersion),M.addEntry(we)))})}),te.next(()=>h.mutationQueue.removeMutationBatch(_,V))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(h){let _=At();for(let T=0;T<h.mutationResults.length;++T)h.mutationResults[T].transformResults.length>0&&(_=_.add(h.batch.mutations[T].key));return _}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function Ah(r){const e=Ge(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function G_(r,e){const t=Ge(r),s=e.snapshotVersion;let a=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Gi.newChangeBuffer({trackRemovals:!0});a=t.Ui;const _=[];e.targetChanges.forEach((V,$)=>{const te=a.get($);if(!te)return;_.push(t.Cs.removeMatchingKeys(l,V.removedDocuments,$).next(()=>t.Cs.addMatchingKeys(l,V.addedDocuments,$)));let me=te.withSequenceNumber(l.currentSequenceNumber);var we,$e,rt;e.targetMismatches.has($)?me=me.withResumeToken(hr.EMPTY_BYTE_STRING,mt.min()).withLastLimboFreeSnapshotVersion(mt.min()):V.resumeToken.approximateByteSize()>0&&(me=me.withResumeToken(V.resumeToken,s)),a=a.insert($,me),$e=me,rt=V,(0===(we=te).resumeToken.approximateByteSize()||$e.snapshotVersion.toMicroseconds()-we.snapshotVersion.toMicroseconds()>=3e8||rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0)&&_.push(t.Cs.updateTargetData(l,me))});let T=hi(),M=At();if(e.documentUpdates.forEach(V=>{e.resolvedLimboDocuments.has(V)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(l,V))}),_.push(function Mh(r,e,t){let s=At(),a=At();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let h=hi();return t.forEach((_,T)=>{const M=l.get(_);T.isFoundDocument()!==M.isFoundDocument()&&(a=a.add(_)),T.isNoDocument()&&T.version.isEqual(mt.min())?(e.removeEntry(_,T.readTime),h=h.insert(_,T)):!M.isValidDocument()||T.version.compareTo(M.version)>0||0===T.version.compareTo(M.version)&&M.hasPendingWrites?(e.addEntry(T),h=h.insert(_,T)):Re("LocalStore","Ignoring outdated watch update for ",_,". Current version:",M.version," Watch version:",T.version)}),{Wi:h,zi:a}})}(l,h,e.documentUpdates).next(V=>{T=V.Wi,M=V.zi})),!s.isEqual(mt.min())){const V=t.Cs.getLastRemoteSnapshotVersion(l).next($=>t.Cs.setTargetsMetadata(l,l.currentSequenceNumber,s));_.push(V)}return ae.waitFor(_).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,T,M)).next(()=>T)}).then(l=>(t.Ui=a,l))}function fy(r,e){const t=Ge(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function sd(r,e){const t=Ge(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Cs.getTargetData(s,e).next(l=>l?(a=l,ae.resolve(a)):t.Cs.allocateTargetId(s).next(h=>(a=new Ss(e,h,0,s.currentSequenceNumber),t.Cs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ui.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(s.targetId,s),t.qi.set(e,s.targetId)),s})}function od(r,e,t){return ad.apply(this,arguments)}function ad(){return ad=(0,g.Z)(function*(r,e,t){const s=Ge(r),a=s.Ui.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!Ri(h))throw h;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ui=s.Ui.remove(e),s.qi.delete(a.target)}),ad.apply(this,arguments)}function bp(r,e,t){const s=Ge(r);let a=mt.min(),l=At();return s.persistence.runTransaction("Execute query","readonly",h=>function(_,T,M){const V=Ge(_),$=V.qi.get(M);return void 0!==$?ae.resolve(V.Ui.get($)):V.Cs.getTargetData(T,M)}(s,h,Pi(e)).next(_=>{if(_)return a=_.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(h,_.targetId).next(T=>{l=T})}).next(()=>s.Li.getDocumentsMatchingQuery(h,e,t?a:mt.min(),t?l:At())).next(_=>(function Tp(r,e,t){let s=mt.min();t.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.Ki.set(e,s)}(s,function fm(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}(e),_),{documents:_,Hi:l})))}class Au{constructor(){this.activeTargetIds=Wl()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z_{constructor(){this.Lr=new Au,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,s){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Au,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class q_{qr(e){}shutdown(){}}class W_{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const K_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Y_{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Z_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,s,a,l){const h=this.ao(e,t);Re("RestConnection","Sending: ",h,s);const _={};return this.ho(_,a,l),this.lo(e,h,_,s).then(T=>(Re("RestConnection","Received: ",T),T),T=>{throw Al("RestConnection",`${e} failed with error: `,T,"url: ",h,"request:",s),T})}fo(e,t,s,a,l,h){return this.co(e,t,s,a,l)}ho(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Tl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}ao(e,t){return`${this.oo}/v1/${t}:${K_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,s,a){return new Promise((l,h)=>{const _=new Gg;_.listenOnce(Hd.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Uf.NO_ERROR:const M=_.getResponseJson();Re("Connection","XHR received:",JSON.stringify(M)),l(M);break;case Uf.TIMEOUT:Re("Connection",'RPC "'+e+'" timed out'),h(new Ae(de.DEADLINE_EXCEEDED,"Request time out"));break;case Uf.HTTP_ERROR:const V=_.getStatus();if(Re("Connection",'RPC "'+e+'" failed with status:',V,"response text:",_.getResponseText()),V>0){const $=_.getResponseJson().error;if($&&$.status&&$.message){const te=function(me){const we=me.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(we)>=0?we:de.UNKNOWN}($.status);h(new Ae(te,$.message))}else h(new Ae(de.UNKNOWN,"Server responded with status "+_.getStatus()))}else h(new Ae(de.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{Re("Connection",'RPC "'+e+'" completed.')}});const T=JSON.stringify(a);_.send(t,"POST",T,s,15)})}_o(e,t,s){const a=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Wv(),h=Kv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new Il({})),this.ho(_.initMessageHeaders,t,s),function it(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}()||function _e(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()||function ye(){return ke().indexOf("Electron/")>=0}()||function Ke(){const r=ke();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}()||function Se(){return ke().indexOf("MSAppHost/")>=0}()||function Kt(){const r="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof r&&void 0!==r.id}()||(_.httpHeadersOverwriteParam="$httpHeaders");const T=a.join("");Re("Connection","Creating WebChannel: "+T,_);const M=l.createWebChannel(T,_);let V=!1,$=!1;const te=new Y_({Hr:we=>{$?Re("Connection","Not sending because WebChannel is closed:",we):(V||(Re("Connection","Opening WebChannel transport."),M.open(),V=!0),Re("Connection","WebChannel sending:",we),M.send(we))},Jr:()=>M.close()}),me=(we,$e,rt)=>{we.listen($e,Xt=>{try{rt(Xt)}catch(gn){setTimeout(()=>{throw gn},0)}})};return me(M,Sl.EventType.OPEN,()=>{$||Re("Connection","WebChannel transport opened.")}),me(M,Sl.EventType.CLOSE,()=>{$||($=!0,Re("Connection","WebChannel transport closed"),te.io())}),me(M,Sl.EventType.ERROR,we=>{$||($=!0,Al("Connection","WebChannel transport errored:",we),te.io(new Ae(de.UNAVAILABLE,"The operation could not be completed")))}),me(M,Sl.EventType.MESSAGE,we=>{var $e;if(!$){const rt=we.data[0];Et(!!rt);const Xt=rt,gn=Xt.error||(null===($e=Xt[0])||void 0===$e?void 0:$e.error);if(gn){Re("Connection","WebChannel received error:",gn);const vn=gn.status;let pr=function(dn){const Wn=Bn[dn];if(void 0!==Wn)return zl(Wn)}(vn),_n=gn.message;void 0===pr&&(pr=de.INTERNAL,_n="Unknown error status: "+vn+" with message "+gn.message),$=!0,te.io(new Ae(pr,_n)),M.close()}else Re("Connection","WebChannel received:",rt),te.ro(rt)}}),me(h,$g.STAT_EVENT,we=>{we.stat===ws.PROXY?Re("Connection","Detected buffering proxy"):we.stat===ws.NOPROXY&&Re("Connection","Detected no buffering proxy")}),setTimeout(()=>{te.so()},0),te}}function ld(){return typeof document<"u"?document:null}function Mu(r){return new Nm(r,!0)}class Np{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Hs=e,this.timerId=t,this.wo=s,this.mo=a,this.yo=l,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),s=Math.max(0,Date.now()-this.To),a=Math.max(0,t-s);a>0&&Re("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,a,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Oh{constructor(e,t,s,a,l,h,_,T){this.Hs=e,this.Po=s,this.vo=a,this.Vo=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=_,this.listener=T,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Np(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,g.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,g.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var s=this;return(0,g.Z)(function*(){s.Lo(),s.Uo(),s.xo.cancel(),s.So++,4!==e?s.xo.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(nr(t.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),s.xo.Eo()):t&&t.code===de.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.qo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.So===t&&this.Go(s,a)},s=>{e(()=>{const a=new Ae(de.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Qo(a)})})}Go(e,t){const s=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{s(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(a=>{s(()=>this.Qo(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,g.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Q_ extends Oh{constructor(e,t,s,a,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,h),this.It=l}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Fm(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(T=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===T?1:"REMOVE"===T?2:"CURRENT"===T?3:"RESET"===T?4:et(),a=e.targetChange.targetIds||[],l=function(T,M){return T.gt?(Et(void 0===M||"string"==typeof M),hr.fromBase64String(M||"")):(Et(void 0===M||M instanceof Uint8Array),hr.fromUint8Array(M||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,_=h&&function(T){const M=void 0===T.code?de.UNKNOWN:zl(T.code);return new Ae(M,T.message||"")}(h);t=new ts(s,a,l,_||null)}else if("documentChange"in e){const s=e.documentChange,a=so(r,s.document.name),l=nt(s.document.updateTime),h=new Lr({mapValue:{fields:s.document.fields}}),_=yn.newFoundDocument(a,l,h);t=new ah(s.targetIds||[],s.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const s=e.documentDelete,a=so(r,s.document),l=s.readTime?nt(s.readTime):mt.min(),h=yn.newNoDocument(a,l);t=new ah([],s.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const s=e.documentRemove,a=so(r,s.document);t=new ah([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return et();{const s=e.filter,l=new Cm(s.count||0);t=new Sm(s.targetId,l)}}var T;return t}(this.It,e),s=function(a){if(!("targetChange"in a))return mt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?mt.min():l.readTime?nt(l.readTime):mt.min()}(e);return this.listener.Wo(t,s)}zo(e){const t={};t.database=Zl(this.It),t.addTarget=function(a,l){let h;const _=l.target;return h=Sr(_)?{documents:ch(a,_)}:{query:lh(a,_)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=Om(a,l.resumeToken):l.snapshotVersion.compareTo(mt.min())>0&&(h.readTime=Yl(a,l.snapshotVersion.toTimestamp())),h}(this.It,e);const s=function AD(r,e){const t=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return et()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Bo(t)}Ho(e){const t={};t.database=Zl(this.It),t.removeTarget=e,this.Bo(t)}}class J_ extends Oh{constructor(e,t,s,a,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,h),this.It=l,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function w_(r,e){return r&&r.length>0?(Et(void 0!==e),r.map(t=>function(s,a){let l=nt(s.updateTime?s.updateTime:a);return l.isEqual(mt.min())&&(l=nt(a)),new Xf(l,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=nt(e.commitTime);return this.listener.Zo(s,t)}return Et(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Zl(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>function yc(r,e){let t;if(e instanceof wu)t={update:Rm(r,e.key,e.value)};else if(e instanceof Cu)t={delete:mc(r,e.key)};else if(e instanceof Lo)t={update:Rm(r,e.key,e.data),updateMask:I_(e.fieldMask)};else{if(!(e instanceof sh))return et();t={verify:mc(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,l){const h=l.transform;if(h instanceof yu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof vu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof _u)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof hc)return{fieldPath:l.field.canonicalString(),increment:h.yt};throw et()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:D_(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:et()),t;var a}(this.It,s))};this.Bo(t)}}class X_ extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=s,this.It=a,this.nu=!1}su(){if(this.nu)throw new Ae(de.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.Vo.co(e,t,s,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ae(de.UNKNOWN,a.toString())})}fo(e,t,s,a){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.Vo.fo(e,t,s,l,h,a)).catch(l=>{throw"FirebaseError"===l.name?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ae(de.UNKNOWN,l.toString())})}terminate(){this.nu=!0}}class e0{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(nr(t),this.ou=!1):Re("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class t0{constructor(e,t,s,a,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=l,this.mu.qr(_=>{s.enqueueAndForget((0,g.Z)(function*(){var T;is(h)&&(Re("RemoteStore","Restarting streams for network reachability change."),yield(T=(0,g.Z)(function*(M){const V=Ge(M);V._u.add(4),yield ns(V),V.gu.set("Unknown"),V._u.delete(4),yield dd(V)}),function(M){return T.apply(this,arguments)})(h))}))}),this.gu=new e0(s,a)}}function dd(r){return Rc.apply(this,arguments)}function Rc(){return Rc=(0,g.Z)(function*(r){if(is(r))for(const e of r.wu)yield e(!0)}),Rc.apply(this,arguments)}function ns(r){return my.apply(this,arguments)}function my(){return my=(0,g.Z)(function*(r){for(const e of r.wu)yield e(!1)}),my.apply(this,arguments)}function Ta(r,e){const t=Ge(r);t.du.has(e.targetId)||(t.du.set(e.targetId,e),rs(t)?Rp(t):Na(t).ko()&&Op(t,e))}function hd(r,e){const t=Ge(r),s=Na(t);t.du.delete(e),s.ko()&&Rh(t,e),0===t.du.size&&(s.ko()?s.Fo():is(t)&&t.gu.set("Unknown"))}function Op(r,e){r.yu.Ot(e.targetId),Na(r).zo(e)}function Rh(r,e){r.yu.Ot(e),Na(r).Ho(e)}function Rp(r){r.yu=new xm({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),se:e=>r.du.get(e)||null}),Na(r).start(),r.gu.uu()}function rs(r){return is(r)&&!Na(r).No()&&r.du.size>0}function is(r){return 0===Ge(r)._u.size}function Vr(r){r.yu=void 0}function Nu(r){return Pc.apply(this,arguments)}function Pc(){return Pc=(0,g.Z)(function*(r){r.du.forEach((e,t)=>{Op(r,e)})}),Pc.apply(this,arguments)}function ss(r,e){return fd.apply(this,arguments)}function fd(){return fd=(0,g.Z)(function*(r,e){Vr(r),rs(r)?(r.gu.hu(e),Rp(r)):r.gu.set("Unknown")}),fd.apply(this,arguments)}function Fc(r,e,t){return xa.apply(this,arguments)}function xa(){return xa=(0,g.Z)(function*(r,e,t){if(r.gu.set("Online"),e instanceof ts&&2===e.state&&e.cause)try{yield(s=(0,g.Z)(function*(a,l){const h=l.cause;for(const _ of l.targetIds)a.du.has(_)&&(yield a.remoteSyncer.rejectListen(_,h),a.du.delete(_),a.yu.removeTarget(_))}),function(a,l){return s.apply(this,arguments)})(r,e)}catch(s){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield $o(r,s)}else if(e instanceof ah?r.yu.Gt(e):e instanceof Sm?r.yu.Yt(e):r.yu.Wt(e),!t.isEqual(mt.min()))try{const s=yield Ah(r.localStore);t.compareTo(s)>=0&&(yield function(a,l){const h=a.yu.te(l);return h.targetChanges.forEach((_,T)=>{if(_.resumeToken.approximateByteSize()>0){const M=a.du.get(T);M&&a.du.set(T,M.withResumeToken(_.resumeToken,l))}}),h.targetMismatches.forEach(_=>{const T=a.du.get(_);if(!T)return;a.du.set(_,T.withResumeToken(hr.EMPTY_BYTE_STRING,T.snapshotVersion)),Rh(a,_);const M=new Ss(T.target,_,1,T.sequenceNumber);Op(a,M)}),a.remoteSyncer.applyRemoteEvent(h)}(r,t))}catch(s){Re("RemoteStore","Failed to raise snapshot:",s),yield $o(r,s)}var s}),xa.apply(this,arguments)}function $o(r,e,t){return Aa.apply(this,arguments)}function Aa(){return Aa=(0,g.Z)(function*(r,e,t){if(!Ri(e))throw e;r._u.add(1),yield ns(r),r.gu.set("Offline"),t||(t=()=>Ah(r.localStore)),r.asyncQueue.enqueueRetryable((0,g.Z)(function*(){Re("RemoteStore","Retrying IndexedDB access"),yield t(),r._u.delete(1),yield dd(r)}))}),Aa.apply(this,arguments)}function Ou(r,e){return e().catch(t=>$o(r,t,e))}function Ns(r){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,g.Z)(function*(r){const e=Ge(r),t=lo(e);let s=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;kc(e);)try{const a=yield fy(e.localStore,s);if(null===a){0===e.fu.length&&t.Fo();break}s=a.batchId,Lc(e,a)}catch(a){yield $o(e,a)}Pp(e)&&Fp(e)}),Ma.apply(this,arguments)}function kc(r){return is(r)&&r.fu.length<10}function Lc(r,e){r.fu.push(e);const t=lo(r);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Pp(r){return is(r)&&!lo(r).No()&&r.fu.length>0}function Fp(r){lo(r).start()}function yy(r){return Ph.apply(this,arguments)}function Ph(){return Ph=(0,g.Z)(function*(r){lo(r).eu()}),Ph.apply(this,arguments)}function vy(r){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,g.Z)(function*(r){const e=lo(r);for(const t of r.fu)e.Xo(t.mutations)}),Fh.apply(this,arguments)}function _y(r,e,t){return kh.apply(this,arguments)}function kh(){return kh=(0,g.Z)(function*(r,e,t){const s=r.fu.shift(),a=gh.from(s,e,t);yield Ou(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Ns(r)}),kh.apply(this,arguments)}function Dy(r,e){return kp.apply(this,arguments)}function kp(){return kp=(0,g.Z)(function*(r,e){var t;e&&lo(r).Yo&&(yield(t=(0,g.Z)(function*(s,a){if(Gl(l=a.code)&&l!==de.ABORTED){const h=s.fu.shift();lo(s).Oo(),yield Ou(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,a)),yield Ns(s)}var l}),function(s,a){return t.apply(this,arguments)})(r,e)),Pp(r)&&Fp(r)}),kp.apply(this,arguments)}function wy(r,e){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,g.Z)(function*(r,e){const t=Ge(r);t.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const s=is(t);t._u.add(3),yield ns(t),s&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield dd(t)}),Lh.apply(this,arguments)}function Vh(){return Vh=(0,g.Z)(function*(r,e){const t=Ge(r);e?(t._u.delete(2),yield dd(t)):e||(t._u.add(2),yield ns(t),t.gu.set("Unknown"))}),Vh.apply(this,arguments)}function Na(r){return r.pu||(r.pu=function(e,t,s){const a=Ge(e);return a.su(),new Q_(t,a.Vo,a.authCredentials,a.appCheckCredentials,a.It,s)}(r.datastore,r.asyncQueue,{Yr:Nu.bind(null,r),Zr:ss.bind(null,r),Wo:Fc.bind(null,r)}),r.wu.push(function(){var e=(0,g.Z)(function*(t){t?(r.pu.Oo(),rs(r)?Rp(r):r.gu.set("Unknown")):(yield r.pu.stop(),Vr(r))});return function(t){return e.apply(this,arguments)}}())),r.pu}function lo(r){return r.Iu||(r.Iu=function(e,t,s){const a=Ge(e);return a.su(),new J_(t,a.Vo,a.authCredentials,a.appCheckCredentials,a.It,s)}(r.datastore,r.asyncQueue,{Yr:yy.bind(null,r),Zr:Dy.bind(null,r),tu:vy.bind(null,r),Zo:_y.bind(null,r)}),r.wu.push(function(){var e=(0,g.Z)(function*(t){t?(r.Iu.Oo(),yield Ns(r)):(yield r.Iu.stop(),r.fu.length>0&&(Re("RemoteStore",`Stopping write stream with ${r.fu.length} pending writes`),r.fu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Iu}class Vp{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,s,a,l){const h=Date.now()+s,_=new Vp(e,t,h,a,l);return _.start(s),_}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Go(r,e){if(nr("AsyncQueue",`${e}: ${r}`),Ri(r))return new Ae(de.UNAVAILABLE,`${e}: ${r}`);throw r}class zo{constructor(e){this.comparator=e?(t,s)=>e(t,s)||je.comparator(t.key,s.key):(t,s)=>je.comparator(t.key,s.key),this.keyedMap=Bo(),this.sortedSet=new Vn(this.comparator)}static emptySet(e){return new zo(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new zo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Bh{constructor(){this.Tu=new Vn(je.comparator)}track(e){const t=e.doc.key,s=this.Tu.get(t);s?0!==e.type&&3===s.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==s.type?this.Tu=this.Tu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Tu=this.Tu.remove(t):1===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):et():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Vc{constructor(e,t,s,a,l,h,_,T){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=_,this.excludesMetadataChanges=T}static fromInitialDocuments(e,t,s,a){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new Vc(e,t,zo.emptySet(t),l,s,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class Bp{constructor(){this.Au=void 0,this.listeners=[]}}class Up{constructor(){this.queries=new Vo(e=>Jd(e),mu),this.onlineState="Unknown",this.Ru=new Set}}function Uh(){return Uh=(0,g.Z)(function*(r,e){const t=Ge(r),s=e.query;let a=!1,l=t.queries.get(s);if(l||(a=!0,l=new Bp),a)try{l.Au=yield t.onListen(s)}catch(h){const _=Go(h,`Initialization of query '${Jf(e.query)}' failed`);return void e.onError(_)}t.queries.set(s,l),l.listeners.push(e),e.bu(t.onlineState),l.Au&&e.Pu(l.Au)&&Hh(t)}),Uh.apply(this,arguments)}function jh(){return jh=(0,g.Z)(function*(r,e){const t=Ge(r),s=e.query;let a=!1;const l=t.queries.get(s);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),a=0===l.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),jh.apply(this,arguments)}function Cy(r,e){const t=Ge(r);let s=!1;for(const a of e){const h=t.queries.get(a.query);if(h){for(const _ of h.listeners)_.Pu(a)&&(s=!0);h.Au=a}}s&&Hh(t)}function jp(r,e,t){const s=Ge(r),a=s.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);s.queries.delete(e)}function Hh(r){r.Ru.forEach(e=>{e.next()})}class Hp{constructor(e,t,s){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=s||{}}Pu(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Vc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Vc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class Iy{constructor(e){this.key=e}}class Sy{constructor(e){this.key=e}}class Ty{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=At(),this.mutatedKeys=At(),this.Ku=lc(e),this.Gu=new zo(this.Ku)}get Qu(){return this.Lu}ju(e,t){const s=t?t.Wu:new Bh,a=t?t.Gu:this.Gu;let l=t?t.mutatedKeys:this.mutatedKeys,h=a,_=!1;const T="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,M="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((V,$)=>{const te=a.get(V),me=Xd(this.query,$)?$:null,we=!!te&&this.mutatedKeys.has(te.key),$e=!!me&&(me.hasLocalMutations||this.mutatedKeys.has(me.key)&&me.hasCommittedMutations);let rt=!1;te&&me?te.data.isEqual(me.data)?we!==$e&&(s.track({type:3,doc:me}),rt=!0):this.zu(te,me)||(s.track({type:2,doc:me}),rt=!0,(T&&this.Ku(me,T)>0||M&&this.Ku(me,M)<0)&&(_=!0)):!te&&me?(s.track({type:0,doc:me}),rt=!0):te&&!me&&(s.track({type:1,doc:te}),rt=!0,(T||M)&&(_=!0)),rt&&(me?(h=h.add(me),l=$e?l.add(V):l.delete(V)):(h=h.delete(V),l=l.delete(V)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const V="F"===this.query.limitType?h.last():h.first();h=h.delete(V.key),l=l.delete(V.key),s.track({type:1,doc:V})}return{Gu:h,Wu:s,$i:_,mutatedKeys:l}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const l=e.Wu.Eu();l.sort((M,V)=>function($,te){const me=we=>{switch(we){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}};return me($)-me(te)}(M.type,V.type)||this.Ku(M.doc,V.doc)),this.Hu(s);const h=t?this.Ju():[],_=0===this.qu.size&&this.current?1:0,T=_!==this.Uu;return this.Uu=_,0!==l.length||T?{snapshot:new Vc(this.query,e.Gu,a,l,e.mutatedKeys,0===_,T,!1),Yu:h}:{Yu:h}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new Bh,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=At(),this.Gu.forEach(s=>{this.Xu(s.key)&&(this.qu=this.qu.add(s.key))});const t=[];return e.forEach(s=>{this.qu.has(s)||t.push(new Sy(s))}),this.qu.forEach(s=>{e.has(s)||t.push(new Iy(s))}),t}Zu(e){this.Lu=e.Hi,this.qu=At();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return Vc.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class xy{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class $h{constructor(e){this.key=e,this.ec=!1}}class Ay{constructor(e,t,s,a,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.nc={},this.sc=new Vo(_=>Jd(_),mu),this.ic=new Map,this.rc=new Set,this.oc=new Vn(je.comparator),this.uc=new Map,this.cc=new _p,this.ac={},this.hc=new Map,this.lc=As.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function My(r,e){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,g.Z)(function*(r,e){const t=sf(r);let s,a;const l=t.sc.get(e);if(l)s=l.targetId,t.sharedClientState.addLocalQueryTarget(s),a=l.view.tc();else{const h=yield sd(t.localStore,Pi(e));t.isPrimaryClient&&Ta(t.remoteStore,h);const _=t.sharedClientState.addLocalQueryTarget(h.targetId);s=h.targetId,a=yield zh(t,e,s,"current"===_)}return a}),Gh.apply(this,arguments)}function zh(r,e,t,s){return qh.apply(this,arguments)}function qh(){return qh=(0,g.Z)(function*(r,e,t,s){r.dc=(V,$,te)=>{return(me=(0,g.Z)(function*(we,$e,rt,Xt){let gn=$e.view.ju(rt);gn.$i&&(gn=yield bp(we.localStore,$e.query,!1).then(({documents:_n})=>$e.view.ju(_n,gn)));const vn=Xt&&Xt.targetChanges.get($e.targetId),pr=$e.view.applyChanges(gn,we.isPrimaryClient,vn);return Qh(we,$e.targetId,pr.Yu),pr.snapshot}),function(we,$e,rt,Xt){return me.apply(this,arguments)})(r,V,$,te);var me};const a=yield bp(r.localStore,e,!0),l=new Ty(e,a.Hi),h=l.ju(a.documents),_=gc.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState),T=l.applyChanges(h,r.isPrimaryClient,_);Qh(r,t,T.Yu);const M=new xy(e,t,l);return r.sc.set(e,M),r.ic.has(t)?r.ic.get(t).push(e):r.ic.set(t,[e]),T.snapshot}),qh.apply(this,arguments)}function Ny(r,e){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,g.Z)(function*(r,e){const t=Ge(r),s=t.sc.get(e),a=t.ic.get(s.targetId);if(a.length>1)return t.ic.set(s.targetId,a.filter(l=>!mu(l,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield od(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),hd(t.remoteStore,s.targetId),Bc(t,s.targetId)}).catch(Cs))):(Bc(t,s.targetId),yield od(t.localStore,s.targetId,!0))}),Wh.apply(this,arguments)}function Ry(){return Ry=(0,g.Z)(function*(r,e,t){const s=Uc(r);try{const a=yield function(l,h){const _=Ge(l),T=fn.now(),M=h.reduce((te,me)=>te.add(me.key),At());let V,$;return _.persistence.runTransaction("Locally write mutations","readwrite",te=>{let me=hi(),we=At();return _.Gi.getEntries(te,M).next($e=>{me=$e,me.forEach((rt,Xt)=>{Xt.isValidDocument()||(we=we.add(rt))})}).next(()=>_.localDocuments.getOverlayedDocuments(te,me)).next($e=>{V=$e;const rt=[];for(const Xt of h){const gn=Du(Xt,V.get(Xt.key).overlayedDocument);null!=gn&&rt.push(new Lo(Xt.key,gn,Zd(gn.value.mapValue),In.exists(!0)))}return _.mutationQueue.addMutationBatch(te,T,rt,h)}).next($e=>{$=$e;const rt=$e.applyToLocalDocumentSet(V,we);return _.documentOverlayCache.saveOverlays(te,$e.batchId,rt)})}).then(()=>({batchId:$.batchId,changes:Em(V)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(l,h,_){let T=l.ac[l.currentUser.toKey()];T||(T=new Vn(Tt)),T=T.insert(h,_),l.ac[l.currentUser.toKey()]=T}(s,a.batchId,t),yield Ra(s,a.changes),yield Ns(s.remoteStore)}catch(a){const l=Go(a,"Failed to persist write");t.reject(l)}}),Ry.apply(this,arguments)}function Py(r,e){return zp.apply(this,arguments)}function zp(){return zp=(0,g.Z)(function*(r,e){const t=Ge(r);try{const s=yield G_(t.localStore,e);e.targetChanges.forEach((a,l)=>{const h=t.uc.get(l);h&&(Et(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.ec=!0:a.modifiedDocuments.size>0?Et(h.ec):a.removedDocuments.size>0&&(Et(h.ec),h.ec=!1))}),yield Ra(t,s,e)}catch(s){yield Cs(s)}}),zp.apply(this,arguments)}function qp(r,e,t){const s=Ge(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.sc.forEach((l,h)=>{const _=h.view.bu(e);_.snapshot&&a.push(_.snapshot)}),function(l,h){const _=Ge(l);_.onlineState=h;let T=!1;_.queries.forEach((M,V)=>{for(const $ of V.listeners)$.bu(h)&&(T=!0)}),T&&Hh(_)}(s.eventManager,e),a.length&&s.nc.Wo(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function n0(r,e,t){return qn.apply(this,arguments)}function qn(){return qn=(0,g.Z)(function*(r,e,t){const s=Ge(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.uc.get(e),l=a&&a.key;if(l){let h=new Vn(je.comparator);h=h.insert(l,yn.newNoDocument(l,mt.min()));const _=At().add(l),T=new Kl(mt.min(),new Map,new Zt(Tt),h,_);yield Py(s,T),s.oc=s.oc.remove(l),s.uc.delete(e),Jh(s)}else yield od(s.localStore,e,!1).then(()=>Bc(s,e,t)).catch(Cs)}),qn.apply(this,arguments)}function Fy(r,e){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,g.Z)(function*(r,e){const t=Ge(r),s=e.batch.batchId;try{const a=yield xh(t.localStore,e);Oa(t,s,null),Zh(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Ra(t,a)}catch(a){yield Cs(a)}}),Wp.apply(this,arguments)}function r0(r,e,t){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,g.Z)(function*(r,e,t){const s=Ge(r);try{const a=yield function(l,h){const _=Ge(l);return _.persistence.runTransaction("Reject batch","readwrite-primary",T=>{let M;return _.mutationQueue.lookupMutationBatch(T,h).next(V=>(Et(null!==V),M=V.keys(),_.mutationQueue.removeMutationBatch(T,V))).next(()=>_.mutationQueue.performConsistencyCheck(T)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(T,M,h)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(T,M)).next(()=>_.localDocuments.getDocuments(T,M))})}(s.localStore,e);Oa(s,e,t),Zh(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Ra(s,a)}catch(a){yield Cs(a)}}),Kh.apply(this,arguments)}function Zh(r,e){(r.hc.get(e)||[]).forEach(t=>{t.resolve()}),r.hc.delete(e)}function Oa(r,e,t){const s=Ge(r);let a=s.ac[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.ac[s.currentUser.toKey()]=a}}function Bc(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.ic.get(e))r.sc.delete(s),t&&r.nc._c(s,t);r.ic.delete(e),r.isPrimaryClient&&r.cc.ls(e).forEach(s=>{r.cc.containsKey(s)||ky(r,s)})}function ky(r,e){r.rc.delete(e.path.canonicalString());const t=r.oc.get(e);null!==t&&(hd(r.remoteStore,t),r.oc=r.oc.remove(e),r.uc.delete(t),Jh(r))}function Qh(r,e,t){for(const s of t)s instanceof Iy?(r.cc.addReference(s.key,e),o0(r,s)):s instanceof Sy?(Re("SyncEngine","Document no longer in limbo: "+s.key),r.cc.removeReference(s.key,e),r.cc.containsKey(s.key)||ky(r,s.key)):et()}function o0(r,e){const t=e.key,s=t.path.canonicalString();r.oc.get(t)||r.rc.has(s)||(Re("SyncEngine","New document in limbo: "+t),r.rc.add(s),Jh(r))}function Jh(r){for(;r.rc.size>0&&r.oc.size<r.maxConcurrentLimboResolutions;){const e=r.rc.values().next().value;r.rc.delete(e);const t=new je(Gt.fromString(e)),s=r.lc.next();r.uc.set(s,new $h(t)),r.oc=r.oc.insert(t,s),Ta(r.remoteStore,new Ss(Pi(Ei(t.path)),s,2,di.at))}}function Ra(r,e,t){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,g.Z)(function*(r,e,t){const s=Ge(r),a=[],l=[],h=[];var _;s.sc.isEmpty()||(s.sc.forEach((_,T)=>{h.push(s.dc(T,e,t).then(M=>{if(M){s.isPrimaryClient&&s.sharedClientState.updateQueryState(T.targetId,M.fromCache?"not-current":"current"),a.push(M);const V=Cp.Ci(T.targetId,M);l.push(V)}}))}),yield Promise.all(h),s.nc.Wo(a),yield(_=(0,g.Z)(function*(T,M){const V=Ge(T);try{yield V.persistence.runTransaction("notifyLocalViewChanges","readwrite",$=>ae.forEach(M,te=>ae.forEach(te.Si,me=>V.persistence.referenceDelegate.addReference($,te.targetId,me)).next(()=>ae.forEach(te.Di,me=>V.persistence.referenceDelegate.removeReference($,te.targetId,me)))))}catch($){if(!Ri($))throw $;Re("LocalStore","Failed to update sequence numbers: "+$)}for(const $ of M){const te=$.targetId;if(!$.fromCache){const me=V.Ui.get(te),$e=me.withLastLimboFreeSnapshotVersion(me.snapshotVersion);V.Ui=V.Ui.insert(te,$e)}}}),function(T,M){return _.apply(this,arguments)})(s.localStore,l))}),Xh.apply(this,arguments)}function Kp(r,e){return os.apply(this,arguments)}function os(){return os=(0,g.Z)(function*(r,e){const t=Ge(r);if(!t.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const s=yield hy(t.localStore,e);t.currentUser=e,(a=t).hc.forEach(h=>{h.forEach(_=>{_.reject(new Ae(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.hc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Ra(t,s.ji)}var a}),os.apply(this,arguments)}function a0(r,e){const t=Ge(r),s=t.uc.get(e);if(s&&s.ec)return At().add(s.key);{let a=At();const l=t.ic.get(e);if(!l)return a;for(const h of l){const _=t.sc.get(h);a=a.unionWith(_.view.Qu)}return a}}function sf(r){const e=Ge(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Py.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=a0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n0.bind(null,e),e.nc.Wo=Cy.bind(null,e.eventManager),e.nc._c=jp.bind(null,e.eventManager),e}function Uc(r){const e=Ge(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r0.bind(null,e),e}class Uy{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,g.Z)(function*(){t.It=Mu(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return function Th(r,e,t,s){return new $_(r,e,t,s)}(this.persistence,new dy,e.initialUser,this.It)}gc(e){return new cy(nd.Bs,this.It)}mc(e){return new z_}terminate(){var e=this;return(0,g.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jc{initialize(e,t){var s=this;return(0,g.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>qp(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=Kp.bind(null,s.syncEngine),yield function Lp(r,e){return Vh.apply(this,arguments)}(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Up}createDatastore(e){const t=Mu(e.databaseInfo.databaseId),s=new Z_(e.databaseInfo);return new X_(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,l=_=>qp(this.syncEngine,_,0),h=W_.C()?new W_:new q_,new t0(t,s,a,l,h);var t,s,a,l,h}createSyncEngine(e,t){return function(s,a,l,h,_,T,M){const V=new Ay(s,a,l,h,_,T);return M&&(V.fc=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,g.Z)(function*(t){const s=Ge(t);Re("RemoteStore","RemoteStore shutting down."),s._u.add(5),yield ns(s),s.mu.shutdown(),s.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class yd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class zy{constructor(e,t,s,a){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Fr.UNAUTHENTICATED,this.clientId=qg.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var h=(0,g.Z)(function*(_){Re("FirestoreClient","Received user=",_.uid),yield l.authCredentialListener(_),l.user=_});return function(_){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(s,h=>(Re("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,g.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,g.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Go(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Xp(r,e){return af.apply(this,arguments)}function af(){return af=(0,g.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,g.Z)(function*(l){s.isEqual(l)||(yield hy(e.localStore,l),s=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e}),af.apply(this,arguments)}function qy(r,e){return eg.apply(this,arguments)}function eg(){return eg=(0,g.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield tg(r);Re("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>wy(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,l)=>wy(e.remoteStore,l)),r.onlineComponents=e}),eg.apply(this,arguments)}function tg(r){return ng.apply(this,arguments)}function ng(){return ng=(0,g.Z)(function*(r){return r.offlineComponents||(Re("FirestoreClient","Using default OfflineComponentProvider"),yield Xp(r,new Uy)),r.offlineComponents}),ng.apply(this,arguments)}function uf(r){return rg.apply(this,arguments)}function rg(){return rg=(0,g.Z)(function*(r){return r.onlineComponents||(Re("FirestoreClient","Using default OnlineComponentProvider"),yield qy(r,new jc)),r.onlineComponents}),rg.apply(this,arguments)}function sg(){return sg=(0,g.Z)(function*(r){const e=yield uf(r),t=e.eventManager;return t.onListen=My.bind(null,e.syncEngine),t.onUnlisten=Ny.bind(null,e.syncEngine),t}),sg.apply(this,arguments)}function Zy(r,e,t={}){const s=new Ir;return r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function(a,l,h,_,T){const M=new yd({next:$=>{l.enqueueAndForget(()=>function gd(r,e){return jh.apply(this,arguments)}(a,V)),$.fromCache&&"server"===_.source?T.reject(new Ae(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):T.resolve($)},error:$=>T.reject($)}),V=new Hp(h,M,{includeMetadataChanges:!0,Nu:!0});return function pd(r,e){return Uh.apply(this,arguments)}(a,V)}(yield function Hc(r){return sg.apply(this,arguments)}(r),r.asyncQueue,e,t,s)})),s.promise}const og=new Map;function lf(r,e,t){if(!t)throw new Ae(de.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function ag(r){if(!je.isDocumentKey(r))throw new Ae(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ug(r){if(je.isDocumentKey(r))throw new Ae(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function vd(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":et()}function qt(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ae(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vd(r);throw new Ae(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class nv{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ae(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ae(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function tv(r,e,t,s){if(!0===e&&!0===s)throw new Ae(de.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _d{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ae(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ae(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nv(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Yv;switch(t.type){case"gapi":return new Hf(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ae(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=og.get(e);t&&(Re("ComponentProvider","Removing Datastore"),og.delete(e),t.terminate())}(this),Promise.resolve()}}class sr{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sr(this.firestore,e,this._key)}}class Ar{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ar(this.firestore,e,this._query)}}class qo extends Ar{constructor(e,t,s){super(e,t,Ei(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sr(this.firestore,null,new je(e))}withConverter(e){return new qo(this.firestore,e,this._path)}}function ho(r,e,...t){if(r=pi(r),lf("collection","path",e),r instanceof _d){const s=Gt.fromString(e,...t);return ug(s),new qo(r,null,s)}{if(!(r instanceof sr||r instanceof qo))throw new Ae(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Gt.fromString(e,...t));return ug(s),new qo(r.firestore,null,s)}}function cg(r,e,...t){if(r=pi(r),1===arguments.length&&(e=qg.R()),lf("doc","path",e),r instanceof _d){const s=Gt.fromString(e,...t);return ag(s),new sr(r,null,new je(s))}{if(!(r instanceof sr||r instanceof qo))throw new Ae(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Gt.fromString(e,...t));return ag(s),new sr(r.firestore,r instanceof qo?r.converter:null,new je(s))}}class v0{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Np(this,"async_queue_retry"),this.jc=()=>{const t=ld();t&&Re("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=ld();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=ld();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Ir;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,g.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!Ri(t))throw t;Re("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(s=>{throw this.qc=s,this.Kc=!1,nr("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(s)),s}).then(s=>(this.Kc=!1,s))));return this.$c=t,t}enqueueAfterDelay(e,t,s){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const a=Vp.createAndSchedule(this,e,t,s,l=>this.Jc(l));return this.Uc.push(a),a}Wc(){this.qc&&et()}verifyOperationInProgress(){}Yc(){var e=this;return(0,g.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}class pn extends _d{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new v0,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||hg(this),this._firestoreClient.terminate()}}function Mr(r){return r._firestoreClient||hg(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function hg(r){var e;const t=r._freezeSettings(),s=(l=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Wf(r._databaseId,l,r._persistenceKey,(_=t).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams));var l,_;r._firestoreClient=new zy(r._authCredentials,r._appCheckCredentials,r._queue,s)}class Gc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ae(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fo(hr.fromBase64String(e))}catch(t){throw new Ae(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fo(hr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pg{constructor(e){this._methodName=e}}class hf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Tt(this._lat,e._lat)||Tt(this._long,e._long)}}const iv=/^__.*__$/;class E0{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Lo(e,this.data,this.fieldMask,t,this.fieldTransforms):new wu(e,this.data,t,this.fieldTransforms)}}function qc(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}class ff{constructor(e,t,s,a,l,h){this.settings=e,this.databaseId=t,this.It=s,this.ignoreUndefinedProperties=a,void 0===l&&this.ea(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new ff(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.sa({path:s,ra:!1});return a.oa(e),a}ua(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.sa({path:s,ra:!1});return a.ea(),a}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return gf(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(qc(this.na)&&iv.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class b0{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=s||Mu(e)}fa(e,t,s,a=!1){return new ff({na:e,methodName:t,la:s,path:zn.emptyPath(),ra:!1,ha:a},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Wc(r){const e=r._freezeSettings(),t=Mu(r._databaseId);return new b0(r._databaseId,!!e.ignoreUndefinedProperties,t)}function pf(r,e,t,s,a,l={}){const h=r.fa(l.merge||l.mergeFields?2:0,e,t,a);vg("Data must be an object, but it was:",h,s);const _=yg(s,h);let T,M;if(l.merge)T=new es(h.fieldMask),M=h.fieldTransforms;else if(l.mergeFields){const V=[];for(const $ of l.mergeFields){const te=_g(e,$,t);if(!h.contains(te))throw new Ae(de.INVALID_ARGUMENT,`Field '${te}' is specified in your field mask but missing from your input data.`);av(V,te)||V.push(te)}T=new es(V),M=h.fieldTransforms.filter($=>T.covers($.field))}else T=null,M=h.fieldTransforms;return new E0(new Lr(_),T,M)}function Yc(r,e){if(wd(r=pi(r)))return vg("Unsupported field value:",e,r),yg(r,e);if(r instanceof pg)return function(t,s){if(!qc(s.na))throw s.aa(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.aa(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,s){const a=[];let l=0;for(const h of t){let _=Yc(h,s.ca(l));null==_&&(_={nullValue:"NULL_VALUE"}),a.push(_),l++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=pi(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return th(s.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=fn.fromDate(t);return{timestampValue:Yl(s.It,a)}}if(t instanceof fn){const a=new fn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Yl(s.It,a)}}if(t instanceof hf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof fo)return{bytesValue:Om(s.It,t._byteString)};if(t instanceof sr){const a=s.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw s.aa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:uh(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.aa(`Unsupported field value: ${vd(t)}`)}(r,e)}function yg(r,e){const t={};return s_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ca(r,(s,a)=>{const l=Yc(a,e.ia(s));null!=l&&(t[s]=l)}),{mapValue:{fields:t}}}function wd(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof fn||r instanceof hf||r instanceof fo||r instanceof sr||r instanceof pg)}function vg(r,e,t){if(!wd(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=vd(t);throw e.aa("an object"===s?r+" a custom object":r+" "+s)}var s}function _g(r,e,t){if((e=pi(e))instanceof Gc)return e._internalPath;if("string"==typeof e)return Fa(r,e);throw gf("Field path arguments must be of type string or ",r,!1,void 0,t)}const ov=new RegExp("[~\\*/\\[\\]]");function Fa(r,e,t){if(e.search(ov)>=0)throw gf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Gc(...e.split("."))._internalPath}catch{throw gf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function gf(r,e,t,s,a){const l=s&&!s.isEmpty(),h=void 0!==a;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let T="";return(l||h)&&(T+=" (found",l&&(T+=` in field ${s}`),h&&(T+=` in document ${a}`),T+=")"),new Ae(de.INVALID_ARGUMENT,_+r+T)}function av(r,e){return r.some(t=>t.isEqual(e))}class Dg{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new sr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new M0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class M0 extends Dg{data(){return super.data()}}function mf(r,e){return"string"==typeof e?Fa(r,e):e instanceof Gc?e._internalPath:e._delegate._internalPath}class ka{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zc extends Dg{constructor(e,t,s,a,l,h){super(e,t,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(mf("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class yf extends Zc{data(e={}){return super.data(e)}}class Rs{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ka(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new yf(this._firestore,this._userDataWriter,s.key,s,new ka(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(h=>({type:"added",doc:new yf(s._firestore,s._userDataWriter,h.doc.key,h.doc,new ka(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:l++}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||3!==h.type).map(h=>{const _=new yf(s._firestore,s._userDataWriter,h.doc.key,h.doc,new ka(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let T=-1,M=-1;return 0!==h.type&&(T=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),M=l.indexOf(h.doc.key)),{type:N0(h.type),doc:_,oldIndex:T,newIndex:M}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function N0(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et()}}function Eg(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class La extends class L0{convertValue(e,t="none"){switch(oc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return An(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw et()}}convertObject(e,t){const s={};return Ca(e.fields,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertGeoPoint(e){return new hf(An(e.latitude),An(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Xg(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const t=ba(e);return new fn(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Gt.fromString(e);Et(ap(s));const a=new sc(s.get(1),s.get(3)),l=new je(s.popFirst(5));return a.isEqual(t)||nr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new fo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,t)}}function Cd(r){r=qt(r,Ar);const e=qt(r.firestore,pn),t=Mr(e),s=new La(e);return function uv(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Ae(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(r._query),Zy(t,r._query).then(a=>new Rs(e,s,r,a))}function bg(r,e,t){r=qt(r,sr);const s=qt(r.firestore,pn),a=Eg(r.converter,e,t);return Qc(s,[pf(Wc(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,In.none())])}function _f(r,e){const t=qt(r.firestore,pn),s=cg(r),a=Eg(r.converter,e);return Qc(t,[pf(Wc(r.firestore),"addDoc",s._key,a,null!==r.converter,{}).toMutation(s._key,In.exists(!1))]).then(()=>s)}function Qc(r,e){return function(t,s){const a=new Ir;return t.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function Oy(r,e,t){return Ry.apply(this,arguments)}(yield function ig(r){return uf(r).then(e=>e.syncEngine)}(t),s,a)})),a.promise}(Mr(r),e)}!function(r,e=!0){Tl="9.9.4",Us(new ur("firestore",(t,{instanceIdentifier:s,options:a})=>{const l=t.getProvider("app").getImmediate(),h=new pn(new Zv(t.getProvider("auth-internal")),new Jv(t.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new Ae(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sc(_.options.projectId,T)}(l,s),l);return a=Object.assign({useFetchStreams:e},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),ni(jf,"3.4.15",r),ni(jf,"3.4.15","esm2017")}();var po=H(2340),Ig=H(1571),Iv=H(2214);let Sv=(()=>{class r{constructor(t){this.router=t,this.app=function Rr(r,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:vo,automaticDataCollectionEnabled:!1},e),s=t.name;if("string"!=typeof s||!s)throw $r.create("bad-app-name",{appName:String(s)});const a=xi.get(s);if(a){if(Kr(r,a.options)&&Kr(t,a.config))return a;throw $r.create("duplicate-app",{appName:s})}const l=new Ur(s);for(const _ of _o.values())l.addComponent(_);const h=new Gr(r,t,l);return xi.set(s,h),h}(po.S),this.db=function Un(r,e){const t="object"==typeof r?r:function ea(r=vo){const e=xi.get(r);if(!e)throw $r.create("no-app",{appName:r});return e}(),s="string"==typeof r?r:e||"(default)";return function Ui(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}(t,"firestore").getImmediate({identifier:s})}(this.app),this.org="TEMP",this.DB_PRODUCT=po.DB.product,this.DB_ORDER=po.DB.order,this.DB_BRAND=po.DB.brand,this.DB_CAT=po.DB.category,this.DB_USER="USERS",this.initAPIURLs()}initAPIURLs(){this.org=localStorage.getItem("org"),this.DB_PRODUCT=this.org+"-"+po.DB.product,this.DB_ORDER=this.org+"-"+po.DB.order,this.DB_BRAND=this.org+"-"+po.DB.brand,this.DB_CAT=this.org+"-"+po.DB.category}login(t){var s=this;return(0,g.Z)(function*(){let a=Array();(yield Cd(ho(s.db,s.DB_USER))).forEach(_=>{let T=_.data();T.refID=_.id,a.push(T)});const h=a.filter(_=>_.userID==t.userID&&_.password==t.password);return h.length>0&&h[0]})()}setData(t){var s=this;return(0,g.Z)(function*(){try{yield _f(ho(s.db,s.DB_PRODUCT),t),s.router.navigate(["stocks"],{queryParams:{menu:"products"}})}catch(a){console.error("Error adding document: ",a)}})()}updateData(t){var s=this;return(0,g.Z)(function*(){try{const a=cg(s.db,s.DB_PRODUCT,t.refID);yield bg(a,t),s.router.navigate(["stocks"],{queryParams:{menu:"products"}})}catch(a){console.error("Error adding document: ",a)}})()}deleteData(t){var s=this;return(0,g.Z)(function*(){try{const a=cg(s.db,s.DB_PRODUCT,t.refID);yield function B0(r){return Qc(qt(r.firestore,pn),[new Cu(r._key,In.none())])}(a),s.router.navigate(["stocks"],{queryParams:{menu:"products"}})}catch(a){console.error("Error adding document: ",a)}})()}getData(){var t=this;return(0,g.Z)(function*(){let s=Array();return(yield Cd(ho(t.db,t.DB_PRODUCT))).forEach(l=>{let h=l.data();h.totalQuantityPrice=l.data().buyPrice,h.quantity=1,h.refID=l.id,s.push(h)}),s})()}sellCart(t){var s=this;return(0,g.Z)(function*(){try{yield _f(ho(s.db,s.DB_ORDER),t)}catch(a){console.error("Error adding document: ",a)}})()}updateOrder(t){var s=this;return(0,g.Z)(function*(){try{const a=cg(s.db,s.DB_ORDER,t.refID);yield bg(a,t)}catch(a){console.error("Error adding document: ",a)}})()}getCart(){var t=this;return(0,g.Z)(function*(){let s=Array();return(yield Cd(ho(t.db,t.DB_ORDER))).forEach(l=>{let h=l.data();h.refID=l.id,s.push(h)}),s})()}setBrand(t){var s=this;return(0,g.Z)(function*(){try{yield _f(ho(s.db,s.DB_BRAND),t)}catch(a){console.error("Error adding document: ",a)}})()}getBrand(){var t=this;return(0,g.Z)(function*(){let s=[];return(yield Cd(ho(t.db,t.DB_BRAND))).forEach(l=>{const h=l.data();h.refID=l.id,s.push(h)}),s})()}setCategory(t){var s=this;return(0,g.Z)(function*(){try{yield _f(ho(s.db,s.DB_CAT),t)}catch(a){console.error("Error adding document: ",a)}})()}getCategory(){var t=this;return(0,g.Z)(function*(){let s=[];return(yield Cd(ho(t.db,t.DB_CAT))).forEach(l=>{const h=l.data();h.refID=l.id,s.push(h)}),s})()}}return r.\u0275fac=function(t){return new(t||r)(Ig.LFG(Iv.F0))},r.\u0275prov=Ig.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},2340:(yt,Ne,H)=>{H.d(Ne,{DB:()=>ee,N:()=>g,S:()=>O});const g={production:!0},O={apiKey:"AIzaSyByqmJzDH_MdmRXV7LbfSY4aeb0LfTOezc",authDomain:"dde-se.firebaseapp.com",projectId:"dde-se",storageBucket:"dde-se.appspot.com",messagingSenderId:"418061793115",appId:"1:418061793115:web:f3bb89907fa2bdbb6b0c7e",measurementId:"G-6NK98Y4XKY"},ee={product:"ORG",order:"ORG-SELL",brand:"BRAND",category:"CATEGORY"}},3003:(yt,Ne,H)=>{var g=H(1481),O=H(1571),ee=H(2214),ve=H(6895);let he=(()=>{class L{constructor(U){this.document=U,this.element=U.documentElement}openFullscreen(){this.element.requestFullscreen?this.element.requestFullscreen():this.element.mozRequestFullScreen?this.element.mozRequestFullScreen():this.element.webkitRequestFullscreen?this.element.webkitRequestFullscreen():this.element.msRequestFullscreen&&this.element.msRequestFullscreen()}closeFullscreen(){this.document.exitFullscreen?this.document.exitFullscreen():this.document.mozCancelFullScreen?this.document.mozCancelFullScreen():this.document.webkitExitFullscreen?this.document.webkitExitFullscreen():this.document.msExitFullscreen&&this.document.msExitFullscreen()}}return L.\u0275fac=function(U){return new(U||L)(O.LFG(ve.K0))},L.\u0275prov=O.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})(),Be=(()=>{class L{constructor(U,W){this.FS=U,this.router=W}ngOnInit(){}navigateMenu(U){this.FS.openFullscreen(),this.router.navigate([U],{queryParams:{menu:U}})}}return L.\u0275fac=function(U){return new(U||L)(O.Y36(he),O.Y36(ee.F0))},L.\u0275cmp=O.Xpm({type:L,selectors:[["app-home"]],decls:30,vars:0,consts:[[1,"section-container","center-align"],[1,"card-container"],[1,"card","center-align",3,"click"],[1,"icon-content"],[1,"material-icons"]],template:function(U,W){1&U&&(O.TgZ(0,"div",0)(1,"div",1)(2,"div",2),O.NdJ("click",function(){return W.navigateMenu("sales")}),O.TgZ(3,"div")(4,"div",3)(5,"i",4),O._uU(6,"storefront"),O.qZA()(),O.TgZ(7,"div"),O._uU(8,"Sell"),O.qZA()()(),O.TgZ(9,"div",2),O.NdJ("click",function(){return W.navigateMenu("inventory")}),O.TgZ(10,"div")(11,"div",3)(12,"i",4),O._uU(13,"grass"),O.qZA()(),O.TgZ(14,"div"),O._uU(15,"Inventory"),O.qZA()()(),O.TgZ(16,"div",2),O.NdJ("click",function(){return W.navigateMenu("stocks")}),O.TgZ(17,"div")(18,"div",3)(19,"i",4),O._uU(20,"add_home_work"),O.qZA()(),O.TgZ(21,"div"),O._uU(22,"Stocks"),O.qZA()()(),O.TgZ(23,"div",2),O.NdJ("click",function(){return W.navigateMenu("invoice")}),O.TgZ(24,"div")(25,"div",3)(26,"i",4),O._uU(27,"receipt_long"),O.qZA()(),O.TgZ(28,"div"),O._uU(29,"Invoice"),O.qZA()()()()())},styles:[".section-container[_ngcontent-%COMP%]{width:100%;height:100%}.card-container[_ngcontent-%COMP%]{min-width:320px;width:40%;max-width:400px;height:300px;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr 1fr;column-gap:2%;row-gap:2%}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:#1976d2;font-size:22px;text-transform:uppercase;letter-spacing:1.5px;font-weight:600;color:#fff;border-radius:5px;transition:all .2s ease-out;cursor:pointer}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .icon-content[_ngcontent-%COMP%]{width:max-content;margin:auto}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:55px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{box-shadow:0 0 15px #0007;background:#1c65ad}"]}),L})();var Fe=H(6430),qe=H(5861),Le=H(433),ce=H(4069),ge=H(9016),De=H(1166);let dt=(()=>{class L{constructor(U,W,fe,pe,Qe){this.formBuilder=U,this.router=W,this.CS=fe,this.NS=pe,this.FB=Qe,this.form=new Le.cw({userID:new Le.NI(""),password:new Le.NI("")}),this.router.navigate(["login"],{queryParams:{menu:"login"}})}ngOnInit(){const U=localStorage.getItem("userID"),W=localStorage.getItem("password");U&&W&&this.router.navigate(["DDE"],{queryParams:{menu:"DDE"}}),this.form=this.formBuilder.group({userID:["",Le.kI.required],password:["",Le.kI.required]})}onSubmit(){var U=this;return(0,qe.Z)(function*(){U.CS.isLoading=!0;const W=yield U.FB.login(U.form.value);W?(localStorage.setItem("userID",W.userID),localStorage.setItem("password",W.password),localStorage.setItem("org",W.org),U.CS.org=W.org,setTimeout(()=>{U.FB.initAPIURLs(),U.router.navigate(["DDE"],{queryParams:{menu:"DDE"}}),U.CS.isLoading=!1},100)):(U.CS.isLoading=!1,U.NS.notify("error","User ID or Password mismatch! Enter valid cread..!"))})()}}return L.\u0275fac=function(U){return new(U||L)(O.Y36(Le.qu),O.Y36(ee.F0),O.Y36(ce.v_),O.Y36(ge.lG),O.Y36(De.O))},L.\u0275cmp=O.Xpm({type:L,selectors:[["app-login"]],decls:25,vars:1,consts:[[1,"login-container"],[1,"login-body"],["autocomplete","false",3,"formGroup","ngSubmit","keydown.enter"],[1,"caption"],[1,"controls"],[1,"label"],[1,"input"],["autocomplete","false","formControlName","userID","type","email"],["autocomplete","false","formControlName","password","type","password"],[1,"action"],["type","submit"],["type","button"]],template:function(U,W){1&U&&(O.TgZ(0,"div",0)(1,"div",1)(2,"form",2),O.NdJ("ngSubmit",function(){return W.onSubmit()})("keydown.enter",function(pe){return pe.preventDefault()}),O.TgZ(3,"div",3),O._uU(4,"Login"),O.qZA(),O._UZ(5,"br")(6,"br"),O.TgZ(7,"div",4)(8,"div",5),O._uU(9,"User ID"),O.qZA(),O.TgZ(10,"div",6),O._UZ(11,"input",7),O.qZA()(),O._UZ(12,"br"),O.TgZ(13,"div",4)(14,"div",5),O._uU(15,"Password"),O.qZA(),O.TgZ(16,"div",6),O._UZ(17,"input",8),O.qZA()(),O._UZ(18,"br")(19,"br"),O.TgZ(20,"div",9)(21,"button",10),O._uU(22,"Login"),O.qZA(),O.TgZ(23,"button",11),O._uU(24,"Reset"),O.qZA()()()()()),2&U&&(O.xp6(2),O.Q6J("formGroup",W.form))},dependencies:[Le._Y,Le.Fj,Le.JJ,Le.JL,Le.sg,Le.u],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.login-container[_ngcontent-%COMP%]   .login-body[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:contents}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{background:rgba(255,255,255,.1490196078);border:1px solid rgb(171,169,169);padding:4% 4% 5%;width:max-content;border-radius:2px;box-shadow:0 0 20px #00000045}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{text-align:center;font-size:25px;font-weight:900;letter-spacing:1px;color:#c00000}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{text-align:left;font-size:14px;font-weight:500;color:#4a4a4a;margin-bottom:2px}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #adadad;border-radius:2px;font-size:18px;padding:2px 10px;outline:none}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;justify-content:center}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;border:none;outline:none;padding:5px 20px;font-weight:600;letter-spacing:.8px;border-radius:2px;cursor:pointer}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(odd){background:rgb(15,15,86);margin-right:10px}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(even){background:rgb(61,61,61)}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgb(0,0,255)}"]}),L})(),Oe=(()=>{class L{constructor(U){this.router=U}canActivate(U,W){const fe=localStorage.getItem("userID"),pe=localStorage.getItem("password");return!(!fe||!pe)||(this.router.navigate(["login"],{queryParams:{menu:"login"}}),!1)}}return L.\u0275fac=function(U){return new(U||L)(O.LFG(ee.F0))},L.\u0275prov=O.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();const Je=[{path:"",component:dt},{path:"login",component:dt},{path:"DDE",canActivate:[Oe],component:Be},{path:"sales",canActivate:[Oe],loadChildren:()=>H.e(358).then(H.bind(H,358)).then(L=>L.SaleModule)},{path:"inventory",canActivate:[Oe],loadChildren:()=>H.e(983).then(H.bind(H,6983)).then(L=>L.InventoryModule)},{path:"stocks",canActivate:[Oe],loadChildren:()=>H.e(854).then(H.bind(H,6854)).then(L=>L.StockModule)},{path:"invoice",canActivate:[Oe],loadChildren:()=>H.e(829).then(H.bind(H,829)).then(L=>L.InvoiceModule)},{path:"**",canActivate:[Oe],component:Fe.r}];let ke=(()=>{class L{}return L.\u0275fac=function(U){return new(U||L)},L.\u0275mod=O.oAB({type:L}),L.\u0275inj=O.cJS({imports:[ee.Bz.forRoot(Je),ee.Bz]}),L})();const it=function(L){return{active:L}};function bt(L,G){if(1&L){const U=O.EpF();O.TgZ(0,"div",5)(1,"div",6),O.NdJ("click",function(){O.CHM(U);const fe=O.oxw();return O.KtG(fe.navigateMenu("DDE"))}),O.TgZ(2,"i",7),O._uU(3,"dashboard"),O.qZA()(),O.TgZ(4,"div",8),O.NdJ("click",function(){O.CHM(U);const fe=O.oxw();return O.KtG(fe.navigateMenu("sales"))}),O.TgZ(5,"i",7),O._uU(6,"storefront"),O.qZA()(),O.TgZ(7,"div",9),O.NdJ("click",function(){O.CHM(U);const fe=O.oxw();return O.KtG(fe.navigateMenu("inventory"))}),O.TgZ(8,"i",7),O._uU(9,"grass"),O.qZA()(),O.TgZ(10,"div",10),O.NdJ("click",function(){O.CHM(U);const fe=O.oxw();return O.KtG(fe.navigateMenu("stocks"))}),O.TgZ(11,"i",7),O._uU(12,"add_home_work"),O.qZA()(),O.TgZ(13,"div",11),O.NdJ("click",function(){O.CHM(U);const fe=O.oxw();return O.KtG(fe.navigateMenu("invoice"))}),O.TgZ(14,"i",7),O._uU(15,"receipt_long"),O.qZA()(),O.TgZ(16,"div",12),O.NdJ("click",function(){O.CHM(U);const fe=O.oxw();return O.KtG(fe.logout())}),O.TgZ(17,"i",7),O._uU(18,"power_settings_new"),O.qZA()()()}if(2&L){const U=O.oxw();O.xp6(1),O.Q6J("ngClass",O.VKq(5,it,"DDE"==U.URL)),O.xp6(3),O.Q6J("ngClass",O.VKq(7,it,"sales"==U.URL)),O.xp6(3),O.Q6J("ngClass",O.VKq(9,it,"inventory"==U.URL)),O.xp6(3),O.Q6J("ngClass",O.VKq(11,it,"stocks"==U.URL)),O.xp6(3),O.Q6J("ngClass",O.VKq(13,it,"invoice"==U.URL))}}let Ve=(()=>{class L{constructor(U,W,fe){this.router=U,this.activated=W,this.CS=fe,this.URL="DDE"}ngOnInit(){this.activated.queryParams.subscribe(U=>{this.URL=U.menu})}navigateMenu(U){this.router.navigate([U],{queryParams:{menu:U}})}logout(){localStorage.clear(),this.router.navigate(["login"],{queryParams:{menu:"login"}})}}return L.\u0275fac=function(U){return new(U||L)(O.Y36(ee.F0),O.Y36(ee.gz),O.Y36(ce.v_))},L.\u0275cmp=O.Xpm({type:L,selectors:[["app-header"]],decls:8,vars:2,consts:[["role","banner",1,"toolbar"],["width","100","alt","Angular Logo","src","assets/images/icons/DDE-6.png"],[3,"click"],[1,"spacer"],["class","menu-content",4,"ngIf"],[1,"menu-content"],["title","Dashboard",1,"menu","v-align",3,"ngClass","click"],[1,"material-icons"],["title","Sales",1,"menu","v-align",3,"ngClass","click"],["title","Inventory",1,"menu","v-align",3,"ngClass","click"],["title","Stocks",1,"menu","v-align",3,"ngClass","click"],["title","Invoice",1,"menu","v-align",3,"ngClass","click"],["title","Sign Out",1,"menu","v-align","active","signout",3,"click"]],template:function(U,W){1&U&&(O.TgZ(0,"div",0),O._UZ(1,"img",1),O.TgZ(2,"span",2),O.NdJ("click",function(){return W.navigateMenu("DDE")}),O.TgZ(3,"b")(4,"b"),O._uU(5),O.qZA()()(),O._UZ(6,"div",3),O.YNc(7,bt,19,15,"div",4),O.qZA()),2&U&&(O.xp6(5),O.Oqu(W.CS.org),O.xp6(2),O.Q6J("ngIf","login"!=W.URL))},dependencies:[ve.mk,ve.O5],styles:['[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.spacer[_ngcontent-%COMP%]{flex:1}.toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;border-bottom:1px solid #0460bb;color:#fff;font-weight:400}.toolbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:25px;font-weight:500;text-transform:uppercase;letter-spacing:.5px;cursor:pointer}.toolbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:20px}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 0px 0 4vw}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]{height:40px;margin:0 8px}.toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]{height:40px;margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover{opacity:.8}.content[_ngcontent-%COMP%]{height:calc(100vh - 60px);width:100%;overflow:hidden;margin-top:60px}svg.material-icons[_ngcontent-%COMP%]{height:24px;width:auto}svg.material-icons[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}svg#clouds[_ngcontent-%COMP%]{position:fixed;bottom:-160px;left:-230px;z-index:-10}.menu-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,max-content);column-gap:5px;margin-right:4vw}.menu-content[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.8px;cursor:pointer;font-weight:500;font-size:18px;padding:1vh 1vw;border-radius:2px;transition:all .4s ease-in-out}.menu-content[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]:hover, .menu-content[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background:#fff;color:#f10000;font-weight:700}.signout[_ngcontent-%COMP%]{box-shadow:0 0 10px #1514146e;background:rgba(255,255,255,.5098039216)!important}@media (max-width: 600px){.toolbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}']}),L})();function Kt(L,G){1&L&&(O.TgZ(0,"div",6),O._UZ(1,"div",7),O.qZA())}function _e(L,G){1&L&&(O.TgZ(0,"div",6)(1,"div",8),O._uU(2,"No Internet Connection..."),O.qZA()())}function ye(L,G){if(1&L){const U=O.EpF();O.TgZ(0,"div",9)(1,"div",10)(2,"div",11),O._uU(3,"CONFIRM"),O.qZA(),O.TgZ(4,"div",12),O._uU(5),O.qZA(),O.TgZ(6,"div",13)(7,"button",14),O.NdJ("click",function(){O.CHM(U);const fe=O.oxw();return O.KtG(fe.CS.confirmDel(!0))}),O._uU(8,"YES"),O.qZA(),O.TgZ(9,"button",14),O.NdJ("click",function(){O.CHM(U);const fe=O.oxw();return O.KtG(fe.CS.confirmDel(!1))}),O._uU(10,"NO"),O.qZA()()()()}if(2&L){const U=O.oxw();O.xp6(5),O.Oqu(U.CS.msg)}}let Ke=(()=>{class L{constructor(U){this.CS=U,this.title="DDE-FE"}}return L.\u0275fac=function(U){return new(U||L)(O.Y36(ce.v_))},L.\u0275cmp=O.Xpm({type:L,selectors:[["app-root"]],decls:11,vars:3,consts:[["role","main",1,"content"],["id","clouds","xmlns","http://www.w3.org/2000/svg","width","2611.084","height","485.677","viewBox","0 0 2611.084 485.677"],["id","Path_39","data-name","Path 39","d","M2379.709,863.793c10-93-77-171-168-149-52-114-225-105-264,15-75,3-140,59-152,133-30,2.83-66.725,9.829-93.5,26.25-26.771-16.421-63.5-23.42-93.5-26.25-12-74-77-130-152-133-39-120-212-129-264-15-54.084-13.075-106.753,9.173-138.488,48.9-31.734-39.726-84.4-61.974-138.487-48.9-52-114-225-105-264,15a162.027,162.027,0,0,0-103.147,43.044c-30.633-45.365-87.1-72.091-145.206-58.044-52-114-225-105-264,15-75,3-140,59-152,133-53,5-127,23-130,83-2,42,35,72,70,86,49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33,61.112,8.015,113.854-5.72,150.492-29.764a165.62,165.62,0,0,0,110.861-3.236c47,94,178,113,251,33,31.385,4.116,60.563,2.495,86.487-3.311,25.924,5.806,55.1,7.427,86.488,3.311,73,80,204,61,251-33a165.625,165.625,0,0,0,120,0c51,13,108,15,157-5a147.188,147.188,0,0,0,33.5-18.694,147.217,147.217,0,0,0,33.5,18.694c49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33C2446.709,1093.793,2554.709,922.793,2379.709,863.793Z","transform","translate(142.69 -634.312)","fill","#eee"],["class","loader-container",4,"ngIf"],["class","confirmation-box",4,"ngIf"],[2,"position","absolute"],[1,"loader-container"],[1,"loader"],[1,"connection"],[1,"confirmation-box"],[1,"box-content"],[1,"box-head"],[1,"msg"],[1,"action"],[3,"click"]],template:function(U,W){1&U&&(O._UZ(0,"app-header"),O.TgZ(1,"div",0),O.O4$(),O.TgZ(2,"svg",1)(3,"title"),O._uU(4,"Gray Clouds Background"),O.qZA(),O._UZ(5,"path",2),O.qZA(),O.kcU(),O._UZ(6,"router-outlet"),O.qZA(),O.YNc(7,Kt,2,0,"div",3),O.YNc(8,_e,3,0,"div",3),O.YNc(9,ye,11,1,"div",4),O._UZ(10,"notifier-container",5)),2&U&&(O.xp6(7),O.Q6J("ngIf",W.CS.isLoading),O.xp6(1),O.Q6J("ngIf",!W.CS.isOnline),O.xp6(1),O.Q6J("ngIf",W.CS.isConfirm))},dependencies:[ve.O5,ee.lC,ge.TK,Ve],styles:['[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.content[_ngcontent-%COMP%]{height:calc(100vh - 60px);width:100%;overflow:hidden;margin-top:60px}svg#clouds[_ngcontent-%COMP%]{position:fixed;bottom:-160px;left:-230px;z-index:-10}.loader-container[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;background:rgba(129,128,128,.717);z-index:9999;display:flex;justify-content:center;align-items:center}.loader-container[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{width:60px;height:60px;background-image:url(DDE-15.ffef33ffc2af9a0a.png);background-repeat:no-repeat;background-size:contain;animation:rotating 1s linear infinite;animation-direction:reverse}@keyframes rotating{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.rotating[_ngcontent-%COMP%]{animation:rotating 2s linear infinite}.confirmation-box[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;background:rgba(129,128,128,.717);z-index:9999;display:flex;justify-content:center;align-items:center}.confirmation-box[_ngcontent-%COMP%]   .box-head[_ngcontent-%COMP%]{background:#02028f;color:#fff;width:100%;padding:6px 10px;height:-moz-fit-content;height:fit-content;font-weight:600}.confirmation-box[_ngcontent-%COMP%]   .box-content[_ngcontent-%COMP%]{min-width:300px;width:30%;min-height:180px;height:25%;background:#fff;display:flex;flex-wrap:wrap}.confirmation-box[_ngcontent-%COMP%]   .box-content[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{text-align:center;font-size:18px;font-weight:600;color:#4a4a4a;width:100%;height:35%}.confirmation-box[_ngcontent-%COMP%]   .box-content[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}.confirmation-box[_ngcontent-%COMP%]   .box-content[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-align:center;padding:5px 19px;width:60px;height:max-content;border:none;outline:none;background:#02028f;color:#fff;font-weight:500;margin-right:10px;cursor:pointer}.confirmation-box[_ngcontent-%COMP%]   .box-content[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(even){background:#6b6b6b}.confirmation-box[_ngcontent-%COMP%]   .box-content[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#0303c2}.confirmation-box[_ngcontent-%COMP%]   .box-content[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(even):hover{background:#a2a1a1}.connection[_ngcontent-%COMP%]{background:#fff;padding:7%;border-radius:5px;box-shadow:0 0 10px #7272727d;font-size:20px;font-weight:900}']}),L})();var Se=H(294);const le={position:{horizontal:{position:"left",distance:12},vertical:{position:"bottom",distance:12,gap:10}},theme:"material",behaviour:{autoHide:5e3,onClick:"hide",onMouseover:"pauseAutoHide",showDismissButton:!0,stacking:1},animations:{enabled:!0,show:{preset:"slide",speed:300,easing:"ease"},hide:{preset:"fade",speed:300,easing:"ease",offset:50},shift:{speed:300,easing:"ease"},overlap:150}};let Y=(()=>{class L{}return L.\u0275fac=function(U){return new(U||L)},L.\u0275mod=O.oAB({type:L,bootstrap:[Ke]}),L.\u0275inj=O.cJS({providers:[ce.v_,De.O],imports:[g.b2,ke,Le.UX,Se.I,ge.Eb.withConfig(le)]}),L})();H(2340).N.production&&(0,O.G48)(),g.q6().bootstrapModule(Y).catch(L=>console.error(L))},9751:(yt,Ne,H)=>{H.d(Ne,{y:()=>qe});var g=H(2961),O=H(727),ee=H(8822),ve=H(9635),he=H(2416),Be=H(576),Fe=H(2806);let qe=(()=>{class De{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const Je=new De;return Je.source=this,Je.operator=Oe,Je}subscribe(Oe,Je,ke){const it=function ge(De){return De&&De instanceof g.Lv||function ce(De){return De&&(0,Be.m)(De.next)&&(0,Be.m)(De.error)&&(0,Be.m)(De.complete)}(De)&&(0,O.Nn)(De)}(Oe)?Oe:new g.Hp(Oe,Je,ke);return(0,Fe.x)(()=>{const{operator:bt,source:Ve}=this;it.add(bt?bt.call(it,Ve):Ve?this._subscribe(it):this._trySubscribe(it))}),it}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(Je){Oe.error(Je)}}forEach(Oe,Je){return new(Je=Le(Je))((ke,it)=>{const bt=new g.Hp({next:Ve=>{try{Oe(Ve)}catch(Kt){it(Kt),bt.unsubscribe()}},error:it,complete:ke});this.subscribe(bt)})}_subscribe(Oe){var Je;return null===(Je=this.source)||void 0===Je?void 0:Je.subscribe(Oe)}[ee.L](){return this}pipe(...Oe){return(0,ve.U)(Oe)(this)}toPromise(Oe){return new(Oe=Le(Oe))((Je,ke)=>{let it;this.subscribe(bt=>it=bt,bt=>ke(bt),()=>Je(it))})}}return De.create=dt=>new De(dt),De})();function Le(De){var dt;return null!==(dt=De??he.v.Promise)&&void 0!==dt?dt:Promise}},7579:(yt,Ne,H)=>{H.d(Ne,{x:()=>Fe});var g=H(9751),O=H(727);const ve=(0,H(3888).d)(Le=>function(){Le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=H(8737),Be=H(2806);let Fe=(()=>{class Le extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ge){const De=new qe(this,this);return De.operator=ge,De}_throwIfClosed(){if(this.closed)throw new ve}next(ge){(0,Be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const De of this.currentObservers)De.next(ge)}})}error(ge){(0,Be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ge;const{observers:De}=this;for(;De.length;)De.shift().error(ge)}})}complete(){(0,Be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ge}=this;for(;ge.length;)ge.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ge;return(null===(ge=this.observers)||void 0===ge?void 0:ge.length)>0}_trySubscribe(ge){return this._throwIfClosed(),super._trySubscribe(ge)}_subscribe(ge){return this._throwIfClosed(),this._checkFinalizedStatuses(ge),this._innerSubscribe(ge)}_innerSubscribe(ge){const{hasError:De,isStopped:dt,observers:Oe}=this;return De||dt?O.Lc:(this.currentObservers=null,Oe.push(ge),new O.w0(()=>{this.currentObservers=null,(0,he.P)(Oe,ge)}))}_checkFinalizedStatuses(ge){const{hasError:De,thrownError:dt,isStopped:Oe}=this;De?ge.error(dt):Oe&&ge.complete()}asObservable(){const ge=new g.y;return ge.source=this,ge}}return Le.create=(ce,ge)=>new qe(ce,ge),Le})();class qe extends Fe{constructor(ce,ge){super(),this.destination=ce,this.source=ge}next(ce){var ge,De;null===(De=null===(ge=this.destination)||void 0===ge?void 0:ge.next)||void 0===De||De.call(ge,ce)}error(ce){var ge,De;null===(De=null===(ge=this.destination)||void 0===ge?void 0:ge.error)||void 0===De||De.call(ge,ce)}complete(){var ce,ge;null===(ge=null===(ce=this.destination)||void 0===ce?void 0:ce.complete)||void 0===ge||ge.call(ce)}_subscribe(ce){var ge,De;return null!==(De=null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(ce))&&void 0!==De?De:O.Lc}}},2961:(yt,Ne,H)=>{H.d(Ne,{Hp:()=>ke,Lv:()=>De});var g=H(576),O=H(727),ee=H(2416),ve=H(7849);function he(){}const Be=Le("C",void 0,void 0);function Le(_e,ye,Ke){return{kind:_e,value:ye,error:Ke}}var ce=H(3410),ge=H(2806);class De extends O.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,O.Nn)(ye)&&ye.add(this)):this.destination=Kt}static create(ye,Ke,Se){return new ke(ye,Ke,Se)}next(ye){this.isStopped?Ve(function qe(_e){return Le("N",_e,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?Ve(function Fe(_e){return Le("E",void 0,_e)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?Ve(Be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const dt=Function.prototype.bind;function Oe(_e,ye){return dt.call(_e,ye)}class Je{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:Ke}=this;if(Ke.next)try{Ke.next(ye)}catch(Se){it(Se)}}error(ye){const{partialObserver:Ke}=this;if(Ke.error)try{Ke.error(ye)}catch(Se){it(Se)}else it(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch(Ke){it(Ke)}}}class ke extends De{constructor(ye,Ke,Se){let le;if(super(),(0,g.m)(ye)||!ye)le={next:ye??void 0,error:Ke??void 0,complete:Se??void 0};else{let Y;this&&ee.v.useDeprecatedNextContext?(Y=Object.create(ye),Y.unsubscribe=()=>this.unsubscribe(),le={next:ye.next&&Oe(ye.next,Y),error:ye.error&&Oe(ye.error,Y),complete:ye.complete&&Oe(ye.complete,Y)}):le=ye}this.destination=new Je(le)}}function it(_e){ee.v.useDeprecatedSynchronousErrorHandling?(0,ge.O)(_e):(0,ve.h)(_e)}function Ve(_e,ye){const{onStoppedNotification:Ke}=ee.v;Ke&&ce.z.setTimeout(()=>Ke(_e,ye))}const Kt={closed:!0,next:he,error:function bt(_e){throw _e},complete:he}},727:(yt,Ne,H)=>{H.d(Ne,{Lc:()=>Be,w0:()=>he,Nn:()=>Fe});var g=H(576);const ee=(0,H(3888).d)(Le=>function(ge){Le(this),this.message=ge?`${ge.length} errors occurred during unsubscription:\n${ge.map((De,dt)=>`${dt+1}) ${De.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ge});var ve=H(8737);class he{constructor(ce){this.initialTeardown=ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ce;if(!this.closed){this.closed=!0;const{_parentage:ge}=this;if(ge)if(this._parentage=null,Array.isArray(ge))for(const Oe of ge)Oe.remove(this);else ge.remove(this);const{initialTeardown:De}=this;if((0,g.m)(De))try{De()}catch(Oe){ce=Oe instanceof ee?Oe.errors:[Oe]}const{_finalizers:dt}=this;if(dt){this._finalizers=null;for(const Oe of dt)try{qe(Oe)}catch(Je){ce=ce??[],Je instanceof ee?ce=[...ce,...Je.errors]:ce.push(Je)}}if(ce)throw new ee(ce)}}add(ce){var ge;if(ce&&ce!==this)if(this.closed)qe(ce);else{if(ce instanceof he){if(ce.closed||ce._hasParent(this))return;ce._addParent(this)}(this._finalizers=null!==(ge=this._finalizers)&&void 0!==ge?ge:[]).push(ce)}}_hasParent(ce){const{_parentage:ge}=this;return ge===ce||Array.isArray(ge)&&ge.includes(ce)}_addParent(ce){const{_parentage:ge}=this;this._parentage=Array.isArray(ge)?(ge.push(ce),ge):ge?[ge,ce]:ce}_removeParent(ce){const{_parentage:ge}=this;ge===ce?this._parentage=null:Array.isArray(ge)&&(0,ve.P)(ge,ce)}remove(ce){const{_finalizers:ge}=this;ge&&(0,ve.P)(ge,ce),ce instanceof he&&ce._removeParent(this)}}he.EMPTY=(()=>{const Le=new he;return Le.closed=!0,Le})();const Be=he.EMPTY;function Fe(Le){return Le instanceof he||Le&&"closed"in Le&&(0,g.m)(Le.remove)&&(0,g.m)(Le.add)&&(0,g.m)(Le.unsubscribe)}function qe(Le){(0,g.m)(Le)?Le():Le.unsubscribe()}},2416:(yt,Ne,H)=>{H.d(Ne,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(yt,Ne,H)=>{H.d(Ne,{E:()=>O});const O=new(H(9751).y)(he=>he.complete())},2076:(yt,Ne,H)=>{H.d(Ne,{D:()=>Se});var g=H(8421),O=H(9672),ee=H(4482),ve=H(5403);function he(le,Y=0){return(0,ee.e)((re,L)=>{re.subscribe((0,ve.x)(L,G=>(0,O.f)(L,le,()=>L.next(G),Y),()=>(0,O.f)(L,le,()=>L.complete(),Y),G=>(0,O.f)(L,le,()=>L.error(G),Y)))})}function Be(le,Y=0){return(0,ee.e)((re,L)=>{L.add(le.schedule(()=>re.subscribe(L),Y))})}var Le=H(9751),ge=H(2202),De=H(576);function Oe(le,Y){if(!le)throw new Error("Iterable cannot be null");return new Le.y(re=>{(0,O.f)(re,Y,()=>{const L=le[Symbol.asyncIterator]();(0,O.f)(re,Y,()=>{L.next().then(G=>{G.done?re.complete():re.next(G.value)})},0,!0)})})}var Je=H(3670),ke=H(8239),it=H(1144),bt=H(6495),Ve=H(2206),Kt=H(4532),_e=H(3260);function Se(le,Y){return Y?function Ke(le,Y){if(null!=le){if((0,Je.c)(le))return function Fe(le,Y){return(0,g.Xf)(le).pipe(Be(Y),he(Y))}(le,Y);if((0,it.z)(le))return function ce(le,Y){return new Le.y(re=>{let L=0;return Y.schedule(function(){L===le.length?re.complete():(re.next(le[L++]),re.closed||this.schedule())})})}(le,Y);if((0,ke.t)(le))return function qe(le,Y){return(0,g.Xf)(le).pipe(Be(Y),he(Y))}(le,Y);if((0,Ve.D)(le))return Oe(le,Y);if((0,bt.T)(le))return function dt(le,Y){return new Le.y(re=>{let L;return(0,O.f)(re,Y,()=>{L=le[ge.h](),(0,O.f)(re,Y,()=>{let G,U;try{({value:G,done:U}=L.next())}catch(W){return void re.error(W)}U?re.complete():re.next(G)},0,!0)}),()=>(0,De.m)(L?.return)&&L.return()})}(le,Y);if((0,_e.L)(le))return function ye(le,Y){return Oe((0,_e.Q)(le),Y)}(le,Y)}throw(0,Kt.z)(le)}(le,Y):(0,g.Xf)(le)}},8421:(yt,Ne,H)=>{H.d(Ne,{Xf:()=>dt});var g=H(655),O=H(1144),ee=H(8239),ve=H(9751),he=H(3670),Be=H(2206),Fe=H(4532),qe=H(6495),Le=H(3260),ce=H(576),ge=H(7849),De=H(8822);function dt(_e){if(_e instanceof ve.y)return _e;if(null!=_e){if((0,he.c)(_e))return function Oe(_e){return new ve.y(ye=>{const Ke=_e[De.L]();if((0,ce.m)(Ke.subscribe))return Ke.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_e);if((0,O.z)(_e))return function Je(_e){return new ve.y(ye=>{for(let Ke=0;Ke<_e.length&&!ye.closed;Ke++)ye.next(_e[Ke]);ye.complete()})}(_e);if((0,ee.t)(_e))return function ke(_e){return new ve.y(ye=>{_e.then(Ke=>{ye.closed||(ye.next(Ke),ye.complete())},Ke=>ye.error(Ke)).then(null,ge.h)})}(_e);if((0,Be.D)(_e))return bt(_e);if((0,qe.T)(_e))return function it(_e){return new ve.y(ye=>{for(const Ke of _e)if(ye.next(Ke),ye.closed)return;ye.complete()})}(_e);if((0,Le.L)(_e))return function Ve(_e){return bt((0,Le.Q)(_e))}(_e)}throw(0,Fe.z)(_e)}function bt(_e){return new ve.y(ye=>{(function Kt(_e,ye){var Ke,Se,le,Y;return(0,g.mG)(this,void 0,void 0,function*(){try{for(Ke=(0,g.KL)(_e);!(Se=yield Ke.next()).done;)if(ye.next(Se.value),ye.closed)return}catch(re){le={error:re}}finally{try{Se&&!Se.done&&(Y=Ke.return)&&(yield Y.call(Ke))}finally{if(le)throw le.error}}ye.complete()})})(_e,ye).catch(Ke=>ye.error(Ke))})}},6451:(yt,Ne,H)=>{H.d(Ne,{T:()=>Be});var g=H(8189),O=H(8421),ee=H(515),ve=H(7669),he=H(2076);function Be(...Fe){const qe=(0,ve.yG)(Fe),Le=(0,ve._6)(Fe,1/0),ce=Fe;return ce.length?1===ce.length?(0,O.Xf)(ce[0]):(0,g.J)(Le)((0,he.D)(ce,qe)):ee.E}},9646:(yt,Ne,H)=>{H.d(Ne,{of:()=>ee});var g=H(7669),O=H(2076);function ee(...ve){const he=(0,g.yG)(ve);return(0,O.D)(ve,he)}},5403:(yt,Ne,H)=>{H.d(Ne,{x:()=>O});var g=H(2961);function O(ve,he,Be,Fe,qe){return new ee(ve,he,Be,Fe,qe)}class ee extends g.Lv{constructor(he,Be,Fe,qe,Le,ce){super(he),this.onFinalize=Le,this.shouldUnsubscribe=ce,this._next=Be?function(ge){try{Be(ge)}catch(De){he.error(De)}}:super._next,this._error=qe?function(ge){try{qe(ge)}catch(De){he.error(De)}finally{this.unsubscribe()}}:super._error,this._complete=Fe?function(){try{Fe()}catch(ge){he.error(ge)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Be}=this;super.unsubscribe(),!Be&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},4004:(yt,Ne,H)=>{H.d(Ne,{U:()=>ee});var g=H(4482),O=H(5403);function ee(ve,he){return(0,g.e)((Be,Fe)=>{let qe=0;Be.subscribe((0,O.x)(Fe,Le=>{Fe.next(ve.call(he,Le,qe++))}))})}},8189:(yt,Ne,H)=>{H.d(Ne,{J:()=>ee});var g=H(5577),O=H(4671);function ee(ve=1/0){return(0,g.z)(O.y,ve)}},5577:(yt,Ne,H)=>{H.d(Ne,{z:()=>qe});var g=H(4004),O=H(8421),ee=H(4482),ve=H(9672),he=H(5403),Fe=H(576);function qe(Le,ce,ge=1/0){return(0,Fe.m)(ce)?qe((De,dt)=>(0,g.U)((Oe,Je)=>ce(De,Oe,dt,Je))((0,O.Xf)(Le(De,dt))),ge):("number"==typeof ce&&(ge=ce),(0,ee.e)((De,dt)=>function Be(Le,ce,ge,De,dt,Oe,Je,ke){const it=[];let bt=0,Ve=0,Kt=!1;const _e=()=>{Kt&&!it.length&&!bt&&ce.complete()},ye=Se=>bt<De?Ke(Se):it.push(Se),Ke=Se=>{Oe&&ce.next(Se),bt++;let le=!1;(0,O.Xf)(ge(Se,Ve++)).subscribe((0,he.x)(ce,Y=>{dt?.(Y),Oe?ye(Y):ce.next(Y)},()=>{le=!0},void 0,()=>{if(le)try{for(bt--;it.length&&bt<De;){const Y=it.shift();Je?(0,ve.f)(ce,Je,()=>Ke(Y)):Ke(Y)}_e()}catch(Y){ce.error(Y)}}))};return Le.subscribe((0,he.x)(ce,ye,()=>{Kt=!0,_e()})),()=>{ke?.()}}(De,dt,Le,ge)))}},3410:(yt,Ne,H)=>{H.d(Ne,{z:()=>g});const g={setTimeout(O,ee,...ve){const{delegate:he}=g;return he?.setTimeout?he.setTimeout(O,ee,...ve):setTimeout(O,ee,...ve)},clearTimeout(O){const{delegate:ee}=g;return(ee?.clearTimeout||clearTimeout)(O)},delegate:void 0}},2202:(yt,Ne,H)=>{H.d(Ne,{h:()=>O});const O=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(yt,Ne,H)=>{H.d(Ne,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(yt,Ne,H)=>{H.d(Ne,{_6:()=>Be,jO:()=>ve,yG:()=>he});var g=H(576);function ee(Fe){return Fe[Fe.length-1]}function ve(Fe){return(0,g.m)(ee(Fe))?Fe.pop():void 0}function he(Fe){return function O(Fe){return Fe&&(0,g.m)(Fe.schedule)}(ee(Fe))?Fe.pop():void 0}function Be(Fe,qe){return"number"==typeof ee(Fe)?Fe.pop():qe}},4742:(yt,Ne,H)=>{H.d(Ne,{D:()=>he});const{isArray:g}=Array,{getPrototypeOf:O,prototype:ee,keys:ve}=Object;function he(Fe){if(1===Fe.length){const qe=Fe[0];if(g(qe))return{args:qe,keys:null};if(function Be(Fe){return Fe&&"object"==typeof Fe&&O(Fe)===ee}(qe)){const Le=ve(qe);return{args:Le.map(ce=>qe[ce]),keys:Le}}}return{args:Fe,keys:null}}},8737:(yt,Ne,H)=>{function g(O,ee){if(O){const ve=O.indexOf(ee);0<=ve&&O.splice(ve,1)}}H.d(Ne,{P:()=>g})},3888:(yt,Ne,H)=>{function g(O){const ve=O(he=>{Error.call(he),he.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}H.d(Ne,{d:()=>g})},1810:(yt,Ne,H)=>{function g(O,ee){return O.reduce((ve,he,Be)=>(ve[he]=ee[Be],ve),{})}H.d(Ne,{n:()=>g})},2806:(yt,Ne,H)=>{H.d(Ne,{O:()=>ve,x:()=>ee});var g=H(2416);let O=null;function ee(he){if(g.v.useDeprecatedSynchronousErrorHandling){const Be=!O;if(Be&&(O={errorThrown:!1,error:null}),he(),Be){const{errorThrown:Fe,error:qe}=O;if(O=null,Fe)throw qe}}else he()}function ve(he){g.v.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=he)}},9672:(yt,Ne,H)=>{function g(O,ee,ve,he=0,Be=!1){const Fe=ee.schedule(function(){ve(),Be?O.add(this.schedule(null,he)):this.unsubscribe()},he);if(O.add(Fe),!Be)return Fe}H.d(Ne,{f:()=>g})},4671:(yt,Ne,H)=>{function g(O){return O}H.d(Ne,{y:()=>g})},1144:(yt,Ne,H)=>{H.d(Ne,{z:()=>g});const g=O=>O&&"number"==typeof O.length&&"function"!=typeof O},2206:(yt,Ne,H)=>{H.d(Ne,{D:()=>O});var g=H(576);function O(ee){return Symbol.asyncIterator&&(0,g.m)(ee?.[Symbol.asyncIterator])}},576:(yt,Ne,H)=>{function g(O){return"function"==typeof O}H.d(Ne,{m:()=>g})},3670:(yt,Ne,H)=>{H.d(Ne,{c:()=>ee});var g=H(8822),O=H(576);function ee(ve){return(0,O.m)(ve[g.L])}},6495:(yt,Ne,H)=>{H.d(Ne,{T:()=>ee});var g=H(2202),O=H(576);function ee(ve){return(0,O.m)(ve?.[g.h])}},8239:(yt,Ne,H)=>{H.d(Ne,{t:()=>O});var g=H(576);function O(ee){return(0,g.m)(ee?.then)}},3260:(yt,Ne,H)=>{H.d(Ne,{L:()=>ve,Q:()=>ee});var g=H(655),O=H(576);function ee(he){return(0,g.FC)(this,arguments,function*(){const Fe=he.getReader();try{for(;;){const{value:qe,done:Le}=yield(0,g.qq)(Fe.read());if(Le)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(qe)}}finally{Fe.releaseLock()}})}function ve(he){return(0,O.m)(he?.getReader)}},4482:(yt,Ne,H)=>{H.d(Ne,{A:()=>O,e:()=>ee});var g=H(576);function O(ve){return(0,g.m)(ve?.lift)}function ee(ve){return he=>{if(O(he))return he.lift(function(Be){try{return ve(Be,this)}catch(Fe){this.error(Fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(yt,Ne,H)=>{H.d(Ne,{Z:()=>ve});var g=H(4004);const{isArray:O}=Array;function ve(he){return(0,g.U)(Be=>function ee(he,Be){return O(Be)?he(...Be):he(Be)}(he,Be))}},9635:(yt,Ne,H)=>{H.d(Ne,{U:()=>ee,z:()=>O});var g=H(4671);function O(...ve){return ee(ve)}function ee(ve){return 0===ve.length?g.y:1===ve.length?ve[0]:function(Be){return ve.reduce((Fe,qe)=>qe(Fe),Be)}}},7849:(yt,Ne,H)=>{H.d(Ne,{h:()=>ee});var g=H(2416),O=H(3410);function ee(ve){O.z.setTimeout(()=>{const{onUnhandledError:he}=g.v;if(!he)throw ve;he(ve)})}},4532:(yt,Ne,H)=>{function g(O){return new TypeError(`You provided ${null!==O&&"object"==typeof O?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(Ne,{z:()=>g})},655:(yt,Ne,H)=>{function qe(L,G,U,W){return new(U||(U=Promise))(function(pe,Qe){function It(Ft){try{ht(W.next(Ft))}catch(gr){Qe(gr)}}function tn(Ft){try{ht(W.throw(Ft))}catch(gr){Qe(gr)}}function ht(Ft){Ft.done?pe(Ft.value):function fe(pe){return pe instanceof U?pe:new U(function(Qe){Qe(pe)})}(Ft.value).then(It,tn)}ht((W=W.apply(L,G||[])).next())})}function it(L){return this instanceof it?(this.v=L,this):new it(L)}function bt(L,G,U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,W=U.apply(L,G||[]),pe=[];return fe={},Qe("next"),Qe("throw"),Qe("return"),fe[Symbol.asyncIterator]=function(){return this},fe;function Qe(Mt){W[Mt]&&(fe[Mt]=function(wt){return new Promise(function(jn,sn){pe.push([Mt,wt,jn,sn])>1||It(Mt,wt)})})}function It(Mt,wt){try{!function tn(Mt){Mt.value instanceof it?Promise.resolve(Mt.value.v).then(ht,Ft):gr(pe[0][2],Mt)}(W[Mt](wt))}catch(jn){gr(pe[0][3],jn)}}function ht(Mt){It("next",Mt)}function Ft(Mt){It("throw",Mt)}function gr(Mt,wt){Mt(wt),pe.shift(),pe.length&&It(pe[0][0],pe[0][1])}}function Kt(L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var U,G=L[Symbol.asyncIterator];return G?G.call(L):(L=function De(L){var G="function"==typeof Symbol&&Symbol.iterator,U=G&&L[G],W=0;if(U)return U.call(L);if(L&&"number"==typeof L.length)return{next:function(){return L&&W>=L.length&&(L=void 0),{value:L&&L[W++],done:!L}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}(L),U={},W("next"),W("throw"),W("return"),U[Symbol.asyncIterator]=function(){return this},U);function W(pe){U[pe]=L[pe]&&function(Qe){return new Promise(function(It,tn){!function fe(pe,Qe,It,tn){Promise.resolve(tn).then(function(ht){pe({value:ht,done:It})},Qe)}(It,tn,(Qe=L[pe](Qe)).done,Qe.value)})}}}H.d(Ne,{FC:()=>bt,KL:()=>Kt,mG:()=>qe,qq:()=>it})},6895:(yt,Ne,H)=>{H.d(Ne,{Do:()=>Kt,EM:()=>Hi,HT:()=>he,JF:()=>ra,JJ:()=>Or,K0:()=>Fe,Mx:()=>Ti,O5:()=>Ls,Ov:()=>Jo,RF:()=>ln,S$:()=>it,V_:()=>ce,Ye:()=>_e,b0:()=>Ve,bD:()=>js,ez:()=>ta,mk:()=>ei,n9:()=>vr,q:()=>ee,sg:()=>Nr,tP:()=>Cn,uU:()=>$a,w_:()=>Be});var g=H(1571);let O=null;function ee(){return O}function he(C){O||(O=C)}class Be{}const Fe=new g.OlP("DocumentToken");let qe=(()=>{class C{historyGo(b){throw new Error("Not implemented")}}return C.\u0275fac=function(b){return new(b||C)},C.\u0275prov=g.Yz7({token:C,factory:function(){return function Le(){return(0,g.LFG)(ge)}()},providedIn:"platform"}),C})();const ce=new g.OlP("Location Initialized");let ge=(()=>{class C extends qe{constructor(b){super(),this._doc=b,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ee().getBaseHref(this._doc)}onPopState(b){const k=ee().getGlobalEventTarget(this._doc,"window");return k.addEventListener("popstate",b,!1),()=>k.removeEventListener("popstate",b)}onHashChange(b){const k=ee().getGlobalEventTarget(this._doc,"window");return k.addEventListener("hashchange",b,!1),()=>k.removeEventListener("hashchange",b)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(b){this.location.pathname=b}pushState(b,k,K){De()?this._history.pushState(b,k,K):this.location.hash=K}replaceState(b,k,K){De()?this._history.replaceState(b,k,K):this.location.hash=K}forward(){this._history.forward()}back(){this._history.back()}historyGo(b=0){this._history.go(b)}getState(){return this._history.state}}return C.\u0275fac=function(b){return new(b||C)(g.LFG(Fe))},C.\u0275prov=g.Yz7({token:C,factory:function(){return function dt(){return new ge((0,g.LFG)(Fe))}()},providedIn:"platform"}),C})();function De(){return!!window.history.pushState}function Oe(C,N){if(0==C.length)return N;if(0==N.length)return C;let b=0;return C.endsWith("/")&&b++,N.startsWith("/")&&b++,2==b?C+N.substring(1):1==b?C+N:C+"/"+N}function Je(C){const N=C.match(/#|\?|$/),b=N&&N.index||C.length;return C.slice(0,b-("/"===C[b-1]?1:0))+C.slice(b)}function ke(C){return C&&"?"!==C[0]?"?"+C:C}let it=(()=>{class C{historyGo(b){throw new Error("Not implemented")}}return C.\u0275fac=function(b){return new(b||C)},C.\u0275prov=g.Yz7({token:C,factory:function(){return(0,g.f3M)(Ve)},providedIn:"root"}),C})();const bt=new g.OlP("appBaseHref");let Ve=(()=>{class C extends it{constructor(b,k){super(),this._platformLocation=b,this._removeListenerFns=[],this._baseHref=k??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(Fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(b){this._removeListenerFns.push(this._platformLocation.onPopState(b),this._platformLocation.onHashChange(b))}getBaseHref(){return this._baseHref}prepareExternalUrl(b){return Oe(this._baseHref,b)}path(b=!1){const k=this._platformLocation.pathname+ke(this._platformLocation.search),K=this._platformLocation.hash;return K&&b?`${k}${K}`:k}pushState(b,k,K,ue){const be=this.prepareExternalUrl(K+ke(ue));this._platformLocation.pushState(b,k,be)}replaceState(b,k,K,ue){const be=this.prepareExternalUrl(K+ke(ue));this._platformLocation.replaceState(b,k,be)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(b=0){this._platformLocation.historyGo?.(b)}}return C.\u0275fac=function(b){return new(b||C)(g.LFG(qe),g.LFG(bt,8))},C.\u0275prov=g.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),Kt=(()=>{class C extends it{constructor(b,k){super(),this._platformLocation=b,this._baseHref="",this._removeListenerFns=[],null!=k&&(this._baseHref=k)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(b){this._removeListenerFns.push(this._platformLocation.onPopState(b),this._platformLocation.onHashChange(b))}getBaseHref(){return this._baseHref}path(b=!1){let k=this._platformLocation.hash;return null==k&&(k="#"),k.length>0?k.substring(1):k}prepareExternalUrl(b){const k=Oe(this._baseHref,b);return k.length>0?"#"+k:k}pushState(b,k,K,ue){let be=this.prepareExternalUrl(K+ke(ue));0==be.length&&(be=this._platformLocation.pathname),this._platformLocation.pushState(b,k,be)}replaceState(b,k,K,ue){let be=this.prepareExternalUrl(K+ke(ue));0==be.length&&(be=this._platformLocation.pathname),this._platformLocation.replaceState(b,k,be)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(b=0){this._platformLocation.historyGo?.(b)}}return C.\u0275fac=function(b){return new(b||C)(g.LFG(qe),g.LFG(bt,8))},C.\u0275prov=g.Yz7({token:C,factory:C.\u0275fac}),C})(),_e=(()=>{class C{constructor(b){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=b;const k=this._locationStrategy.getBaseHref();this._baseHref=Je(Se(k)),this._locationStrategy.onPopState(K=>{this._subject.emit({url:this.path(!0),pop:!0,state:K.state,type:K.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(b=!1){return this.normalize(this._locationStrategy.path(b))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(b,k=""){return this.path()==this.normalize(b+ke(k))}normalize(b){return C.stripTrailingSlash(function Ke(C,N){return C&&N.startsWith(C)?N.substring(C.length):N}(this._baseHref,Se(b)))}prepareExternalUrl(b){return b&&"/"!==b[0]&&(b="/"+b),this._locationStrategy.prepareExternalUrl(b)}go(b,k="",K=null){this._locationStrategy.pushState(K,"",b,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(b+ke(k)),K)}replaceState(b,k="",K=null){this._locationStrategy.replaceState(K,"",b,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(b+ke(k)),K)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(b=0){this._locationStrategy.historyGo?.(b)}onUrlChange(b){return this._urlChangeListeners.push(b),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(k=>{this._notifyUrlChangeListeners(k.url,k.state)})),()=>{const k=this._urlChangeListeners.indexOf(b);this._urlChangeListeners.splice(k,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(b="",k){this._urlChangeListeners.forEach(K=>K(b,k))}subscribe(b,k,K){return this._subject.subscribe({next:b,error:k,complete:K})}}return C.normalizeQueryParams=ke,C.joinWithSlash=Oe,C.stripTrailingSlash=Je,C.\u0275fac=function(b){return new(b||C)(g.LFG(it))},C.\u0275prov=g.Yz7({token:C,factory:function(){return function ye(){return new _e((0,g.LFG)(it))}()},providedIn:"root"}),C})();function Se(C){return C.replace(/\/index.html$/,"")}var Y=(()=>((Y=Y||{})[Y.Decimal=0]="Decimal",Y[Y.Percent=1]="Percent",Y[Y.Currency=2]="Currency",Y[Y.Scientific=3]="Scientific",Y))(),L=(()=>((L=L||{})[L.Format=0]="Format",L[L.Standalone=1]="Standalone",L))(),G=(()=>((G=G||{})[G.Narrow=0]="Narrow",G[G.Abbreviated=1]="Abbreviated",G[G.Wide=2]="Wide",G[G.Short=3]="Short",G))(),U=(()=>((U=U||{})[U.Short=0]="Short",U[U.Medium=1]="Medium",U[U.Long=2]="Long",U[U.Full=3]="Full",U))(),W=(()=>((W=W||{})[W.Decimal=0]="Decimal",W[W.Group=1]="Group",W[W.List=2]="List",W[W.PercentSign=3]="PercentSign",W[W.PlusSign=4]="PlusSign",W[W.MinusSign=5]="MinusSign",W[W.Exponential=6]="Exponential",W[W.SuperscriptingExponent=7]="SuperscriptingExponent",W[W.PerMille=8]="PerMille",W[W.Infinity=9]="Infinity",W[W.NaN=10]="NaN",W[W.TimeSeparator=11]="TimeSeparator",W[W.CurrencyDecimal=12]="CurrencyDecimal",W[W.CurrencyGroup=13]="CurrencyGroup",W))();function Mt(C,N){return tt((0,g.cg1)(C)[g.wAp.DateFormat],N)}function wt(C,N){return tt((0,g.cg1)(C)[g.wAp.TimeFormat],N)}function jn(C,N){return tt((0,g.cg1)(C)[g.wAp.DateTimeFormat],N)}function sn(C,N){const b=(0,g.cg1)(C),k=b[g.wAp.NumberSymbols][N];if(typeof k>"u"){if(N===W.CurrencyDecimal)return b[g.wAp.NumberSymbols][W.Decimal];if(N===W.CurrencyGroup)return b[g.wAp.NumberSymbols][W.Group]}return k}function us(C){if(!C[g.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${C[g.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function tt(C,N){for(let b=N;b>-1;b--)if(typeof C[b]<"u")return C[b];throw new Error("Locale data API: locale data undefined")}function or(C){const[N,b]=C.split(":");return{hours:+N,minutes:+b}}const Yo=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xn={},Nn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var on=(()=>((on=on||{})[on.Short=0]="Short",on[on.ShortGMT=1]="ShortGMT",on[on.Long=2]="Long",on[on.Extended=3]="Extended",on))(),ot=(()=>((ot=ot||{})[ot.FullYear=0]="FullYear",ot[ot.Month=1]="Month",ot[ot.Date=2]="Date",ot[ot.Hours=3]="Hours",ot[ot.Minutes=4]="Minutes",ot[ot.Seconds=5]="Seconds",ot[ot.FractionalSeconds=6]="FractionalSeconds",ot[ot.Day=7]="Day",ot))(),ut=(()=>((ut=ut||{})[ut.DayPeriods=0]="DayPeriods",ut[ut.Days=1]="Days",ut[ut.Months=2]="Months",ut[ut.Eras=3]="Eras",ut))();function Yt(C,N,b,k){let K=function Jr(C){if(Si(C))return C;if("number"==typeof C&&!isNaN(C))return new Date(C);if("string"==typeof C){if(C=C.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(C)){const[K,ue=1,be=1]=C.split("-").map(ze=>+ze);return Yn(K,ue-1,be)}const b=parseFloat(C);if(!isNaN(C-b))return new Date(b);let k;if(k=C.match(Yo))return function Ii(C){const N=new Date(0);let b=0,k=0;const K=C[8]?N.setUTCFullYear:N.setFullYear,ue=C[8]?N.setUTCHours:N.setHours;C[9]&&(b=Number(C[9]+C[10]),k=Number(C[9]+C[11])),K.call(N,Number(C[1]),Number(C[2])-1,Number(C[3]));const be=Number(C[4]||0)-b,ze=Number(C[5]||0)-k,Ct=Number(C[6]||0),Rt=Math.floor(1e3*parseFloat("0."+(C[7]||0)));return ue.call(N,be,ze,Ct,Rt),N}(k)}const N=new Date(C);if(!Si(N))throw new Error(`Unable to convert "${C}" into a date`);return N}(C);N=Dn(b,N)||N;let ze,be=[];for(;N;){if(ze=Nn.exec(N),!ze){be.push(N);break}{be=be.concat(ze.slice(1));const lt=be.pop();if(!lt)break;N=lt}}let Ct=K.getTimezoneOffset();k&&(Ct=Qr(k,Ct),K=function mo(C,N,b){const k=b?-1:1,K=C.getTimezoneOffset();return function gi(C,N){return(C=new Date(C.getTime())).setMinutes(C.getMinutes()+N),C}(C,k*(Qr(N,K)-K))}(K,k,!0));let Rt="";return be.forEach(lt=>{const Pt=function Zr(C){if(Dt[C])return Dt[C];let N;switch(C){case"G":case"GG":case"GGG":N=Xe(ut.Eras,G.Abbreviated);break;case"GGGG":N=Xe(ut.Eras,G.Wide);break;case"GGGGG":N=Xe(ut.Eras,G.Narrow);break;case"y":N=hn(ot.FullYear,1,0,!1,!0);break;case"yy":N=hn(ot.FullYear,2,0,!0,!0);break;case"yyy":N=hn(ot.FullYear,3,0,!1,!0);break;case"yyyy":N=hn(ot.FullYear,4,0,!1,!0);break;case"Y":N=Zn(1);break;case"YY":N=Zn(2,!0);break;case"YYY":N=Zn(3);break;case"YYYY":N=Zn(4);break;case"M":case"L":N=hn(ot.Month,1,1);break;case"MM":case"LL":N=hn(ot.Month,2,1);break;case"MMM":N=Xe(ut.Months,G.Abbreviated);break;case"MMMM":N=Xe(ut.Months,G.Wide);break;case"MMMMM":N=Xe(ut.Months,G.Narrow);break;case"LLL":N=Xe(ut.Months,G.Abbreviated,L.Standalone);break;case"LLLL":N=Xe(ut.Months,G.Wide,L.Standalone);break;case"LLLLL":N=Xe(ut.Months,G.Narrow,L.Standalone);break;case"w":N=Ur(1);break;case"ww":N=Ur(2);break;case"W":N=Ur(1,!0);break;case"d":N=hn(ot.Date,1);break;case"dd":N=hn(ot.Date,2);break;case"c":case"cc":N=hn(ot.Day,1);break;case"ccc":N=Xe(ut.Days,G.Abbreviated,L.Standalone);break;case"cccc":N=Xe(ut.Days,G.Wide,L.Standalone);break;case"ccccc":N=Xe(ut.Days,G.Narrow,L.Standalone);break;case"cccccc":N=Xe(ut.Days,G.Short,L.Standalone);break;case"E":case"EE":case"EEE":N=Xe(ut.Days,G.Abbreviated);break;case"EEEE":N=Xe(ut.Days,G.Wide);break;case"EEEEE":N=Xe(ut.Days,G.Narrow);break;case"EEEEEE":N=Xe(ut.Days,G.Short);break;case"a":case"aa":case"aaa":N=Xe(ut.DayPeriods,G.Abbreviated);break;case"aaaa":N=Xe(ut.DayPeriods,G.Wide);break;case"aaaaa":N=Xe(ut.DayPeriods,G.Narrow);break;case"b":case"bb":case"bbb":N=Xe(ut.DayPeriods,G.Abbreviated,L.Standalone,!0);break;case"bbbb":N=Xe(ut.DayPeriods,G.Wide,L.Standalone,!0);break;case"bbbbb":N=Xe(ut.DayPeriods,G.Narrow,L.Standalone,!0);break;case"B":case"BB":case"BBB":N=Xe(ut.DayPeriods,G.Abbreviated,L.Format,!0);break;case"BBBB":N=Xe(ut.DayPeriods,G.Wide,L.Format,!0);break;case"BBBBB":N=Xe(ut.DayPeriods,G.Narrow,L.Format,!0);break;case"h":N=hn(ot.Hours,1,-12);break;case"hh":N=hn(ot.Hours,2,-12);break;case"H":N=hn(ot.Hours,1);break;case"HH":N=hn(ot.Hours,2);break;case"m":N=hn(ot.Minutes,1);break;case"mm":N=hn(ot.Minutes,2);break;case"s":N=hn(ot.Seconds,1);break;case"ss":N=hn(ot.Seconds,2);break;case"S":N=hn(ot.FractionalSeconds,1);break;case"SS":N=hn(ot.FractionalSeconds,2);break;case"SSS":N=hn(ot.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":N=ur(on.Short);break;case"ZZZZZ":N=ur(on.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":N=ur(on.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":N=ur(on.Long);break;default:return null}return Dt[C]=N,N}(lt);Rt+=Pt?Pt(K,b,Ct):"''"===lt?"'":lt.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Rt}function Yn(C,N,b){const k=new Date(0);return k.setFullYear(C,N,b),k.setHours(0,0,0),k}function Dn(C,N){const b=function pe(C){return(0,g.cg1)(C)[g.wAp.LocaleId]}(C);if(xn[b]=xn[b]||{},xn[b][N])return xn[b][N];let k="";switch(N){case"shortDate":k=Mt(C,U.Short);break;case"mediumDate":k=Mt(C,U.Medium);break;case"longDate":k=Mt(C,U.Long);break;case"fullDate":k=Mt(C,U.Full);break;case"shortTime":k=wt(C,U.Short);break;case"mediumTime":k=wt(C,U.Medium);break;case"longTime":k=wt(C,U.Long);break;case"fullTime":k=wt(C,U.Full);break;case"short":const K=Dn(C,"shortTime"),ue=Dn(C,"shortDate");k=ar(jn(C,U.Short),[K,ue]);break;case"medium":const be=Dn(C,"mediumTime"),ze=Dn(C,"mediumDate");k=ar(jn(C,U.Medium),[be,ze]);break;case"long":const Ct=Dn(C,"longTime"),Rt=Dn(C,"longDate");k=ar(jn(C,U.Long),[Ct,Rt]);break;case"full":const lt=Dn(C,"fullTime"),Pt=Dn(C,"fullDate");k=ar(jn(C,U.Full),[lt,Pt])}return k&&(xn[b][N]=k),k}function ar(C,N){return N&&(C=C.replace(/\{([^}]+)}/g,function(b,k){return null!=N&&k in N?N[k]:b})),C}function Lt(C,N,b="-",k,K){let ue="";(C<0||K&&C<=0)&&(K?C=1-C:(C=-C,ue=b));let be=String(C);for(;be.length<N;)be="0"+be;return k&&(be=be.slice(be.length-N)),ue+be}function hn(C,N,b=0,k=!1,K=!1){return function(ue,be){let ze=function ls(C,N){switch(C){case ot.FullYear:return N.getFullYear();case ot.Month:return N.getMonth();case ot.Date:return N.getDate();case ot.Hours:return N.getHours();case ot.Minutes:return N.getMinutes();case ot.Seconds:return N.getSeconds();case ot.FractionalSeconds:return N.getMilliseconds();case ot.Day:return N.getDay();default:throw new Error(`Unknown DateType value "${C}".`)}}(C,ue);if((b>0||ze>-b)&&(ze+=b),C===ot.Hours)0===ze&&-12===b&&(ze=12);else if(C===ot.FractionalSeconds)return function ks(C,N){return Lt(C,3).substring(0,N)}(ze,N);const Ct=sn(be,W.MinusSign);return Lt(ze,N,Ct,k,K)}}function Xe(C,N,b=L.Format,k=!1){return function(K,ue){return function pi(C,N,b,k,K,ue){switch(b){case ut.Months:return function tn(C,N,b){const k=(0,g.cg1)(C),ue=tt([k[g.wAp.MonthsFormat],k[g.wAp.MonthsStandalone]],N);return tt(ue,b)}(N,K,k)[C.getMonth()];case ut.Days:return function It(C,N,b){const k=(0,g.cg1)(C),ue=tt([k[g.wAp.DaysFormat],k[g.wAp.DaysStandalone]],N);return tt(ue,b)}(N,K,k)[C.getDay()];case ut.DayPeriods:const be=C.getHours(),ze=C.getMinutes();if(ue){const Rt=function cs(C){const N=(0,g.cg1)(C);return us(N),(N[g.wAp.ExtraData][2]||[]).map(k=>"string"==typeof k?or(k):[or(k[0]),or(k[1])])}(N),lt=function bi(C,N,b){const k=(0,g.cg1)(C);us(k);const ue=tt([k[g.wAp.ExtraData][0],k[g.wAp.ExtraData][1]],N)||[];return tt(ue,b)||[]}(N,K,k),Pt=Rt.findIndex(mn=>{if(Array.isArray(mn)){const[Qt,Ut]=mn,Er=be>=Qt.hours&&ze>=Qt.minutes,Pr=be<Ut.hours||be===Ut.hours&&ze<Ut.minutes;if(Qt.hours<Ut.hours){if(Er&&Pr)return!0}else if(Er||Pr)return!0}else if(mn.hours===be&&mn.minutes===ze)return!0;return!1});if(-1!==Pt)return lt[Pt]}return function Qe(C,N,b){const k=(0,g.cg1)(C),ue=tt([k[g.wAp.DayPeriodsFormat],k[g.wAp.DayPeriodsStandalone]],N);return tt(ue,b)}(N,K,k)[be<12?0:1];case ut.Eras:return function ht(C,N){return tt((0,g.cg1)(C)[g.wAp.Eras],N)}(N,k)[C.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${b}`)}}(K,ue,C,N,b,k)}}function ur(C){return function(N,b,k){const K=-1*k,ue=sn(b,W.MinusSign),be=K>0?Math.floor(K/60):Math.ceil(K/60);switch(C){case on.Short:return(K>=0?"+":"")+Lt(be,2,ue)+Lt(Math.abs(K%60),2,ue);case on.ShortGMT:return"GMT"+(K>=0?"+":"")+Lt(be,1,ue);case on.Long:return"GMT"+(K>=0?"+":"")+Lt(be,2,ue)+":"+Lt(Math.abs(K%60),2,ue);case on.Extended:return 0===k?"Z":(K>=0?"+":"")+Lt(be,2,ue)+":"+Lt(Math.abs(K%60),2,ue);default:throw new Error(`Unknown zone width "${C}"`)}}}function _t(C){return Yn(C.getFullYear(),C.getMonth(),C.getDate()+(4-C.getDay()))}function Ur(C,N=!1){return function(b,k){let K;if(N){const ue=new Date(b.getFullYear(),b.getMonth(),1).getDay()-1,be=b.getDate();K=1+Math.floor((be+ue)/7)}else{const ue=_t(b),be=function On(C){const N=Yn(C,0,1).getDay();return Yn(C,0,1+(N<=4?4:11)-N)}(ue.getFullYear()),ze=ue.getTime()-be.getTime();K=1+Math.round(ze/6048e5)}return Lt(K,C,sn(k,W.MinusSign))}}function Zn(C,N=!1){return function(b,k){return Lt(_t(b).getFullYear(),C,sn(k,W.MinusSign),N)}}const Dt={};function Qr(C,N){C=C.replace(/:/g,"");const b=Date.parse("Jan 01, 1970 00:00:00 "+C)/6e4;return isNaN(b)?N:b}function Si(C){return C instanceof Date&&!isNaN(C.valueOf())}const Nt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,X=".",Q="0";function Xr(C){const N=parseInt(C);if(isNaN(N))throw new Error("Invalid integer literal when parsing "+C);return N}function Ti(C,N){N=encodeURIComponent(N);for(const b of C.split(";")){const k=b.indexOf("="),[K,ue]=-1==k?[b,""]:[b.slice(0,k),b.slice(k+1)];if(K.trim()===N)return decodeURIComponent(ue)}return null}let ei=(()=>{class C{constructor(b,k,K,ue){this._iterableDiffers=b,this._keyValueDiffers=k,this._ngEl=K,this._renderer=ue,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(b){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof b?b.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(b){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof b?b.split(/\s+/):b,this._rawClass&&((0,g.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const b=this._iterableDiffer.diff(this._rawClass);b&&this._applyIterableChanges(b)}else if(this._keyValueDiffer){const b=this._keyValueDiffer.diff(this._rawClass);b&&this._applyKeyValueChanges(b)}}_applyKeyValueChanges(b){b.forEachAddedItem(k=>this._toggleClass(k.key,k.currentValue)),b.forEachChangedItem(k=>this._toggleClass(k.key,k.currentValue)),b.forEachRemovedItem(k=>{k.previousValue&&this._toggleClass(k.key,!1)})}_applyIterableChanges(b){b.forEachAddedItem(k=>{if("string"!=typeof k.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,g.AaK)(k.item)}`);this._toggleClass(k.item,!0)}),b.forEachRemovedItem(k=>this._toggleClass(k.item,!1))}_applyClasses(b){b&&(Array.isArray(b)||b instanceof Set?b.forEach(k=>this._toggleClass(k,!0)):Object.keys(b).forEach(k=>this._toggleClass(k,!!b[k])))}_removeClasses(b){b&&(Array.isArray(b)||b instanceof Set?b.forEach(k=>this._toggleClass(k,!1)):Object.keys(b).forEach(k=>this._toggleClass(k,!1)))}_toggleClass(b,k){(b=b.trim())&&b.split(/\s+/g).forEach(K=>{k?this._renderer.addClass(this._ngEl.nativeElement,K):this._renderer.removeClass(this._ngEl.nativeElement,K)})}}return C.\u0275fac=function(b){return new(b||C)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))},C.\u0275dir=g.lG2({type:C,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),C})();class $t{constructor(N,b,k,K){this.$implicit=N,this.ngForOf=b,this.index=k,this.count=K}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Nr=(()=>{class C{constructor(b,k,K){this._viewContainer=b,this._template=k,this._differs=K,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(b){this._ngForOf=b,this._ngForOfDirty=!0}set ngForTrackBy(b){this._trackByFn=b}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(b){b&&(this._template=b)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const b=this._ngForOf;!this._differ&&b&&(this._differ=this._differs.find(b).create(this.ngForTrackBy))}if(this._differ){const b=this._differ.diff(this._ngForOf);b&&this._applyChanges(b)}}_applyChanges(b){const k=this._viewContainer;b.forEachOperation((K,ue,be)=>{if(null==K.previousIndex)k.createEmbeddedView(this._template,new $t(K.item,this._ngForOf,-1,-1),null===be?void 0:be);else if(null==be)k.remove(null===ue?void 0:ue);else if(null!==ue){const ze=k.get(ue);k.move(ze,be),yo(ze,K)}});for(let K=0,ue=k.length;K<ue;K++){const ze=k.get(K).context;ze.index=K,ze.count=ue,ze.ngForOf=this._ngForOf}b.forEachIdentityChange(K=>{yo(k.get(K.currentIndex),K)})}static ngTemplateContextGuard(b,k){return!0}}return C.\u0275fac=function(b){return new(b||C)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},C.\u0275dir=g.lG2({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),C})();function yo(C,N){C.context.$implicit=N.item}let Ls=(()=>{class C{constructor(b,k){this._viewContainer=b,this._context=new ti,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=k}set ngIf(b){this._context.$implicit=this._context.ngIf=b,this._updateView()}set ngIfThen(b){_i("ngIfThen",b),this._thenTemplateRef=b,this._thenViewRef=null,this._updateView()}set ngIfElse(b){_i("ngIfElse",b),this._elseTemplateRef=b,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(b,k){return!0}}return C.\u0275fac=function(b){return new(b||C)(g.Y36(g.s_b),g.Y36(g.Rgc))},C.\u0275dir=g.lG2({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),C})();class ti{constructor(){this.$implicit=null,this.ngIf=null}}function _i(C,N){if(N&&!N.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,g.AaK)(N)}'.`)}class Hr{constructor(N,b){this._viewContainerRef=N,this._templateRef=b,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(N){N&&!this._created?this.create():!N&&this._created&&this.destroy()}}let ln=(()=>{class C{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(b){this._ngSwitch=b,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(b){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(b)}_matchCase(b){const k=b==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||k,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),k}_updateDefaultCases(b){if(this._defaultViews&&b!==this._defaultUsed){this._defaultUsed=b;for(let k=0;k<this._defaultViews.length;k++)this._defaultViews[k].enforceState(b)}}}return C.\u0275fac=function(b){return new(b||C)},C.\u0275dir=g.lG2({type:C,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),C})(),vr=(()=>{class C{constructor(b,k,K){this.ngSwitch=K,K._addCase(),this._view=new Hr(b,k)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return C.\u0275fac=function(b){return new(b||C)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(ln,9))},C.\u0275dir=g.lG2({type:C,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),C})(),Cn=(()=>{class C{constructor(b){this._viewContainerRef=b,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(b){if(b.ngTemplateOutlet||b.ngTemplateOutletInjector){const k=this._viewContainerRef;if(this._viewRef&&k.remove(k.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:K,ngTemplateOutletContext:ue,ngTemplateOutletInjector:be}=this;this._viewRef=k.createEmbeddedView(K,ue,be?{injector:be}:void 0)}else this._viewRef=null}else this._viewRef&&b.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return C.\u0275fac=function(b){return new(b||C)(g.Y36(g.s_b))},C.\u0275dir=g.lG2({type:C,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[g.TTD]}),C})();function Rn(C,N){return new g.vHH(2100,!1)}class hs{createSubscription(N,b){return N.subscribe({next:b,error:k=>{throw k}})}dispose(N){N.unsubscribe()}}class Zo{createSubscription(N,b){return N.then(b,k=>{throw k})}dispose(N){}}const ja=new Zo,Qo=new hs;let Jo=(()=>{class C{constructor(b){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=b}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(b){return this._obj?b!==this._obj?(this._dispose(),this.transform(b)):this._latestValue:(b&&this._subscribe(b),this._latestValue)}_subscribe(b){this._obj=b,this._strategy=this._selectStrategy(b),this._subscription=this._strategy.createSubscription(b,k=>this._updateLatestValue(b,k))}_selectStrategy(b){if((0,g.QGY)(b))return ja;if((0,g.F4k)(b))return Qo;throw Rn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(b,k){b===this._obj&&(this._latestValue=k,this._ref.markForCheck())}}return C.\u0275fac=function(b){return new(b||C)(g.Y36(g.sBO,16))},C.\u0275pipe=g.Yjl({name:"async",type:C,pure:!1,standalone:!0}),C})();const vo=new g.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let $a=(()=>{class C{constructor(b,k){this.locale=b,this.defaultTimezone=k}transform(b,k="mediumDate",K,ue){if(null==b||""===b||b!=b)return null;try{return Yt(b,k,ue||this.locale,K??this.defaultTimezone??void 0)}catch(be){throw Rn()}}}return C.\u0275fac=function(b){return new(b||C)(g.Y36(g.soG,16),g.Y36(vo,24))},C.\u0275pipe=g.Yjl({name:"date",type:C,pure:!0,standalone:!0}),C})(),Or=(()=>{class C{constructor(b){this._locale=b}transform(b,k,K){if(!function Gr(C){return!(null==C||""===C||C!=C)}(b))return null;K=K||this._locale;try{return function yr(C,N,b){return function St(C,N,b,k,K,ue,be=!1){let ze="",Ct=!1;if(isFinite(C)){let Rt=function yi(C){let k,K,ue,be,ze,N=Math.abs(C)+"",b=0;for((K=N.indexOf(X))>-1&&(N=N.replace(X,"")),(ue=N.search(/e/i))>0?(K<0&&(K=ue),K+=+N.slice(ue+1),N=N.substring(0,ue)):K<0&&(K=N.length),ue=0;N.charAt(ue)===Q;ue++);if(ue===(ze=N.length))k=[0],K=1;else{for(ze--;N.charAt(ze)===Q;)ze--;for(K-=ue,k=[],be=0;ue<=ze;ue++,be++)k[be]=Number(N.charAt(ue))}return K>22&&(k=k.splice(0,21),b=K-1,K=1),{digits:k,exponent:b,integerLen:K}}(C);be&&(Rt=function mi(C){if(0===C.digits[0])return C;const N=C.digits.length-C.integerLen;return C.exponent?C.exponent+=2:(0===N?C.digits.push(0,0):1===N&&C.digits.push(0),C.integerLen+=2),C}(Rt));let lt=N.minInt,Pt=N.minFrac,mn=N.maxFrac;if(ue){const dr=ue.match(Nt);if(null===dr)throw new Error(`${ue} is not a valid digit info`);const Wi=dr[1],Ki=dr[3],Qs=dr[5];null!=Wi&&(lt=Xr(Wi)),null!=Ki&&(Pt=Xr(Ki)),null!=Qs?mn=Xr(Qs):null!=Ki&&Pt>mn&&(mn=Pt)}!function ct(C,N,b){if(N>b)throw new Error(`The minimum number of digits after fraction (${N}) is higher than the maximum (${b}).`);let k=C.digits,K=k.length-C.integerLen;const ue=Math.min(Math.max(N,K),b);let be=ue+C.integerLen,ze=k[be];if(be>0){k.splice(Math.max(C.integerLen,be));for(let Pt=be;Pt<k.length;Pt++)k[Pt]=0}else{K=Math.max(0,K),C.integerLen=1,k.length=Math.max(1,be=ue+1),k[0]=0;for(let Pt=1;Pt<be;Pt++)k[Pt]=0}if(ze>=5)if(be-1<0){for(let Pt=0;Pt>be;Pt--)k.unshift(0),C.integerLen++;k.unshift(1),C.integerLen++}else k[be-1]++;for(;K<Math.max(0,ue);K++)k.push(0);let Ct=0!==ue;const Rt=N+C.integerLen,lt=k.reduceRight(function(Pt,mn,Qt,Ut){return Ut[Qt]=(mn+=Pt)<10?mn:mn-10,Ct&&(0===Ut[Qt]&&Qt>=Rt?Ut.pop():Ct=!1),mn>=10?1:0},0);lt&&(k.unshift(lt),C.integerLen++)}(Rt,Pt,mn);let Qt=Rt.digits,Ut=Rt.integerLen;const Er=Rt.exponent;let Pr=[];for(Ct=Qt.every(dr=>!dr);Ut<lt;Ut++)Qt.unshift(0);for(;Ut<0;Ut++)Qt.unshift(0);Ut>0?Pr=Qt.splice(Ut,Qt.length):(Pr=Qt,Qt=[0]);const lr=[];for(Qt.length>=N.lgSize&&lr.unshift(Qt.splice(-N.lgSize,Qt.length).join(""));Qt.length>N.gSize;)lr.unshift(Qt.splice(-N.gSize,Qt.length).join(""));Qt.length&&lr.unshift(Qt.join("")),ze=lr.join(sn(b,k)),Pr.length&&(ze+=sn(b,K)+Pr.join("")),Er&&(ze+=sn(b,W.Exponential)+"+"+Er)}else ze=sn(b,W.Infinity);return ze=C<0&&!Ct?N.negPre+ze+N.negSuf:N.posPre+ze+N.posSuf,ze}(C,function en(C,N="-"){const b={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},k=C.split(";"),K=k[0],ue=k[1],be=-1!==K.indexOf(X)?K.split(X):[K.substring(0,K.lastIndexOf(Q)+1),K.substring(K.lastIndexOf(Q)+1)],ze=be[0],Ct=be[1]||"";b.posPre=ze.substring(0,ze.indexOf("#"));for(let lt=0;lt<Ct.length;lt++){const Pt=Ct.charAt(lt);Pt===Q?b.minFrac=b.maxFrac=lt+1:"#"===Pt?b.maxFrac=lt+1:b.posSuf+=Pt}const Rt=ze.split(",");if(b.gSize=Rt[1]?Rt[1].length:0,b.lgSize=Rt[2]||Rt[1]?(Rt[2]||Rt[1]).length:0,ue){const lt=K.length-b.posPre.length-b.posSuf.length,Pt=ue.indexOf("#");b.negPre=ue.substring(0,Pt).replace(/'/g,""),b.negSuf=ue.slice(Pt+lt).replace(/'/g,"")}else b.negPre=N+b.posPre,b.negSuf=b.posSuf;return b}(function Sn(C,N){return(0,g.cg1)(C)[g.wAp.NumberFormats][N]}(N,Y.Decimal),sn(N,W.MinusSign)),N,W.Group,W.Decimal,b)}(function gs(C){if("string"==typeof C&&!isNaN(Number(C)-parseFloat(C)))return Number(C);if("number"!=typeof C)throw new Error(`${C} is not a number`);return C}(b),K,k)}catch(ue){throw Rn()}}}return C.\u0275fac=function(b){return new(b||C)(g.Y36(g.soG,16))},C.\u0275pipe=g.Yjl({name:"number",type:C,pure:!0,standalone:!0}),C})();let ta=(()=>{class C{}return C.\u0275fac=function(b){return new(b||C)},C.\u0275mod=g.oAB({type:C}),C.\u0275inj=g.cJS({}),C})();const js="browser";let Hi=(()=>{class C{}return C.\u0275prov=(0,g.Yz7)({token:C,providedIn:"root",factory:()=>new Gs((0,g.LFG)(Fe),window)}),C})();class Gs{constructor(N,b){this.document=N,this.window=b,this.offset=()=>[0,0]}setOffset(N){this.offset=Array.isArray(N)?()=>N:N}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(N){this.supportsScrolling()&&this.window.scrollTo(N[0],N[1])}scrollToAnchor(N){if(!this.supportsScrolling())return;const b=function un(C,N){const b=C.getElementById(N)||C.getElementsByName(N)[0];if(b)return b;if("function"==typeof C.createTreeWalker&&C.body&&(C.body.createShadowRoot||C.body.attachShadow)){const k=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let K=k.currentNode;for(;K;){const ue=K.shadowRoot;if(ue){const be=ue.getElementById(N)||ue.querySelector(`[name="${N}"]`);if(be)return be}K=k.nextNode()}}return null}(this.document,N);b&&(this.scrollToElement(b),b.focus())}setHistoryScrollRestoration(N){if(this.supportScrollRestoration()){const b=this.window.history;b&&b.scrollRestoration&&(b.scrollRestoration=N)}}scrollToElement(N){const b=N.getBoundingClientRect(),k=b.left+this.window.pageXOffset,K=b.top+this.window.pageYOffset,ue=this.offset();this.window.scrollTo(k-ue[0],K-ue[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const N=ms(this.window.history)||ms(Object.getPrototypeOf(this.window.history));return!(!N||!N.writable&&!N.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ms(C){return Object.getOwnPropertyDescriptor(C,"scrollRestoration")}class ra{}},1571:(yt,Ne,H)=>{H.d(Ne,{tb:()=>Gw,AFp:()=>jw,ip1:()=>Uw,CZH:()=>Nv,hGG:()=>zE,z2F:()=>Rv,sBO:()=>AE,Sil:()=>lE,_Vd:()=>Ea,EJc:()=>uE,Xts:()=>mt,SBq:()=>rc,lqb:()=>Oo,qLn:()=>ac,vpe:()=>Ba,XFs:()=>st,OlP:()=>jt,zs3:()=>Uo,ZZ4:()=>dD,aQg:()=>hD,soG:()=>Ov,YKP:()=>Cv,h0i:()=>Va,PXZ:()=>EE,R0b:()=>go,FiY:()=>Gu,Lbi:()=>sE,g9A:()=>$w,Qsj:()=>hr,FYo:()=>o_,JOm:()=>Fi,tp0:()=>su,Rgc:()=>Tg,dDg:()=>_E,eoX:()=>Qw,GfV:()=>An,s_b:()=>xv,ifc:()=>ar,MMx:()=>bv,Lck:()=>ew,eFA:()=>eC,G48:()=>xE,Gpc:()=>Je,f3M:()=>Og,_c5:()=>GE,c2e:()=>oE,zSh:()=>li,wAp:()=>vt,vHH:()=>Ve,lri:()=>Yw,rWj:()=>Zw,D6c:()=>qE,cg1:()=>Ar,kL8:()=>ho,dqk:()=>Lt,Z0I:()=>Ps,sIi:()=>Ta,CqO:()=>Cy,QGY:()=>gd,QP$:()=>Q,F4k:()=>jh,RDi:()=>Of,AaK:()=>De,qOj:()=>Mu,TTD:()=>Rr,_Bn:()=>Qc,jDz:()=>j0,xp6:()=>uh,uIk:()=>fd,Tol:()=>Ly,ekj:()=>Kp,Suo:()=>mw,Xpm:()=>Zn,lG2:()=>Ii,Yz7:()=>nn,cJS:()=>Kr,oAB:()=>gi,Yjl:()=>Si,Y36:()=>_c,_UZ:()=>Bh,GkF:()=>pd,qZA:()=>zo,TgZ:()=>Go,EpF:()=>Uh,n5z:()=>Fn,LFG:()=>bn,$8M:()=>pa,$Z:()=>Hm,NdJ:()=>jp,CRH:()=>yw,kcU:()=>Qt,O4$:()=>Pt,oxw:()=>Gp,ALo:()=>aw,lcZ:()=>uw,xi3:()=>cw,Q6J:()=>Na,MGl:()=>$h,VKq:()=>we,iGM:()=>gw,MAs:()=>Vh,KtG:()=>qi,CHM:()=>En,LSH:()=>Hf,YNc:()=>Lh,W1O:()=>ww,_uU:()=>jy,Oqu:()=>Qp,hij:()=>jc});var g=H(7579),O=H(727),ee=H(9751),ve=H(6451),he=H(8421),Be=H(2961),Fe=H(4482);function Le(n,i,...o){if(!0===i)return void n();if(!1===i)return;const u=new Be.Hp({next:()=>{u.unsubscribe(),n()}});return i(...o).subscribe(u)}function ce(n){for(let i in n)if(n[i]===ce)return i;throw Error("Could not find renamed property on target object.")}function ge(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function De(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(De).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function dt(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const Oe=ce({__forward_ref__:ce});function Je(n){return n.__forward_ref__=Je,n.toString=function(){return De(this())},n}function ke(n){return it(n)?n():n}function it(n){return"function"==typeof n&&n.hasOwnProperty(Oe)&&n.__forward_ref__===Je}class Ve extends Error{constructor(i,o){super(function Kt(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}(i,o)),this.code=i}}function _e(n){return"string"==typeof n?n:null==n?"":String(n)}function Y(n,i){throw new Ve(-201,!1)}function Mt(n,i){null==n&&function wt(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function nn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Kr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Br(n){return us(n,tt)||us(n,Tn)}function Ps(n){return null!==Br(n)}function us(n,i){return n.hasOwnProperty(i)?n[i]:null}function Fs(n){return n&&(n.hasOwnProperty(or)||n.hasOwnProperty(Kn))?n[or]:null}const tt=ce({\u0275prov:ce}),or=ce({\u0275inj:ce}),Tn=ce({ngInjectableDef:ce}),Kn=ce({ngInjectorDef:ce});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let Yo;function Nn(n){const i=Yo;return Yo=n,i}function on(n,i,o){const u=Br(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&st.Optional?null:void 0!==i?i:void Y(De(n))}function ut(n){return{toString:n}.toString()}var Yt=(()=>((Yt=Yt||{})[Yt.OnPush=0]="OnPush",Yt[Yt.Default=1]="Default",Yt))(),ar=(()=>{return(n=ar||(ar={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ar;var n})();const Lt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ls={},Xe=[],pi=ce({\u0275cmp:ce}),ur=ce({\u0275dir:ce}),mr=ce({\u0275pipe:ce}),Yr=ce({\u0275mod:ce}),On=ce({\u0275fac:ce}),_t=ce({__NG_ELEMENT_ID__:ce});let Ur=0;function Zn(n){return ut(()=>{const o=!0===n.standalone,u={},c={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Yt.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Xe,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ar.Emulated,id:"c"+Ur++,styles:n.styles||Xe,_:null,setInput:null,schemas:n.schemas||null,tView:null},d=n.dependencies,p=n.features;return c.inputs=Jr(n.inputs,u),c.outputs=Jr(n.outputs),p&&p.forEach(v=>v(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(Zr).filter(Qr):null,c.pipeDefs=d?()=>("function"==typeof d?d():d).map(X).filter(Qr):null,c})}function Zr(n){return Nt(n)||wn(n)}function Qr(n){return null!==n}function gi(n){return ut(()=>({type:n.type,bootstrap:n.bootstrap||Xe,declarations:n.declarations||Xe,imports:n.imports||Xe,exports:n.exports||Xe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Jr(n,i){if(null==n)return ls;const o={};for(const u in n)if(n.hasOwnProperty(u)){let c=n[u],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),o[c]=u,i&&(i[c]=d)}return o}const Ii=Zn;function Si(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Nt(n){return n[pi]||null}function wn(n){return n[ur]||null}function X(n){return n[mr]||null}function Q(n){const i=Nt(n)||wn(n)||X(n);return null!==i&&i.standalone}function z(n,i){const o=n[Yr]||null;if(!o&&!0===i)throw new Error(`Type ${De(n)} does not have '\u0275mod' property.`);return o}function er(n){return Array.isArray(n)&&"object"==typeof n[1]}function _r(n){return Array.isArray(n)&&!0===n[1]}function ds(n){return 0!=(8&n.flags)}function Vs(n){return 2==(2&n.flags)}function Bs(n){return 1==(1&n.flags)}function Cn(n){return null!==n.template}function Ua(n){return 0!=(256&n[2])}function Gr(n,i){return n.hasOwnProperty(On)?n[On]:null}class gs{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Rr(){return ea}function ea(n){return n.type.prototype.ngOnChanges&&(n.setInput=js),ta}function ta(){const n=ni(this),i=n?.current;if(i){const o=n.previous;if(o===ls)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function js(n,i,o,u){const c=ni(n)||function Hs(n,i){return n[ji]=i}(n,{previous:ls,current:null}),d=c.current||(c.current={}),p=c.previous,v=this.declaredInputs[o],w=p[v];d[v]=new gs(w&&w.currentValue,i,p===ls),n[u]=i}Rr.ngInherit=!0;const ji="__ngSimpleChanges__";function ni(n){return n[ji]||null}function un(n){for(;Array.isArray(n);)n=n[0];return n}function zs(n,i){return un(i[n])}function Bt(n,i){return un(i[n.index])}function Di(n,i){return n.data[i]}function ys(n,i){return n[i]}function Hn(n,i){const o=i[n];return er(o)?o:o[0]}function $i(n){return 4==(4&n[2])}function vs(n){return 64==(64&n[2])}function Gi(n,i){return null==i?null:n[i]}function qa(n){n[18]=0}function qr(n,i){n[5]+=i;let o=n,u=n[3];for(;null!==u&&(1===i&&1===o[5]||-1===i&&0===o[5]);)u[5]+=i,o=u,u=u[3]}const Ee={lFrame:b(null),bindingsEnabled:!0};function Ys(){return Ee.bindingsEnabled}function Ie(){return Ee.lFrame.lView}function kt(){return Ee.lFrame.tView}function En(n){return Ee.lFrame.contextLView=n,n[8]}function qi(n){return Ee.lFrame.contextLView=null,n}function Ot(){let n=wr();for(;null!==n&&64===n.type;)n=n.parent;return n}function wr(){return Ee.lFrame.currentTNode}function ii(n,i){const o=Ee.lFrame;o.currentTNode=n,o.isParent=i}function x(){return Ee.lFrame.isParent}function S(){Ee.lFrame.isParent=!1}function xt(){const n=Ee.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function cn(){return Ee.lFrame.bindingIndex++}function Cr(n){const i=Ee.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function Zs(n,i){const o=Ee.lFrame;o.bindingIndex=o.bindingRootIndex=n,ia(i)}function ia(n){Ee.lFrame.currentDirectiveIndex=n}function tl(){return Ee.lFrame.currentQueryIndex}function Vu(n){Ee.lFrame.currentQueryIndex=n}function Co(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function Bu(n,i,o){if(o&st.SkipSelf){let c=i,d=n;for(;!(c=c.parent,null!==c||o&st.Host||(c=Co(d),null===c||(d=d[15],10&c.type))););if(null===c)return!1;i=c,n=d}const u=Ee.lFrame=N();return u.currentTNode=i,u.lView=n,!0}function C(n){const i=N(),o=n[1];Ee.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function N(){const n=Ee.lFrame,i=null===n?null:n.child;return null===i?b(n):i}function b(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function k(){const n=Ee.lFrame;return Ee.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const K=k;function ue(){const n=k();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ct(){return Ee.lFrame.selectedIndex}function Rt(n){Ee.lFrame.selectedIndex=n}function lt(){const n=Ee.lFrame;return Di(n.tView,n.selectedIndex)}function Pt(){Ee.lFrame.currentNamespace="svg"}function Qt(){!function Ut(){Ee.lFrame.currentNamespace=null}()}function lr(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const d=n.data[o].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:v,ngAfterViewInit:w,ngAfterViewChecked:A,ngOnDestroy:P}=d;p&&(n.contentHooks||(n.contentHooks=[])).push(-o,p),v&&((n.contentHooks||(n.contentHooks=[])).push(o,v),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,v)),w&&(n.viewHooks||(n.viewHooks=[])).push(-o,w),A&&((n.viewHooks||(n.viewHooks=[])).push(o,A),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,A)),null!=P&&(n.destroyHooks||(n.destroyHooks=[])).push(o,P)}}function dr(n,i,o){Qs(n,i,3,o)}function Wi(n,i,o,u){(3&n[2])===o&&Qs(n,i,o,u)}function Ki(n,i){let o=n[2];(3&o)===i&&(o&=2047,o+=1,n[2]=o)}function Qs(n,i,o,u){const d=u??-1,p=i.length-1;let v=0;for(let w=void 0!==u?65535&n[18]:0;w<p;w++)if("number"==typeof i[w+1]){if(v=i[w],null!=u&&v>=u)break}else i[w]<0&&(n[18]+=65536),(v<d||-1==d)&&(nl(n,o,i,w),n[18]=(4294901760&n[18])+w+2),w++}function nl(n,i,o,u){const c=o[u]<0,d=o[u+1],v=n[c?-o[u]:o[u]];if(c){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{d.call(v)}finally{}}}else try{d.call(v)}finally{}}class Eo{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Wa(n,i,o){let u=0;for(;u<o.length;){const c=o[u];if("number"==typeof c){if(0!==c)break;u++;const d=o[u++],p=o[u++],v=o[u++];n.setAttribute(i,p,v,d)}else{const d=c,p=o[++u];Ka(d)?n.setProperty(i,d,p):n.setAttribute(i,d,p),u++}}return u}function Uu(n){return 3===n||4===n||6===n}function Ka(n){return 64===n.charCodeAt(0)}function bo(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const c=i[u];"number"==typeof c?o=c:0===o||Pn(n,o,c,null,-1===o||2===o?i[++u]:null)}}return n}function Pn(n,i,o,u,c){let d=0,p=n.length;if(-1===i)p=-1;else for(;d<n.length;){const v=n[d++];if("number"==typeof v){if(v===i){p=-1;break}if(v>i){p=d-1;break}}}for(;d<n.length;){const v=n[d];if("number"==typeof v)break;if(v===o){if(null===u)return void(null!==c&&(n[d+1]=c));if(u===n[d+1])return void(n[d+2]=c)}d++,null!==u&&d++,null!==c&&d++}-1!==p&&(n.splice(p,0,i),d=p+1),n.splice(d++,0,o),null!==u&&n.splice(d++,0,u),null!==c&&n.splice(d++,0,c)}function $n(n){return-1!==n}function Zi(n){return 32767&n}function ua(n,i){let o=function il(n){return n>>16}(n),u=i;for(;o>0;)u=u[15],o--;return u}let sl=!0;function Ya(n){const i=sl;return sl=n,i}let Qa=0;const Mi={};function Ja(n,i){const o=ca(n,i);if(-1!==o)return o;const u=i[1];u.firstCreatePass&&(n.injectorIndex=i.length,ol(u.data,n),ol(i,null),ol(u.blueprint,null));const c=la(n,i),d=n.injectorIndex;if($n(c)){const p=Zi(c),v=ua(c,i),w=v[1].data;for(let A=0;A<8;A++)i[d+A]=v[p+A]|w[p+A]}return i[d+8]=c,d}function ol(n,i){n.push(0,0,0,0,0,0,0,0,i)}function ca(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function la(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,c=i;for(;null!==c;){if(u=eo(c),null===u)return-1;if(o++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function da(n,i,o){!function ju(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(_t)&&(u=o[_t]),null==u&&(u=o[_t]=Qa++);const c=255&u;i.data[n+(c>>5)]|=1<<c}(n,i,o)}function al(n,i,o){if(o&st.Optional)return n;Y()}function Js(n,i,o,u){if(o&st.Optional&&void 0===u&&(u=null),0==(o&(st.Self|st.Host))){const c=n[9],d=Nn(void 0);try{return c?c.get(i,u,o&st.Optional):on(i,u,o&st.Optional)}finally{Nn(d)}}return al(u,0,o)}function eu(n,i,o,u=st.Default,c){if(null!==n){if(1024&i[2]){const p=function cl(n,i,o,u,c){let d=n,p=i;for(;null!==d&&null!==p&&1024&p[2]&&!(256&p[2]);){const v=ul(d,p,o,u|st.Self,Mi);if(v!==Mi)return v;let w=d.parent;if(!w){const A=p[21];if(A){const P=A.get(o,Mi,u);if(P!==Mi)return P}w=eo(p),p=p[15]}d=w}return c}(n,i,o,u,Mi);if(p!==Mi)return p}const d=ul(n,i,o,u,Mi);if(d!==Mi)return d}return Js(i,o,u,c)}function ul(n,i,o,u,c){const d=function bf(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(_t)?n[_t]:void 0;return"number"==typeof i?i>=0?255&i:Xs:i}(o);if("function"==typeof d){if(!Bu(i,n,u))return u&st.Host?al(c,0,u):Js(i,o,u,c);try{const p=d(u);if(null!=p||u&st.Optional)return p;Y()}finally{K()}}else if("number"==typeof d){let p=null,v=ca(n,i),w=-1,A=u&st.Host?i[16][6]:null;for((-1===v||u&st.SkipSelf)&&(w=-1===v?la(n,i):i[v+8],-1!==w&&Nd(u,!1)?(p=i[1],v=Zi(w),i=ua(w,i)):v=-1);-1!==v;){const P=i[1];if(Io(d,v,P.data)){const B=Md(v,i,o,p,u,A);if(B!==Mi)return B}w=i[v+8],-1!==w&&Nd(u,i[1].data[v+8]===A)&&Io(d,v,i)?(p=P,v=Zi(w),i=ua(w,i)):v=-1}}return c}function Md(n,i,o,u,c,d){const p=i[1],v=p.data[n+8],P=Qi(v,p,o,null==u?Vs(v)&&sl:u!=p&&0!=(3&v.type),c&st.Host&&d===v);return null!==P?tu(i,p,P,v):Mi}function Qi(n,i,o,u,c){const d=n.providerIndexes,p=i.data,v=1048575&d,w=n.directiveStart,P=d>>20,Z=c?v+P:n.directiveEnd;for(let ne=u?v:v+P;ne<Z;ne++){const Ce=p[ne];if(ne<w&&o===Ce||ne>=w&&Ce.type===o)return ne}if(c){const ne=p[w];if(ne&&Cn(ne)&&ne.type===o)return w}return null}function tu(n,i,o,u){let c=n[o];const d=i.data;if(function oa(n){return n instanceof Eo}(c)){const p=c;p.resolving&&function Ke(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Ve(-200,`Circular dependency in DI detected for ${n}${o}`)}(function ye(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():_e(n)}(d[o]));const v=Ya(p.canSeeViewProviders);p.resolving=!0;const w=p.injectImpl?Nn(p.injectImpl):null;Bu(n,u,st.Default);try{c=n[o]=p.factory(void 0,d,n,u),i.firstCreatePass&&o>=u.directiveStart&&function Pr(n,i,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:d}=i.type.prototype;if(u){const p=ea(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,p),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,p)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,c),d&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,d),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,d))}(o,d[o],i)}finally{null!==w&&Nn(w),Ya(v),p.resolving=!1,K()}}return c}function Io(n,i,o){return!!(o[i+(n>>5)]&1<<n)}function Nd(n,i){return!(n&st.Self||n&st.Host&&i)}class ha{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return eu(this._tNode,this._lView,i,u,o)}}function Xs(){return new ha(Ot(),Ie())}function Fn(n){return ut(()=>{const i=n.prototype.constructor,o=i[On]||fa(i),u=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==u;){const d=c[On]||fa(c);if(d&&d!==o)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function fa(n){return it(n)?()=>{const i=fa(ke(n));return i&&i()}:Gr(n)}function eo(n){const i=n[1],o=i.type;return 2===o?i.declTNode:1===o?n[6]:null}function pa(n){return function Xa(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const d=o[c];if(Uu(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(d===i)return o[c+1];c+=2}}}return null}(Ot(),n)}const So="__parameters__";function to(n,i,o){return ut(()=>{const u=function ll(n){return function(...o){if(n){const u=n(...o);for(const c in u)this[c]=u[c]}}}(i);function c(...d){if(this instanceof c)return u.apply(this,d),this;const p=new c(...d);return v.annotation=p,v;function v(w,A,P){const B=w.hasOwnProperty(So)?w[So]:Object.defineProperty(w,So,{value:[]})[So];for(;B.length<=P;)B.push(null);return(B[P]=B[P]||[]).push(p),w}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class jt{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=nn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function oi(n,i){void 0===i&&(i=n);for(let o=0;o<n.length;o++){let u=n[o];Array.isArray(u)?(i===n&&(i=n.slice(0,o)),oi(u,i)):i!==n&&i.push(u)}return i}function ai(n,i){n.forEach(o=>Array.isArray(o)?ai(o,i):i(o))}function ma(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function Ji(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function ui(n,i,o){let u=m(n,i);return u>=0?n[1|u]=o:(u=~u,function ya(n,i,o,u){let c=n.length;if(c==i)n.push(o,u);else if(1===c)n.push(u,n[0]),n[0]=o;else{for(c--,n.push(n[c-1],n[c]);c>i;)n[c]=n[c-2],c--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function ro(n,i){const o=m(n,i);if(o>=0)return n[1|o]}function m(n,i){return function f(n,i,o){let u=0,c=n.length>>o;for(;c!==u;){const d=u+(c-u>>1),p=n[d<<o];if(i===p)return d<<o;p>i?c=d:u=d+1}return~(c<<o)}(n,i,1)}const Ht={},br="__NG_DI_FLAG__",wi="ngTempTokenPath",Oi=/\n/gm,ci="__source";let Da;function iu(n){const i=Da;return Da=n,i}function Mg(n,i=st.Default){if(void 0===Da)throw new Ve(-203,!1);return null===Da?on(n,void 0,i):Da.get(n,i&st.Optional?null:void 0,i)}function bn(n,i=st.Default){return(function xn(){return Yo}()||Mg)(ke(n),i)}function Og(n,i=st.Default){return"number"!=typeof i&&(i=0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)),bn(n,i)}function kd(n){const i=[];for(let o=0;o<n.length;o++){const u=ke(n[o]);if(Array.isArray(u)){if(0===u.length)throw new Ve(900,!1);let c,d=st.Default;for(let p=0;p<u.length;p++){const v=u[p],w=Rg(v);"number"==typeof w?-1===w?c=v.token:d|=w:c=v}i.push(bn(c,d))}else i.push(bn(u))}return i}function yl(n,i){return n[br]=i,n.prototype[br]=i,n}function Rg(n){return n[br]}const Gu=yl(to("Optional"),8),su=yl(to("SkipSelf"),4);let Nf;function Of(n){Nf=n}class Ud{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ci(n){return n instanceof Ud?n.changingThisBreaksApplicationSecurity:n}const Uf=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var rr=(()=>((rr=rr||{})[rr.NONE=0]="NONE",rr[rr.HTML=1]="HTML",rr[rr.STYLE=2]="STYLE",rr[rr.SCRIPT=3]="SCRIPT",rr[rr.URL=4]="URL",rr[rr.RESOURCE_URL=5]="RESOURCE_URL",rr))();function Hf(n){const i=function fn(){const n=Ie();return n&&n[12]}();return i?i.sanitize(rr.URL,n)||"":function Ku(n,i){const o=function Hg(n){return n instanceof Ud&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}(n,"URL")?Ci(n):function Hd(n){return(n=String(n)).match(Uf)?n:"unsafe:"+n}(_e(n))}const mt=new jt("ENVIRONMENT_INITIALIZER"),Zu=new jt("INJECTOR",-1),Gt=new jt("INJECTOR_DEF_TYPES");class Wg{get(i,o=Ht){if(o===Ht){const u=new Error(`NullInjectorError: No provider for ${De(i)}!`);throw u.name="NullInjectorError",u}return o}}function zn(...n){return{\u0275providers:je(0,n)}}function je(n,...i){const o=[],u=new Set;let c;return ai(i,d=>{const p=d;Ol(p,o,[],u)&&(c||(c=[]),c.push(p))}),void 0!==c&&Nl(c,o),o}function Nl(n,i){for(let o=0;o<n.length;o++){const{providers:c}=n[o];ai(c,d=>{i.push(d)})}}function Ol(n,i,o,u){if(!(n=ke(n)))return!1;let c=null,d=Fs(n);const p=!d&&Nt(n);if(d||p){if(p&&!p.standalone)return!1;c=n}else{const w=n.ngModule;if(d=Fs(w),!d)return!1;c=w}const v=u.has(c);if(p){if(v)return!1;if(u.add(c),p.dependencies){const w="function"==typeof p.dependencies?p.dependencies():p.dependencies;for(const A of w)Ol(A,i,o,u)}}else{if(!d)return!1;{if(null!=d.imports&&!v){let A;u.add(c);try{ai(d.imports,P=>{Ol(P,i,o,u)&&(A||(A=[]),A.push(P))})}finally{}void 0!==A&&Nl(A,i)}if(!v){const A=Gr(c)||(()=>new c);i.push({provide:c,useFactory:A,deps:Xe},{provide:Gt,useValue:c,multi:!0},{provide:mt,useValue:()=>bn(c),multi:!0})}const w=d.providers;null==w||v||ai(w,P=>{i.push(P)})}}return c!==n&&void 0!==n.providers}const t_=ce({provide:String,useValue:ce});function Ju(n){return null!==n&&"object"==typeof n&&t_ in n}function wa(n){return"function"==typeof n}const li=new jt("Set Injector scope."),ec={},Zg={};let Gf;function Cs(){return void 0===Gf&&(Gf=new Wg),Gf}class Oo{}class ae extends Oo{constructor(i,o,u,c){super(),this.parent=o,this.source=u,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qf(i,p=>this.processProvider(p)),this.records.set(Zu,Ri(void 0,this)),c.has("environment")&&this.records.set(Oo,Ri(void 0,this));const d=this.records.get(li);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Gt.multi,Xe,st.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=iu(this),u=Nn(void 0);try{return i()}finally{iu(o),Nn(u)}}get(i,o=Ht,u=st.Default){this.assertNotDestroyed();const c=iu(this),d=Nn(void 0);try{if(!(u&st.SkipSelf)){let v=this.records.get(i);if(void 0===v){const w=function Qg(n){return"function"==typeof n||"object"==typeof n&&n instanceof jt}(i)&&Br(i);v=w&&this.injectableDefInScope(w)?Ri(tc(i),ec):null,this.records.set(i,v)}if(null!=v)return this.hydrate(i,v)}return(u&st.Self?Cs():this.parent).get(i,o=u&st.Optional&&o===Ht?null:o)}catch(p){if("NullInjectorError"===p.name){if((p[wi]=p[wi]||[]).unshift(De(i)),c)throw p;return function Pg(n,i,o,u){const c=n[wi];throw i[ci]&&c.unshift(i[ci]),n.message=function Tf(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let c=De(i);if(Array.isArray(i))c=i.map(De).join(" -> ");else if("object"==typeof i){let d=[];for(let p in i)if(i.hasOwnProperty(p)){let v=i[p];d.push(p+":"+("string"==typeof v?JSON.stringify(v):De(v)))}c=`{${d.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${n.replace(Oi,"\n  ")}`}("\n"+n.message,c,o,u),n.ngTokenPath=c,n[wi]=null,n}(p,i,"R3InjectorError",this.source)}throw p}finally{Nn(d),iu(c)}}resolveInjectorInitializers(){const i=iu(this),o=Nn(void 0);try{const u=this.get(mt.multi,Xe,st.Self);for(const c of u)c()}finally{iu(i),Nn(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(De(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ve(205,!1)}processProvider(i){let o=wa(i=ke(i))?i:ke(i&&i.provide);const u=function n_(n){return Ju(n)?Ri(void 0,n.useValue):Ri(nc(n),ec)}(i);if(wa(i)||!0!==i.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=Ri(void 0,ec,!0),c.factory=()=>kd(c.multi),this.records.set(o,c)),o=i,c.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===ec&&(o.value=Zg,o.value=o.factory()),"object"==typeof o.value&&o.value&&function cu(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=ke(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function tc(n){const i=Br(n),o=null!==i?i.factory:Gr(n);if(null!==o)return o;if(n instanceof jt)throw new Ve(204,!1);if(n instanceof Function)return function Es(n){const i=n.length;if(i>0)throw function xo(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}(i,"?"),new Ve(204,!1);const o=function cs(n){const i=n&&(n[tt]||n[Tn]);if(i){const o=function bi(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Ve(204,!1)}function nc(n,i,o){let u;if(wa(n)){const c=ke(n);return Gr(c)||tc(c)}if(Ju(n))u=()=>ke(n.useValue);else if(function Xu(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...kd(n.deps||[]));else if(function Kg(n){return!(!n||!n.useExisting)}(n))u=()=>bn(ke(n.useExisting));else{const c=ke(n&&(n.useClass||n.provide));if(!function r_(n){return!!n.deps}(n))return Gr(c)||tc(c);u=()=>new c(...kd(n.deps))}return u}function Ri(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function zf(n){return!!n.\u0275providers}function qf(n,i){for(const o of n)Array.isArray(o)?qf(o,i):zf(o)?qf(o.\u0275providers,i):i(o)}class di{}class Vn{resolveComponentFactory(i){throw function Jg(n){const i=Error(`No component factory found for ${De(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let Ea=(()=>{class n{}return n.NULL=new Vn,n})();function kr(){return Zt(Ot(),Ie())}function Zt(n,i){return new rc(Bt(n,i))}let rc=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=kr,n})();function ic(n){return n instanceof rc?n.nativeElement:n}class o_{}let hr=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function a_(){const n=Ie(),o=Hn(Ot().index,n);return(er(o)?o:n)[11]}(),n})(),ba=(()=>{class n{}return n.\u0275prov=nn({token:n,providedIn:"root",factory:()=>null}),n})();class An{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const lu=new An("14.2.0"),Rl={};function Kd(n){return n.ngOriginalError}class ac{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Kd(i);for(;o&&Kd(o);)o=Kd(o);return o||null}}const Zd=new Map;let yn=0;const Qd="__ngContext__";function Jt(n,i){er(i)?(n[Qd]=i[20],function im(n){Zd.set(n[20],n)}(i)):n[Qd]=i}function Ul(n){const i=n[Qd];return"number"==typeof i?function Sa(n){return Zd.get(n)||null}(i):i||null}function Zf(n){const i=Ul(n);return i?er(i)?i:i.lView:null}function Ei(n){return n instanceof Function?n():n}var Fi=(()=>((Fi=Fi||{})[Fi.Important=1]="Important",Fi[Fi.DashCase=2]="DashCase",Fi))();function Jd(n,i){return undefined(n,i)}function lc(n){const i=n[3];return _r(i)?i[3]:i}function eh(n){return jl(n[13])}function th(n){return jl(n[4])}function jl(n){for(;null!==n&&!_r(n);)n=n[4];return n}function dc(n,i,o,u,c){if(null!=u){let d,p=!1;_r(u)?d=u:er(u)&&(p=!0,u=u[0]);const v=un(u);0===n&&null!==o?null==c?ep(i,o,v):Du(i,o,v,c||null,!0):1===n&&null!==o?Du(i,o,v,c||null,!0):2===n?function hi(n,i,o){const u=$l(n,i);u&&function Lo(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,v,p):3===n&&i.destroyNode(v),null!=d&&function bm(n,i,o,u,c){const d=o[7];d!==un(o)&&dc(i,n,u,d,c);for(let v=10;v<o.length;v++){const w=o[v];Bo(w[1],w,n,i,u,d)}}(i,n,d,o,c)}}function rh(n,i,o){return n.createElement(i,o)}function vm(n,i){const o=n[9],u=o.indexOf(i),c=i[3];512&i[2]&&(i[2]&=-513,qr(c,-1)),o.splice(u,1)}function Xf(n,i){if(n.length<=10)return;const o=10+i,u=n[o];if(u){const c=u[17];null!==c&&c!==n&&vm(c,u),i>0&&(n[o-1][4]=u[4]);const d=Ji(n,10+i);!function _u(n,i){Bo(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const p=d[19];null!==p&&p.detachView(d[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function In(n,i){if(!(128&i[2])){const o=i[11];o.destroyNode&&Bo(n,i,o,3,null,null),function mm(n){let i=n[13];if(!i)return fc(n[1],n);for(;i;){let o=null;if(er(i))o=i[13];else{const u=i[10];u&&(o=u)}if(!o){for(;i&&!i[4]&&i!==n;)er(i)&&fc(i[1],i),i=i[3];null===i&&(i=n),er(i)&&fc(i[1],i),o=i&&i[4]}i=o}}(i)}}function fc(n,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function _m(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const c=i[o[u]];if(!(c instanceof Eo)){const d=o[u+1];if(Array.isArray(d))for(let p=0;p<d.length;p+=2){const v=c[d[p]],w=d[p+1];try{w.call(v)}finally{}}else try{d.call(c)}finally{}}}}(n,i),function ih(n,i){const o=n.cleanup,u=i[7];let c=-1;if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const p=o[d+1],v="function"==typeof p?p(i):un(i[p]),w=u[c=o[d+2]],A=o[d+3];"boolean"==typeof A?v.removeEventListener(o[d],w,A):A>=0?u[c=A]():u[c=-A].unsubscribe(),d+=2}else{const p=u[c=o[d+1]];o[d].call(p)}if(null!==u){for(let d=c+1;d<u.length;d++)(0,u[d])();i[7]=null}}(n,i),1===i[1].type&&i[11].destroy();const o=i[17];if(null!==o&&_r(i[3])){o!==i[3]&&vm(o,i);const u=i[19];null!==u&&u.detachView(n)}!function d_(n){Zd.delete(n[20])}(i)}}function Dm(n,i,o){return function pc(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[0];if(2&u.flags){const c=n.data[u.directiveStart].encapsulation;if(c===ar.None||c===ar.Emulated)return null}return Bt(u,o)}(n,i.parent,o)}function Du(n,i,o,u,c){n.insertBefore(i,o,u,c)}function ep(n,i,o){n.appendChild(i,o)}function wu(n,i,o,u,c){null!==u?Du(n,i,o,u,c):ep(n,i,o)}function $l(n,i){return n.parentNode(i)}let Cm=function sh(n,i,o){return 40&n.type?Bt(n,o):null};function Gl(n,i,o,u){const c=Dm(n,u,i),d=i[11],v=function Cu(n,i,o){return Cm(n,i,o)}(u.parent||i[6],u,i);if(null!=c)if(Array.isArray(o))for(let w=0;w<o.length;w++)wu(d,c,o[w],v,!1);else wu(d,c,o,v,!1)}function zl(n,i){if(null!==i){const o=i.type;if(3&o)return Bt(i,n);if(4&o)return tp(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return zl(n,u);{const c=n[i.index];return _r(c)?tp(-1,c):un(c)}}if(32&o)return Jd(i,n)()||un(n[i.index]);{const u=Vo(n,i);return null!==u?Array.isArray(u)?u[0]:zl(lc(n[16]),u):zl(n,i.next)}}return null}function Vo(n,i){return null!==i?n[16][6].projection[i.projection]:null}function tp(n,i){const o=10+n+1;if(o<i.length){const u=i[o],c=u[1].firstChild;if(null!==c)return zl(u,c)}return i[7]}function oh(n,i,o,u,c,d,p){for(;null!=o;){const v=u[o.index],w=o.type;if(p&&0===i&&(v&&Jt(un(v),u),o.flags|=4),64!=(64&o.flags))if(8&w)oh(n,i,o.child,u,c,d,!1),dc(i,n,c,v,d);else if(32&w){const A=Jd(o,u);let P;for(;P=A();)dc(i,n,c,P,d);dc(i,n,c,v,d)}else 16&w?bs(n,i,u,o,c,d):dc(i,n,c,v,d);o=p?o.projectionNext:o.next}}function Bo(n,i,o,u,c,d){oh(o,u,n.firstChild,i,c,d,!1)}function bs(n,i,o,u,c,d){const p=o[16],w=p[6].projection[u.projection];if(Array.isArray(w))for(let A=0;A<w.length;A++)dc(i,n,c,w[A],d);else oh(n,i,w,p[3],c,d,!0)}function Im(n,i,o){n.setAttribute(i,"style",o)}function np(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function At(n,i,o){let u=n.length;for(;;){const c=n.indexOf(i,o);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const d=i.length;if(c+d===u||n.charCodeAt(c+d)<=32)return c}o=c+1}}const Wl="ng-template";function Kl(n,i,o){let u=0;for(;u<n.length;){let c=n[u++];if(o&&"class"===c){if(c=n[u],-1!==At(c.toLowerCase(),i,0))return!0}else if(1===c){for(;u<n.length&&"string"==typeof(c=n[u++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function gc(n){return 4===n.type&&n.value!==Wl}function ah(n,i,o){return i===(4!==n.type||o?n.value:Wl)}function Sm(n,i,o){let u=4;const c=n.attrs||[],d=function Mm(n){for(let i=0;i<n.length;i++)if(Uu(n[i]))return i;return n.length}(c);let p=!1;for(let v=0;v<i.length;v++){const w=i[v];if("number"!=typeof w){if(!p)if(4&u){if(u=2|1&u,""!==w&&!ah(n,w,o)||""===w&&1===i.length){if(ts(u))return!1;p=!0}}else{const A=8&u?w:i[++v];if(8&u&&null!==n.attrs){if(!Kl(n.attrs,A,o)){if(ts(u))return!1;p=!0}continue}const B=Tm(8&u?"class":w,c,gc(n),o);if(-1===B){if(ts(u))return!1;p=!0;continue}if(""!==A){let Z;Z=B>d?"":c[B+1].toLowerCase();const ne=8&u?Z:null;if(ne&&-1!==At(ne,A,0)||2&u&&A!==Z){if(ts(u))return!1;p=!0}}}}else{if(!p&&!ts(u)&&!ts(w))return!1;if(p&&ts(w))continue;p=!1,u=w|1&u}}return ts(u)||p}function ts(n){return 0==(1&n)}function Tm(n,i,o,u){if(null===i)return-1;let c=0;if(u||!o){let d=!1;for(;c<i.length;){const p=i[c];if(p===n)return c;if(3===p||6===p)d=!0;else{if(1===p||2===p){let v=i[++c];for(;"string"==typeof v;)v=i[++c];continue}if(4===p)break;if(0===p){c+=4;continue}}c+=d?1:2}return-1}return function v_(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function xm(n,i,o=!1){for(let u=0;u<i.length;u++)if(Sm(n,i[u],o))return!0;return!1}function Nm(n,i){return n?":not("+i.trim()+")":i}function Yl(n){let i=n[0],o=1,u=2,c="",d=!1;for(;o<n.length;){let p=n[o];if("string"==typeof p)if(2&u){const v=n[++o];c+="["+p+(v.length>0?'="'+v+'"':"")+"]"}else 8&u?c+="."+p:4&u&&(c+=" "+p);else""!==c&&!ts(p)&&(i+=Nm(d,c),c=""),u=p,d=d||!ts(u);o++}return""!==c&&(i+=Nm(d,c)),i}const nt={};function uh(n){rp(kt(),Ie(),Ct()+n,!1)}function rp(n,i,o,u){if(!u)if(3==(3&i[2])){const d=n.preOrderCheckHooks;null!==d&&dr(i,d,o)}else{const d=n.preOrderHooks;null!==d&&Wi(i,d,0,o)}Rt(o)}function Fm(n,i=null,o=null,u){const c=yc(n,i,o,u);return c.resolveInjectorInitializers(),c}function yc(n,i=null,o=null,u,c=new Set){const d=[o||Xe,zn(n)];return u=u||("object"==typeof n?void 0:De(n)),new ae(d,i||Cs(),u||null,c)}let Uo=(()=>{class n{static create(o,u){if(Array.isArray(o))return Fm({name:""},u,o,"");{const c=o.name??"";return Fm({name:c},o.parent,o.providers,c)}}}return n.THROW_IF_NOT_FOUND=Ht,n.NULL=new Wg,n.\u0275prov=nn({token:n,providedIn:"any",factory:()=>bn(Zu)}),n.__NG_ELEMENT_ID__=-1,n})();function _c(n,i=st.Default){const o=Ie();return null===o?bn(n,i):eu(Ot(),o,ke(n),i)}function Hm(){throw new Error("invalid")}function hh(n,i){return n<<17|i<<2}function Is(n){return n>>17&32767}function fh(n){return 2|n}function ao(n){return(131068&n)>>2}function hp(n,i){return-131069&n|i<<2}function ir(n){return 1|n}function fi(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const c=o[u],d=o[u+1];if(-1!==d){const p=n.data[d];Vu(c),p.contentQueries(2,i[d],d)}}}function Su(n,i,o,u,c,d,p,v,w,A,P){const B=i.blueprint.slice();return B[0]=c,B[2]=76|u,(null!==P||n&&1024&n[2])&&(B[2]|=1024),qa(B),B[3]=B[15]=n,B[8]=o,B[10]=p||n&&n[10],B[11]=v||n&&n[11],B[12]=w||n&&n[12]||null,B[9]=A||n&&n[9]||null,B[6]=d,B[20]=function l_(){return yn++}(),B[21]=P,B[16]=2==i.type?n[16]:B,B}function Tu(n,i,o,u,c){let d=n.data[i];if(null===d)d=function uo(n,i,o,u,c){const d=wr(),p=x(),w=n.data[i]=function k_(n,i,o,u,c,d){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?d:d&&d.parent,o,i,u,c);return null===n.firstChild&&(n.firstChild=w),null!==d&&(p?null==d.child&&null!==w.parent&&(d.child=w):null===d.next&&(d.next=w)),w}(n,i,o,u,c),function _s(){return Ee.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=o,d.value=u,d.attrs=c;const p=function Wr(){const n=Ee.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();d.injectorIndex=null===p?-1:p.injectorIndex}return ii(d,!0),d}function xs(n,i,o,u){if(0===o)return-1;const c=i.length;for(let d=0;d<o;d++)i.push(u),n.blueprint.push(u),n.data.push(null);return c}function td(n,i,o){C(i);try{const u=n.viewQuery;null!==u&&ad(1,u,o);const c=n.template;null!==c&&xu(n,i,c,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&fi(n,i),n.staticViewQueries&&ad(2,n.viewQuery,o);const d=n.components;null!==d&&function Ch(n,i){for(let o=0;o<i.length;o++)hy(n,i[o])}(i,d)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[2]&=-5,ue()}}function As(n,i,o,u){const c=i[2];if(128!=(128&c)){C(i);try{qa(i),function si(n){return Ee.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&xu(n,i,o,2,u);const p=3==(3&c);if(p){const A=n.preOrderCheckHooks;null!==A&&dr(i,A,null)}else{const A=n.preOrderHooks;null!==A&&Wi(i,A,0,null),Ki(i,0)}if(function dy(n){for(let i=eh(n);null!==i;i=th(i)){if(!i[2])continue;const o=i[9];for(let u=0;u<o.length;u++){const c=o[u],d=c[3];0==(512&c[2])&&qr(d,1),c[2]|=512}}}(i),function Cp(n){for(let i=eh(n);null!==i;i=th(i))for(let o=10;o<i.length;o++){const u=i[o],c=u[1];vs(u)&&As(c,u,c.template,u[8])}}(i),null!==n.contentQueries&&fi(n,i),p){const A=n.contentCheckHooks;null!==A&&dr(i,A)}else{const A=n.contentHooks;null!==A&&Wi(i,A,1),Ki(i,1)}!function Xm(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)Rt(~c);else{const d=c,p=o[++u],v=o[++u];Zs(p,d),v(2,i[d])}}}finally{Rt(-1)}}(n,i);const v=n.components;null!==v&&function ey(n,i){for(let o=0;o<i.length;o++)$_(n,i[o])}(i,v);const w=n.viewQuery;if(null!==w&&ad(2,w,u),p){const A=n.viewCheckHooks;null!==A&&dr(i,A)}else{const A=n.viewHooks;null!==A&&Wi(i,A,2),Ki(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,qr(i[3],-1))}finally{ue()}}}function P_(n,i,o,u){const c=i[10],p=$i(i);try{!p&&c.begin&&c.begin(),p&&td(n,i,u),As(n,i,o,u)}finally{!p&&c.end&&c.end()}}function xu(n,i,o,u,c){const d=Ct(),p=2&u;try{Rt(-1),p&&i.length>22&&rp(n,i,22,!1),o(u,c)}finally{Rt(d)}}function mp(n,i,o){if(ds(i)){const c=i.directiveEnd;for(let d=i.directiveStart;d<c;d++){const p=n.data[d];p.contentQueries&&p.contentQueries(1,o[d],d)}}}function co(n,i,o){!Ys()||(function _p(n,i,o,u){const c=o.directiveStart,d=o.directiveEnd;n.firstCreatePass||Ja(o,i),Jt(u,i);const p=o.initialInputs;for(let v=c;v<d;v++){const w=n.data[v],A=Cn(w);A&&H_(i,o,w);const P=tu(i,n,v,o);Jt(P,i),null!==p&&Dp(0,v-c,P,w,0,p),A&&(Hn(o.index,i)[8]=P)}}(n,i,o,Bt(o,i)),128==(128&o.flags)&&function xr(n,i,o){const u=o.directiveStart,c=o.directiveEnd,d=o.index,p=function Lu(){return Ee.lFrame.currentDirectiveIndex}();try{Rt(d);for(let v=u;v<c;v++){const w=n.data[v],A=i[v];ia(v),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&ay(w,A)}}finally{Rt(-1),ia(p)}}(n,i,o))}function Eh(n,i,o=Bt){const u=i.localNames;if(null!==u){let c=i.index+1;for(let d=0;d<u.length;d+=2){const p=u[d+1],v=-1===p?o(i,n):n[p];n[c++]=v}}}function ty(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=yp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function yp(n,i,o,u,c,d,p,v,w,A){const P=22+u,B=P+c,Z=function F_(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:nt);return o}(P,B),ne="function"==typeof A?A():A;return Z[1]={type:n,blueprint:Z,template:o,queries:null,viewQuery:v,declTNode:i,data:Z.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:w,consts:ne,incompleteFirstPass:!1}}function ny(n,i,o,u){const c=Ip(i);null===o?c.push(u):(c.push(o),n.firstCreatePass&&Sp(n).push(u,c.length-1))}function vp(n,i,o){for(let u in n)if(n.hasOwnProperty(u)){const c=n[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(i,c):o[u]=[i,c]}return o}function ry(n,i){const u=i.directiveEnd,c=n.data,d=i.attrs,p=[];let v=null,w=null;for(let A=i.directiveStart;A<u;A++){const P=c[A],B=P.inputs,Z=null===d||gc(i)?null:id(B,d);p.push(Z),v=vp(B,A,v),w=vp(P.outputs,A,w)}null!==v&&(v.hasOwnProperty("class")&&(i.flags|=16),v.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=p,i.inputs=v,i.outputs=w}function fr(n,i,o,u,c,d,p,v){const w=Bt(i,o);let P,A=i.inputs;!v&&null!=A&&(P=A[u])?(ud(n,o,P,u,c),Vs(i)&&xc(o,i.index)):3&i.type&&(u=function iy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),c=null!=p?p(c,i.value||"",u):c,d.setProperty(w,u,c))}function xc(n,i){const o=Hn(i,n);16&o[2]||(o[2]|=32)}function Ih(n,i,o,u){let c=!1;if(Ys()){const d=function U_(n,i,o){const u=n.directiveRegistry;let c=null;if(u)for(let d=0;d<u.length;d++){const p=u[d];xm(o,p.selectors,!1)&&(c||(c=[]),da(Ja(o,i),n,p.type),Cn(p)?(uy(n,o),c.unshift(p)):c.push(p))}return c}(n,i,o),p=null===u?null:{"":-1};if(null!==d){c=!0,ly(o,n.data.length,d.length);for(let P=0;P<d.length;P++){const B=d[P];B.providersResolver&&B.providersResolver(B)}let v=!1,w=!1,A=xs(n,i,d.length,null);for(let P=0;P<d.length;P++){const B=d[P];o.mergedAttrs=bo(o.mergedAttrs,B.hostAttrs),nd(n,o,i,A,B),cy(A,B,p),null!==B.contentQueries&&(o.flags|=8),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(o.flags|=128);const Z=B.type.prototype;!v&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),v=!0),!w&&(Z.ngOnChanges||Z.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),w=!0),A++}ry(n,o)}p&&function j_(n,i,o){if(i){const u=n.localNames=[];for(let c=0;c<i.length;c+=2){const d=o[i[c+1]];if(null==d)throw new Ve(-301,!1);u.push(i[c],d)}}}(o,u,p)}return o.mergedAttrs=bo(o.mergedAttrs,o.attrs),c}function oy(n,i,o,u,c,d){const p=d.hostBindings;if(p){let v=n.hostBindingOpCodes;null===v&&(v=n.hostBindingOpCodes=[]);const w=~i.index;(function B_(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(v)!=w&&v.push(w),v.push(u,c,p)}}function ay(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function uy(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function cy(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;Cn(i)&&(o[""]=n)}}function ly(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}function nd(n,i,o,u,c){n.data[u]=c;const d=c.factory||(c.factory=Gr(c.type)),p=new Eo(d,Cn(c),_c);n.blueprint[u]=p,o[u]=p,oy(n,i,0,u,xs(n,o,c.hostVars,nt),c)}function H_(n,i,o){const u=Bt(i,n),c=ty(o),d=n[10],p=xh(n,Su(n,c,null,o.onPush?32:16,u,i,d,d.createRenderer(u,o),null,null,null));n[i.index]=p}function Ms(n,i,o,u,c,d){const p=Bt(n,i);!function rd(n,i,o,u,c,d,p){if(null==d)n.removeAttribute(i,c,o);else{const v=null==p?_e(d):p(d,u||"",c);n.setAttribute(i,c,v,o)}}(i[11],p,d,n.value,o,u,c)}function Dp(n,i,o,u,c,d){const p=d[i];if(null!==p){const v=u.setInput;for(let w=0;w<p.length;){const A=p[w++],P=p[w++],B=p[w++];null!==v?u.setInput(o,B,A,P):o[P]=B}}}function id(n,i){let o=null,u=0;for(;u<i.length;){const c=i[u];if(0!==c)if(5!==c){if("number"==typeof c)break;n.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,n[c],i[u+1])),u+=2}else u+=2;else u+=4}return o}function Sh(n,i,o,u){return new Array(n,!0,!1,i,null,0,u,o,null,null)}function $_(n,i){const o=Hn(i,n);if(vs(o)){const u=o[1];48&o[2]?As(u,o,u.template,o[8]):o[5]>0&&Th(o)}}function Th(n){for(let u=eh(n);null!==u;u=th(u))for(let c=10;c<u.length;c++){const d=u[c];if(vs(d))if(512&d[2]){const p=d[1];As(p,d,p.template,d[8])}else d[5]>0&&Th(d)}const o=n[1].components;if(null!==o)for(let u=0;u<o.length;u++){const c=Hn(o[u],n);vs(c)&&c[5]>0&&Th(c)}}function hy(n,i){const o=Hn(i,n),u=o[1];(function Ep(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),td(u,o,o[8])}function xh(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function Ah(n){for(;n;){n[2]|=32;const i=lc(n);if(Ua(n)&&!i)return n;n=i}return null}function ad(n,i,o){Vu(0),i(n,o)}function Ip(n){return n[7]||(n[7]=[])}function Sp(n){return n.cleanup||(n.cleanup=[])}function py(n,i){const o=n[9],u=o?o.get(ac,null):null;u&&u.handleError(i)}function ud(n,i,o,u,c){for(let d=0;d<o.length;){const p=o[d++],v=o[d++],w=i[p],A=n.data[p];null!==A.setInput?A.setInput(w,c,u,v):w[v]=c}}function Ac(n,i,o){let u=o?n.styles:null,c=o?n.classes:null,d=0;if(null!==i)for(let p=0;p<i.length;p++){const v=i[p];"number"==typeof v?d=v:1==d?c=dt(c,v):2==d&&(u=dt(u,v+": "+i[++p]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=c:n.classesWithoutHost=c}function cd(n,i,o,u,c=!1){for(;null!==o;){const d=i[o.index];if(null!==d&&u.push(un(d)),_r(d))for(let v=10;v<d.length;v++){const w=d[v],A=w[1].firstChild;null!==A&&cd(w[1],w,A,u)}const p=o.type;if(8&p)cd(n,i,o.child,u);else if(32&p){const v=Jd(o,i);let w;for(;w=v();)u.push(w)}else if(16&p){const v=Vo(i,o);if(Array.isArray(v))u.push(...v);else{const w=lc(i[16]);cd(w[1],w,v,u,!0)}}o=c?o.projectionNext:o.next}return u}class Mc{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return cd(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(_r(i)){const o=i[8],u=o?o.indexOf(this):-1;u>-1&&(Xf(i,u),Ji(o,u))}this._attachedToViewContainer=!1}In(this._lView[1],this._lView)}onDestroy(i){ny(this._lView[1],this._lView,null,i)}markForCheck(){Ah(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Mh(n,i,o){const u=i[10];u.begin&&u.begin();try{As(n,i,n.template,o)}catch(c){throw py(i,c),c}finally{u.end&&u.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ve(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function hc(n,i){Bo(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ve(902,!1);this._appRef=i}}class xp extends Mc{constructor(i){super(i),this._view=i}detectChanges(){!function fy(n){!function G_(n){for(let i=0;i<n.components.length;i++){const o=n.components[i],u=Zf(o);if(null!==u){const c=u[1];P_(c,u,c.template,o)}}}(n[8])}(this._view)}checkNoChanges(){}get context(){return null}}class Nc extends Ea{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Nt(i);return new Au(o,this.ngModule)}}function Oc(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class Ap{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){const c=this.injector.get(i,Rl,u);return c!==Rl||o===Rl?c:this.parentInjector.get(i,o,u)}}class Au extends di{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Om(n){return n.map(Yl).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Oc(this.componentDef.inputs)}get outputs(){return Oc(this.componentDef.outputs)}create(i,o,u,c){let d=(c=c||this.ngModule)instanceof Oo?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const p=d?new Ap(i,d):i,v=p.get(o_,null);if(null===v)throw new Ve(407,!1);const w=p.get(ba,null),A=v.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",B=u?function bh(n,i,o){return n.selectRootElement(i,o===ar.ShadowDom)}(A,u,this.componentDef.encapsulation):rh(v.createRenderer(null,this.componentDef),P,function Nh(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(P)),Z=this.componentDef.onPush?288:272,ne={components:[]},Ce=yp(0,null,null,1,0,null,null,null,null,null),Me=Su(null,Ce,ne,Z,null,null,v,A,w,p,null);let He,Ze;C(Me);try{const pt=function K_(n,i,o,u,c,d){const p=o[1];o[22]=n;const w=Tu(p,22,2,"#host",null),A=w.mergedAttrs=i.hostAttrs;null!==A&&(Ac(w,A,!0),null!==n&&(Wa(c,n,A),null!==w.classes&&np(c,n,w.classes),null!==w.styles&&Im(c,n,w.styles)));const P=u.createRenderer(n,i),B=Su(o,ty(i),null,i.onPush?32:16,o[22],w,u,P,d||null,null,null);return p.firstCreatePass&&(da(Ja(w,o),p,i.type),uy(p,w),ly(w,o.length,1)),xh(o,B),o[22]=B}(B,this.componentDef,Me,v,A);if(B)if(u)Wa(A,B,["ng-version",lu.full]);else{const{attrs:xe,classes:gt}=function D_(n){const i=[],o=[];let u=1,c=2;for(;u<n.length;){let d=n[u];if("string"==typeof d)2===c?""!==d&&i.push(d,n[++u]):8===c&&o.push(d);else{if(!ts(c))break;c=d}u++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);xe&&Wa(A,B,xe),gt&&gt.length>0&&np(A,B,gt.join(" "))}if(Ze=Di(Ce,22),void 0!==o){const xe=Ze.projection=[];for(let gt=0;gt<this.ngContentSelectors.length;gt++){const Wt=o[gt];xe.push(null!=Wt?Array.from(Wt):null)}}He=function Y_(n,i,o,u,c){const d=o[1],p=function V_(n,i,o){const u=Ot();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),nd(n,u,i,xs(n,i,1,null),o),ry(n,u));const c=tu(i,n,u.directiveStart,u);Jt(c,i);const d=Bt(u,i);return d&&Jt(d,i),c}(d,o,i);if(u.components.push(p),n[8]=p,null!==c)for(const w of c)w(p,i);if(i.contentQueries){const w=Ot();i.contentQueries(1,p,w.directiveStart)}const v=Ot();return!d.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Rt(v.index),oy(o[1],v,0,v.directiveStart,v.directiveEnd,i),ay(i,p)),p}(pt,this.componentDef,Me,ne,[gy]),td(Ce,Me,null)}finally{ue()}return new q_(this.componentType,He,Zt(Ze,Me),Me,Ze)}}class q_ extends class i_{}{constructor(i,o,u,c,d){super(),this.location=u,this._rootLView=c,this._tNode=d,this.instance=o,this.hostView=this.changeDetectorRef=new xp(c),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let c;if(null!==u&&(c=u[i])){const d=this._rootLView;ud(d[1],d,c,i,o),xc(d,this._tNode.index)}}get injector(){return new ha(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function gy(){const n=Ot();lr(Ie()[1],n)}function Mu(n){let i=function ld(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let c;if(Cn(n))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Ve(903,!1);c=i.\u0275dir}if(c){if(o){u.push(c);const p=n;p.inputs=Oh(n.inputs),p.declaredInputs=Oh(n.declaredInputs),p.outputs=Oh(n.outputs);const v=c.hostBindings;v&&X_(n,v);const w=c.viewQuery,A=c.contentQueries;if(w&&Q_(n,w),A&&J_(n,A),ge(n.inputs,c.inputs),ge(n.declaredInputs,c.declaredInputs),ge(n.outputs,c.outputs),Cn(c)&&c.data.animation){const P=n.data;P.animation=(P.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let p=0;p<d.length;p++){const v=d[p];v&&v.ngInherit&&v(n),v===Mu&&(o=!1)}}i=Object.getPrototypeOf(i)}!function Np(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const c=n[u];c.hostVars=i+=c.hostVars,c.hostAttrs=bo(c.hostAttrs,o=bo(o,c.hostAttrs))}}(u)}function Oh(n){return n===ls?{}:n===Xe?[]:n}function Q_(n,i){const o=n.viewQuery;n.viewQuery=o?(u,c)=>{i(u,c),o(u,c)}:i}function J_(n,i){const o=n.contentQueries;n.contentQueries=o?(u,c,d)=>{i(u,c,d),o(u,c,d)}:i}function X_(n,i){const o=n.hostBindings;n.hostBindings=o?(u,c)=>{i(u,c),o(u,c)}:i}let Rc=null;function ns(){if(!Rc){const n=Lt.Symbol;if(n&&n.iterator)Rc=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const u=i[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Rc=u)}}}return Rc}function Ta(n){return!!Rh(n)&&(Array.isArray(n)||!(n instanceof Map)&&ns()in n)}function Rh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function rs(n,i,o){return n[i]=o}function Vr(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function fd(n,i,o,u){const c=Ie();return Vr(c,cn(),i)&&(kt(),Ms(lt(),c,n,i,o,u)),fd}function xa(n,i,o,u){return Vr(n,cn(),o)?i+_e(o)+u:nt}function Lh(n,i,o,u,c,d,p,v){const w=Ie(),A=kt(),P=n+22,B=A.firstCreatePass?function wy(n,i,o,u,c,d,p,v,w){const A=i.consts,P=Tu(i,n,4,p||null,Gi(A,v));Ih(i,o,P,Gi(A,w)),lr(i,P);const B=P.tViews=yp(2,P,u,c,d,i.directiveRegistry,i.pipeRegistry,null,i.schemas,A);return null!==i.queries&&(i.queries.template(i,P),B.queries=i.queries.embeddedTView(P)),P}(P,A,w,i,o,u,c,d,p):A.data[P];ii(B,!1);const Z=w[11].createComment("");Gl(A,w,Z,B),Jt(Z,w),xh(w,w[P]=Sh(Z,w,Z,B)),Bs(B)&&co(A,w,B),null!=p&&Eh(w,B,v)}function Vh(n){return ys(function F(){return Ee.lFrame.contextLView}(),22+n)}function Na(n,i,o){const u=Ie();return Vr(u,cn(),i)&&fr(kt(),lt(),u,n,i,u[11],o,!1),Na}function lo(n,i,o,u,c){const p=c?"class":"style";ud(n,o,i.inputs[p],p,u)}function Go(n,i,o,u){const c=Ie(),d=kt(),p=22+n,v=c[11],w=c[p]=rh(v,i,function Er(){return Ee.lFrame.currentNamespace}()),A=d.firstCreatePass?function Vp(n,i,o,u,c,d,p){const v=i.consts,A=Tu(i,n,2,c,Gi(v,d));return Ih(i,o,A,Gi(v,p)),null!==A.attrs&&Ac(A,A.attrs,!1),null!==A.mergedAttrs&&Ac(A,A.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,A),A}(p,d,c,0,i,o,u):d.data[p];ii(A,!0);const P=A.mergedAttrs;null!==P&&Wa(v,w,P);const B=A.classes;null!==B&&np(v,w,B);const Z=A.styles;return null!==Z&&Im(v,w,Z),64!=(64&A.flags)&&Gl(d,c,w,A),0===function Do(){return Ee.lFrame.elementDepthCount}()&&Jt(w,c),function Ks(){Ee.lFrame.elementDepthCount++}(),Bs(A)&&(co(d,c,A),mp(d,A,c)),null!==u&&Eh(c,A),Go}function zo(){let n=Ot();x()?S():(n=n.parent,ii(n,!1));const i=n;!function tr(){Ee.lFrame.elementDepthCount--}();const o=kt();return o.firstCreatePass&&(lr(o,n),ds(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Sd(n){return 0!=(16&n.flags)}(i)&&lo(o,i,Ie(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Td(n){return 0!=(32&n.flags)}(i)&&lo(o,i,Ie(),i.stylesWithoutHost,!1),zo}function Bh(n,i,o,u){return Go(n,i,o,u),zo(),Bh}function Bp(n,i,o){const u=Ie(),c=kt(),d=n+22,p=c.firstCreatePass?function Vc(n,i,o,u,c){const d=i.consts,p=Gi(d,u),v=Tu(i,n,8,"ng-container",p);return null!==p&&Ac(v,p,!0),Ih(i,o,v,Gi(d,c)),null!==i.queries&&i.queries.elementStart(i,v),v}(d,c,u,i,o):c.data[d];ii(p,!0);const v=u[d]=u[11].createComment("");return Gl(c,u,v,p),Jt(v,u),Bs(p)&&(co(c,u,p),mp(c,p,u)),null!=o&&Eh(u,p),Bp}function Up(){let n=Ot();const i=kt();return x()?S():(n=n.parent,ii(n,!1)),i.firstCreatePass&&(lr(i,n),ds(n)&&i.queries.elementEnd(n)),Up}function pd(n,i,o){return Bp(n,i,o),Up(),pd}function Uh(){return Ie()}function gd(n){return!!n&&"function"==typeof n.then}function jh(n){return!!n&&"function"==typeof n.subscribe}const Cy=jh;function jp(n,i,o,u){const c=Ie(),d=kt(),p=Ot();return function Ey(n,i,o,u,c,d,p,v){const w=Bs(u),P=n.firstCreatePass&&Sp(n),B=i[8],Z=Ip(i);let ne=!0;if(3&u.type||v){const He=Bt(u,i),Ze=v?v(He):He,pt=Z.length,xe=v?Wt=>v(un(Wt[u.index])):u.index;let gt=null;if(!v&&w&&(gt=function Hp(n,i,o,u){const c=n.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const p=c[d];if(p===o&&c[d+1]===u){const v=i[7],w=c[d+2];return v.length>w?v[w]:null}"string"==typeof p&&(d+=2)}return null}(n,i,c,u.index)),null!==gt)(gt.__ngLastListenerFn__||gt).__ngNextListenerFn__=d,gt.__ngLastListenerFn__=d,ne=!1;else{d=by(u,i,B,d,!1);const Wt=o.listen(Ze,c,d);Z.push(d,Wt),P&&P.push(c,xe,pt,pt+1)}}else d=by(u,i,B,d,!1);const Ce=u.outputs;let Me;if(ne&&null!==Ce&&(Me=Ce[c])){const He=Me.length;if(He)for(let Ze=0;Ze<He;Ze+=2){const Mn=i[Me[Ze]][Me[Ze+1]].subscribe(d),bd=Z.length;Z.push(d,Mn),P&&P.push(c,u.index,bd,-(bd+1))}}}(d,c,c[11],p,n,i,0,u),jp}function $p(n,i,o,u){try{return!1!==o(u)}catch(c){return py(n,c),!1}}function by(n,i,o,u,c){return function d(p){if(p===Function)return u;Ah(2&n.flags?Hn(n.index,i):i);let w=$p(i,0,u,p),A=d.__ngNextListenerFn__;for(;A;)w=$p(i,0,A,p)&&w,A=A.__ngNextListenerFn__;return c&&!1===w&&(p.preventDefault(),p.returnValue=!1),w}}function Gp(n=1){return function be(n){return(Ee.lFrame.contextLView=function ze(n,i){for(;n>0;)i=i[15],n--;return i}(n,Ee.lFrame.contextLView))[8]}(n)}function $h(n,i,o,u,c){const d=Ie(),p=xa(d,i,o,u);return p!==nt&&fr(kt(),lt(),d,n,p,d[11],c,!1),$h}function qp(n,i,o,u,c){const d=n[o+1],p=null===i;let v=u?Is(d):ao(d),w=!1;for(;0!==v&&(!1===w||p);){const P=n[v+1];n0(n[v],i)&&(w=!0,n[v+1]=u?ir(P):fh(P)),v=u?Is(P):ao(P)}w&&(n[o+1]=u?fh(d):ir(d))}function n0(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&m(n,i)>=0}const qn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Fy(n){return n.substring(qn.key,qn.keyEnd)}function Kh(n,i){const o=qn.textEnd;return o===i?-1:(i=qn.keyEnd=function Bc(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,qn.key=i,o),Oa(n,i,o))}function Oa(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function Kp(n,i){return function Os(n,i,o,u){const c=Ie(),d=kt(),p=Cr(2);d.firstUpdatePass&&ef(d,n,p,u),i!==nt&&Vr(c,p,i)&&rf(d,d.data[Ct()],c,c[11],n,c[p+1]=function d0(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=De(Ci(n)))),n}(i,o),u,p)}(n,i,null,!0),Kp}function Ly(n){!function ki(n,i,o,u){const c=kt(),d=Cr(2);c.firstUpdatePass&&ef(c,null,d,u);const p=Ie();if(o!==nt&&Vr(p,d,o)){const v=c.data[Ct()];if(Uy(v,u)&&!Vy(c,d)){let w=u?v.classesWithoutHost:v.stylesWithoutHost;null!==w&&(o=dt(w,o||"")),lo(c,v,p,o,u)}else!function l0(n,i,o,u,c,d,p,v){c===nt&&(c=Xe);let w=0,A=0,P=0<c.length?c[0]:null,B=0<d.length?d[0]:null;for(;null!==P||null!==B;){const Z=w<c.length?c[w+1]:void 0,ne=A<d.length?d[A+1]:void 0;let Me,Ce=null;P===B?(w+=2,A+=2,Z!==ne&&(Ce=B,Me=ne)):null===B||null!==P&&P<B?(w+=2,Ce=P):(A+=2,Ce=B,Me=ne),null!==Ce&&rf(n,i,o,u,Ce,Me,p,v),P=w<c.length?c[w]:null,B=A<d.length?d[A]:null}}(c,v,p,p[11],p[d+1],p[d+1]=function c0(n,i,o){if(null==o||""===o)return Xe;const u=[],c=Ci(o);if(Array.isArray(c))for(let d=0;d<c.length;d++)n(u,c[d],!0);else if("object"==typeof c)for(const d in c)c.hasOwnProperty(d)&&n(u,d,c[d]);else"string"==typeof c&&i(u,c);return u}(n,i,o),u,d)}}(ui,as,n,!0)}function as(n,i){for(let o=function r0(n){return function Zh(n){qn.key=0,qn.keyEnd=0,qn.value=0,qn.valueEnd=0,qn.textEnd=n.length}(n),Kh(n,Oa(n,0,qn.textEnd))}(i);o>=0;o=Kh(i,o))ui(n,Fy(i),!0)}function Vy(n,i){return i>=n.expandoStartIndex}function ef(n,i,o,u){const c=n.data;if(null===c[o+1]){const d=c[Ct()],p=Vy(n,o);Uy(d,u)&&null===i&&!p&&(i=!1),i=function u0(n,i,o,u){const c=function sa(n){const i=Ee.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let d=u?i.residualClasses:i.residualStyles;if(null===c)0===(u?i.classBindings:i.styleBindings)&&(o=md(o=tf(null,n,i,o,u),i.attrs,u),d=null);else{const p=i.directiveStylingLast;if(-1===p||n[p]!==c)if(o=tf(c,n,i,o,u),null===d){let w=function Yp(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==ao(u))return n[Is(u)]}(n,i,u);void 0!==w&&Array.isArray(w)&&(w=tf(null,n,i,w[1],u),w=md(w,i.attrs,u),function By(n,i,o,u){n[Is(o?i.classBindings:i.styleBindings)]=u}(n,i,u,w))}else d=function Zp(n,i,o){let u;const c=i.directiveEnd;for(let d=1+i.directiveStylingLast;d<c;d++)u=md(u,n[d].hostAttrs,o);return md(u,i.attrs,o)}(n,i,u)}return void 0!==d&&(u?i.residualClasses=d:i.residualStyles=d),o}(c,d,i,u),function Py(n,i,o,u,c,d){let p=d?i.classBindings:i.styleBindings,v=Is(p),w=ao(p);n[u]=o;let P,A=!1;if(Array.isArray(o)){const B=o;P=B[1],(null===P||m(B,P)>0)&&(A=!0)}else P=o;if(c)if(0!==w){const Z=Is(n[v+1]);n[u+1]=hh(Z,v),0!==Z&&(n[Z+1]=hp(n[Z+1],u)),n[v+1]=function M_(n,i){return 131071&n|i<<17}(n[v+1],u)}else n[u+1]=hh(v,0),0!==v&&(n[v+1]=hp(n[v+1],u)),v=u;else n[u+1]=hh(w,0),0===v?v=u:n[w+1]=hp(n[w+1],u),w=u;A&&(n[u+1]=fh(n[u+1])),qp(n,P,u,!0),qp(n,P,u,!1),function zp(n,i,o,u,c){const d=c?n.residualClasses:n.residualStyles;null!=d&&"string"==typeof i&&m(d,i)>=0&&(o[u+1]=ir(o[u+1]))}(i,P,n,u,d),p=hh(v,w),d?i.classBindings=p:i.styleBindings=p}(c,d,i,o,p,u)}}function tf(n,i,o,u,c){let d=null;const p=o.directiveEnd;let v=o.directiveStylingLast;for(-1===v?v=o.directiveStart:v++;v<p&&(d=i[v],u=md(u,d.hostAttrs,c),d!==n);)v++;return null!==n&&(o.directiveStylingLast=v),u}function md(n,i,o){const u=o?1:2;let c=-1;if(null!==i)for(let d=0;d<i.length;d++){const p=i[d];"number"==typeof p?c=p:c===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ui(n,p,!!o||i[++d]))}return void 0===n?null:n}function rf(n,i,o,u,c,d,p,v){if(!(3&i.type))return;const w=n.data,A=w[v+1];Uc(function ph(n){return 1==(1&n)}(A)?sf(w,i,o,c,ao(A),p):void 0)||(Uc(d)||function dp(n){return 2==(2&n)}(A)&&(d=sf(w,null,o,c,v,p)),function ql(n,i,o,u,c){if(i)c?n.addClass(o,u):n.removeClass(o,u);else{let d=-1===u.indexOf("-")?void 0:Fi.DashCase;null==c?n.removeStyle(o,u,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Fi.Important),n.setStyle(o,u,c,d))}}(u,p,zs(Ct(),o),c,d))}function sf(n,i,o,u,c,d){const p=null===i;let v;for(;c>0;){const w=n[c],A=Array.isArray(w),P=A?w[1]:w,B=null===P;let Z=o[c+1];Z===nt&&(Z=B?Xe:void 0);let ne=B?ro(Z,u):P===u?Z:void 0;if(A&&!Uc(ne)&&(ne=ro(w,u)),Uc(ne)&&(v=ne,p))return v;const Ce=n[c+1];c=p?Is(Ce):ao(Ce)}if(null!==i){let w=d?i.residualClasses:i.residualStyles;null!=w&&(v=ro(w,u))}return v}function Uc(n){return void 0!==n}function Uy(n,i){return 0!=(n.flags&(i?16:32))}function jy(n,i=""){const o=Ie(),u=kt(),c=n+22,d=u.firstCreatePass?Tu(u,c,1,i,null):u.data[c],p=o[c]=function nh(n,i){return n.createText(i)}(o[11],i);Gl(u,o,p,d),ii(d,!1)}function Qp(n){return jc("",n,""),Qp}function jc(n,i,o){const u=Ie(),c=xa(u,n,i,o);return c!==nt&&function Ho(n,i,o){const u=zs(i,n);!function yu(n,i,o){n.setValue(i,o)}(n[11],u,o)}(u,Ct(),c),jc}const Pa=void 0;var _d=["en",[["a","p"],["AM","PM"],Pa],[["AM","PM"],Pa,Pa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pa,"{1} 'at' {0}",Pa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function nv(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Dd={};function Ar(n){const i=function y0(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=m0(i);if(o)return o;const u=i.split("-")[0];if(o=m0(u),o)return o;if("en"===u)return _d;throw new Ve(701,!1)}function ho(n){return Ar(n)[vt.PluralCase]}function m0(n){return n in Dd||(Dd[n]=Lt.ng&&Lt.ng.common&&Lt.ng.common.locales&&Lt.ng.common.locales[n]),Dd[n]}var vt=(()=>((vt=vt||{})[vt.LocaleId=0]="LocaleId",vt[vt.DayPeriodsFormat=1]="DayPeriodsFormat",vt[vt.DayPeriodsStandalone=2]="DayPeriodsStandalone",vt[vt.DaysFormat=3]="DaysFormat",vt[vt.DaysStandalone=4]="DaysStandalone",vt[vt.MonthsFormat=5]="MonthsFormat",vt[vt.MonthsStandalone=6]="MonthsStandalone",vt[vt.Eras=7]="Eras",vt[vt.FirstDayOfWeek=8]="FirstDayOfWeek",vt[vt.WeekendRange=9]="WeekendRange",vt[vt.DateFormat=10]="DateFormat",vt[vt.TimeFormat=11]="TimeFormat",vt[vt.DateTimeFormat=12]="DateTimeFormat",vt[vt.NumberSymbols=13]="NumberSymbols",vt[vt.NumberFormats=14]="NumberFormats",vt[vt.CurrencyCode=15]="CurrencyCode",vt[vt.CurrencySymbol=16]="CurrencySymbol",vt[vt.CurrencyName=17]="CurrencyName",vt[vt.Currencies=18]="Currencies",vt[vt.Directionality=19]="Directionality",vt[vt.PluralCase=20]="PluralCase",vt[vt.ExtraData=21]="ExtraData",vt))();const $c="en-US";let hg=$c;function vv(n,i,o,u,c){if(n=ke(n),Array.isArray(n))for(let d=0;d<n.length;d++)vv(n[d],i,o,u,c);else{const d=kt(),p=Ie();let v=wa(n)?n:ke(n.provide),w=nc(n);const A=Ot(),P=1048575&A.providerIndexes,B=A.directiveStart,Z=A.providerIndexes>>20;if(wa(n)||!n.multi){const ne=new Eo(w,c,_c),Ce=Dv(v,i,c?P:P+Z,B);-1===Ce?(da(Ja(A,p),d,v),_v(d,n,i.length),i.push(v),A.directiveStart++,A.directiveEnd++,c&&(A.providerIndexes+=1048576),o.push(ne),p.push(ne)):(o[Ce]=ne,p[Ce]=ne)}else{const ne=Dv(v,i,P+Z,B),Ce=Dv(v,i,P,P+Z),Me=ne>=0&&o[ne],He=Ce>=0&&o[Ce];if(c&&!He||!c&&!Me){da(Ja(A,p),d,v);const Ze=function XD(n,i,o,u,c){const d=new Eo(n,o,_c);return d.multi=[],d.index=i,d.componentProviders=0,bg(d,c,u&&!o),d}(c?_f:B0,o.length,c,u,w);!c&&He&&(o[Ce].providerFactory=Ze),_v(d,n,i.length,0),i.push(v),A.directiveStart++,A.directiveEnd++,c&&(A.providerIndexes+=1048576),o.push(Ze),p.push(Ze)}else _v(d,n,ne>-1?ne:Ce,bg(o[c?Ce:ne],w,!c&&u));!c&&u&&He&&o[Ce].componentProviders++}}}function _v(n,i,o,u){const c=wa(i),d=function Yg(n){return!!n.useClass}(i);if(c||d){const w=(d?ke(i.useClass):i).prototype.ngOnDestroy;if(w){const A=n.destroyHooks||(n.destroyHooks=[]);if(!c&&i.multi){const P=A.indexOf(o);-1===P?A.push(o,[u,w]):A[P+1].push(u,w)}else A.push(o,w)}}}function bg(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function Dv(n,i,o,u){for(let c=o;c<u;c++)if(i[c]===n)return c;return-1}function B0(n,i,o,u){return wv(this.multi,[])}function _f(n,i,o,u){const c=this.multi;let d;if(this.providerFactory){const p=this.providerFactory.componentProviders,v=tu(o,o[1],this.providerFactory.index,u);d=v.slice(0,p),wv(c,d);for(let w=p;w<v.length;w++)d.push(v[w])}else d=[],wv(c,d);return d}function wv(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function Qc(n,i=[]){return o=>{o.providersResolver=(u,c)=>function Cd(n,i,o){const u=kt();if(u.firstCreatePass){const c=Cn(n);vv(o,u.data,u.blueprint,c,!0),vv(i,u.data,u.blueprint,c,!1)}}(u,c?c(n):n,i)}}class Va{}class Cv{}function ew(n,i){return new U0(n,i??null)}class U0 extends Va{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Nc(this);const u=z(i);this._bootstrapComponents=Ei(u.bootstrap),this._r3Injector=yc(i,o,[{provide:Va,useValue:this},{provide:Ea,useValue:this.componentFactoryResolver}],De(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Ev extends Cv{constructor(i){super(),this.moduleType=i}create(i){return new U0(this.moduleType,i)}}class tw extends Va{constructor(i,o,u){super(),this.componentFactoryResolver=new Nc(this),this.instance=null;const c=new ae([...i,{provide:Va,useValue:this},{provide:Ea,useValue:this.componentFactoryResolver}],o||Cs(),u,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function bv(n,i,o=null){return new tw(n,i,o).injector}let nw=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=je(0,o.type),c=u.length>0?bv([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,c)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=nn({token:n,providedIn:"environment",factory:()=>new n(bn(Oo))}),n})();function j0(n){n.getStandaloneInjector=i=>i.get(nw).getOrCreateStandaloneInjector(n)}function we(n,i,o,u){return Jc(Ie(),xt(),n,i,o,u)}function Wn(n,i){const o=n[i];return o===nt?void 0:o}function Jc(n,i,o,u,c,d){const p=i+o;return Vr(n,p,c)?rs(n,p+1,d?u.call(d,c):u(c)):Wn(n,p+1)}function rw(n,i,o,u,c,d,p){const v=i+o;return function Nu(n,i,o,u){const c=Vr(n,i,o);return Vr(n,i+1,u)||c}(n,v,c,d)?rs(n,v+2,p?u.call(p,c,d):u(c,d)):Wn(n,v+2)}function aw(n,i){const o=kt();let u;const c=n+22;o.firstCreatePass?(u=function DC(n,i){if(i)for(let o=i.length-1;o>=0;o--){const u=i[o];if(n===u.name)return u}}(i,o.pipeRegistry),o.data[c]=u,u.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(c,u.onDestroy)):u=o.data[c];const d=u.factory||(u.factory=Gr(u.type)),p=Nn(_c);try{const v=Ya(!1),w=d();return Ya(v),function Lp(n,i,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=u}(o,Ie(),c,w),w}finally{Nn(p)}}function uw(n,i,o){const u=n+22,c=Ie(),d=ys(c,u);return Sg(c,u)?Jc(c,xt(),i,d.transform,o,d):d.transform(o)}function cw(n,i,o,u){const c=n+22,d=Ie(),p=ys(d,c);return Sg(d,c)?rw(d,xt(),i,p.transform,o,u,p):p.transform(o,u)}function Sg(n,i){return n[1].data[i].pure}function H0(n){return i=>{setTimeout(n,void 0,i)}}const Ba=class bC extends g.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let c=i,d=o||(()=>null),p=u;if(i&&"object"==typeof i){const w=i;c=w.next?.bind(w),d=w.error?.bind(w),p=w.complete?.bind(w)}this.__isAsync&&(d=H0(d),c&&(c=H0(c)),p&&(p=H0(p)));const v=super.subscribe({next:c,error:d,complete:p});return i instanceof O.w0&&i.add(v),v}};function IC(){return this._results[ns()]()}class $0{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=ns(),u=$0.prototype;u[o]||(u[o]=IC)}get changes(){return this._changes||(this._changes=new Ba)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const c=oi(i);(this._changesDetected=!function no(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let c=n[u],d=i[u];if(o&&(c=o(c),d=o(d)),d!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Tg=(()=>{class n{}return n.__NG_ELEMENT_ID__=xC,n})();const SC=Tg,TC=class extends SC{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tViews,c=Su(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);c[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(c[19]=p.createEmbeddedView(u)),td(u,c,i),new Mc(c)}};function xC(){return Tv(Ot(),Ie())}function Tv(n,i){return 4&n.type?new TC(i,n,Zt(n,i)):null}let xv=(()=>{class n{}return n.__NG_ELEMENT_ID__=AC,n})();function AC(){return hw(Ot(),Ie())}const MC=xv,lw=class extends MC{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Zt(this._hostTNode,this._hostLView)}get injector(){return new ha(this._hostTNode,this._hostLView)}get parentInjector(){const i=la(this._hostTNode,this._hostLView);if($n(i)){const o=ua(i,this._hostLView),u=Zi(i);return new ha(o[1].data[u+8],o)}return new ha(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=dw(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,u){let c,d;"number"==typeof u?c=u:null!=u&&(c=u.index,d=u.injector);const p=i.createEmbeddedView(o||{},d);return this.insert(p,c),p}createComponent(i,o,u,c,d){const p=i&&!function ga(n){return"function"==typeof n}(i);let v;if(p)v=o;else{const B=o||{};v=B.index,u=B.injector,c=B.projectableNodes,d=B.environmentInjector||B.ngModuleRef}const w=p?i:new Au(Nt(i)),A=u||this.parentInjector;if(!d&&null==w.ngModule){const Z=(p?A:this.parentInjector).get(Oo,null);Z&&(d=Z)}const P=w.create(A,c,void 0,d);return this.insert(P.hostView,v),P}insert(i,o){const u=i._lView,c=u[1];if(function ku(n){return _r(n[3])}(u)){const P=this.indexOf(i);if(-1!==P)this.detach(P);else{const B=u[3],Z=new lw(B,B[6],B[3]);Z.detach(Z.indexOf(i))}}const d=this._adjustIndex(o),p=this._lContainer;!function ym(n,i,o,u){const c=10+u,d=o.length;u>0&&(o[c-1][4]=i),u<d-10?(i[4]=o[c],ma(o,10+u,i)):(o.push(i),i[4]=null),i[3]=o;const p=i[17];null!==p&&o!==p&&function Hl(n,i){const o=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===o?n[9]=[i]:o.push(i)}(p,i);const v=i[19];null!==v&&v.insertView(n),i[2]|=64}(c,u,p,d);const v=tp(d,p),w=u[11],A=$l(w,p[7]);return null!==A&&function gm(n,i,o,u,c,d){u[0]=c,u[6]=i,Bo(n,u,o,1,c,d)}(c,p[6],w,u,A,v),i.attachToViewContainerRef(),ma(G0(p),d,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=dw(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=Xf(this._lContainer,o);u&&(Ji(G0(this._lContainer),o),In(u[1],u))}detach(i){const o=this._adjustIndex(i,-1),u=Xf(this._lContainer,o);return u&&null!=Ji(G0(this._lContainer),o)?new Mc(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function dw(n){return n[8]}function G0(n){return n[8]||(n[8]=[])}function hw(n,i){let o;const u=i[n.index];if(_r(u))o=u;else{let c;if(8&n.type)c=un(u);else{const d=i[11];c=d.createComment("");const p=Bt(n,i);Du(d,$l(d,p),c,function wm(n,i){return n.nextSibling(i)}(d,p),!1)}i[n.index]=o=Sh(u,i,c,n),xh(i,o)}return new lw(o,n,i)}class z0{constructor(i){this.queryList=i,this.matches=null}clone(){return new z0(this.queryList)}setDirty(){this.queryList.setDirty()}}class q0{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let d=0;d<u;d++){const p=o.getByIndex(d);c.push(this.queries[p.indexInDeclarationView].clone())}return new q0(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Dw(i,o).matches&&this.queries[o].setDirty()}}class fw{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class W0{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,d=this.getByIndex(u).embeddedTView(i,c);d&&(d.indexInDeclarationView=u,null!==o?o.push(d):o=[d])}return null!==o?new W0(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class K0{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new K0(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const d=u[c];this.matchTNodeWithReadOption(i,o,RC(o,d)),this.matchTNodeWithReadOption(i,o,Qi(o,i,d,!1,!1))}else u===Tg?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Qi(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===rc||c===xv||c===Tg&&4&o.type)this.addMatch(o.index,-2);else{const d=Qi(o,i,c,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function RC(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function FC(n,i,o,u){return-1===o?function PC(n,i){return 11&n.type?Zt(n,i):4&n.type?Tv(n,i):null}(i,n):-2===o?function kC(n,i,o){return o===rc?Zt(i,n):o===Tg?Tv(i,n):o===xv?hw(i,n):void 0}(n,i,u):tu(n,n[1],o,i)}function pw(n,i,o,u){const c=i[19].queries[u];if(null===c.matches){const d=n.data,p=o.matches,v=[];for(let w=0;w<p.length;w+=2){const A=p[w];v.push(A<0?null:FC(i,d[A],p[w+1],o.metadata.read))}c.matches=v}return c.matches}function Y0(n,i,o,u){const c=n.queries.getByIndex(o),d=c.matches;if(null!==d){const p=pw(n,i,c,o);for(let v=0;v<d.length;v+=2){const w=d[v];if(w>0)u.push(p[v/2]);else{const A=d[v+1],P=i[-w];for(let B=10;B<P.length;B++){const Z=P[B];Z[17]===Z[3]&&Y0(Z[1],Z,A,u)}if(null!==P[9]){const B=P[9];for(let Z=0;Z<B.length;Z++){const ne=B[Z];Y0(ne[1],ne,A,u)}}}}}return u}function gw(n){const i=Ie(),o=kt(),u=tl();Vu(u+1);const c=Dw(o,u);if(n.dirty&&$i(i)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const d=c.crossesNgTemplate?Y0(o,i,u,[]):pw(o,i,c,u);n.reset(d,ic),n.notifyOnChanges()}return!0}return!1}function mw(n,i,o,u){const c=kt();if(c.firstCreatePass){const d=Ot();(function _w(n,i,o){null===n.queries&&(n.queries=new W0),n.queries.track(new K0(i,o))})(c,new fw(i,o,u),d.index),function BC(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(c,n),2==(2&o)&&(c.staticContentQueries=!0)}!function vw(n,i,o){const u=new $0(4==(4&o));ny(n,i,u,u.destroy),null===i[19]&&(i[19]=new q0),i[19].queries.push(new z0(u))}(c,Ie(),o)}function yw(){return function VC(n,i){return n[19].queries[i].queryList}(Ie(),tl())}function Dw(n,i){return n.queries.getByIndex(i)}function ww(n,i){return Tv(n,i)}function Mv(...n){}const Uw=new jt("Application Initializer");let Nv=(()=>{class n{constructor(o){this.appInits=o,this.resolve=Mv,this.reject=Mv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const d=this.appInits[c]();if(gd(d))o.push(d);else if(Cy(d)){const p=new Promise((v,w)=>{d.subscribe({complete:v,error:w})});o.push(p)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(bn(Uw,8))},n.\u0275prov=nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jw=new jt("AppId",{providedIn:"root",factory:function Hw(){return`${eD()}${eD()}${eD()}`}});function eD(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $w=new jt("Platform Initializer"),sE=new jt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Gw=new jt("appBootstrapListener");let oE=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=nn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ov=new jt("LocaleId",{providedIn:"root",factory:()=>Og(Ov,st.Optional|st.SkipSelf)||function aE(){return typeof $localize<"u"&&$localize.locale||$c}()}),uE=new jt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class cE{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let lE=(()=>{class n{compileModuleSync(o){return new Ev(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),d=Ei(z(o).declarations).reduce((p,v)=>{const w=Nt(v);return w&&p.push(new Au(w)),p},[]);return new cE(u,d)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fE=(()=>Promise.resolve(0))();function tD(n){typeof Zone>"u"?fE.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class go{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ba(!1),this.onMicrotaskEmpty=new Ba(!1),this.onStable=new Ba(!1),this.onError=new Ba(!1),typeof Zone>"u")throw new Ve(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const d=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new d("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function pE(){let n=Lt.requestAnimationFrame,i=Lt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function yE(n){const i=()=>{!function mE(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Lt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,rD(n),n.isCheckStableRunning=!0,nD(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),rD(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,d,p,v)=>{try{return Ww(n),o.invokeTask(c,d,p,v)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||n.shouldCoalesceRunChangeDetection)&&i(),Kw(n)}},onInvoke:(o,u,c,d,p,v,w)=>{try{return Ww(n),o.invoke(c,d,p,v,w)}finally{n.shouldCoalesceRunChangeDetection&&i(),Kw(n)}},onHasTask:(o,u,c,d)=>{o.hasTask(c,d),u===c&&("microTask"==d.change?(n._hasPendingMicrotasks=d.microTask,rD(n),nD(n)):"macroTask"==d.change&&(n.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,u,c,d)=>(o.handleError(c,d),n.runOutsideAngular(()=>n.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!go.isInAngularZone())throw new Ve(909,!1)}static assertNotInAngularZone(){if(go.isInAngularZone())throw new Ve(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,c){const d=this._inner,p=d.scheduleEventTask("NgZoneEvent: "+c,i,gE,Mv,Mv);try{return d.runTask(p,o,u)}finally{d.cancelTask(p)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const gE={};function nD(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function rD(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Ww(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Kw(n){n._nesting--,nD(n)}class vE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ba,this.onMicrotaskEmpty=new Ba,this.onStable=new Ba,this.onError=new Ba}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,c){return i.apply(o,u)}}const Yw=new jt(""),Zw=new jt("");let iD,_E=(()=>{class n{constructor(o,u,c){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,iD||(function DE(n){iD=n}(c),c.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{go.assertNotInAngularZone(),tD(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())tD(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let d=-1;u&&u>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==d),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,c){return[]}}return n.\u0275fac=function(o){return new(o||n)(bn(go),bn(Qw),bn(Zw))},n.\u0275prov=nn({token:n,factory:n.\u0275fac}),n})(),Qw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return iD?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=nn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Xc=null;const Jw=new jt("AllowMultipleToken"),sD=new jt("PlatformDestroyListeners");class EE{constructor(i,o){this.name=i,this.token=o}}function eC(n,i,o=[]){const u=`Platform: ${i}`,c=new jt(u);return(d=[])=>{let p=oD();if(!p||p.injector.get(Jw,!1)){const v=[...o,...d,{provide:c,useValue:!0}];n?n(v):function bE(n){if(Xc&&!Xc.get(Jw,!1))throw new Ve(400,!1);Xc=n;const i=n.get(nC);(function Xw(n){const i=n.get($w,null);i&&i.forEach(o=>o())})(n)}(function tC(n=[],i){return Uo.create({name:i,providers:[{provide:li,useValue:"platform"},{provide:sD,useValue:new Set([()=>Xc=null])},...n]})}(v,u))}return function SE(n){const i=oD();if(!i)throw new Ve(401,!1);return i}()}}function oD(){return Xc?.get(nC)??null}let nC=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const c=function iC(n,i){let o;return o="noop"===n?new vE:("zone.js"===n?void 0:n)||new go(i),o}(u?.ngZone,function rC(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),d=[{provide:go,useValue:c}];return c.run(()=>{const p=Uo.create({providers:d,parent:this.injector,name:o.moduleType.name}),v=o.create(p),w=v.injector.get(ac,null);if(!w)throw new Ve(402,!1);return c.runOutsideAngular(()=>{const A=c.onError.subscribe({next:P=>{w.handleError(P)}});v.onDestroy(()=>{Pv(this._modules,v),A.unsubscribe()})}),function sC(n,i,o){try{const u=o();return gd(u)?u.catch(c=>{throw i.runOutsideAngular(()=>n.handleError(c)),c}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(w,c,()=>{const A=v.injector.get(Nv);return A.runInitializers(),A.donePromise.then(()=>(function _0(n){Mt(n,"Expected localeId to be defined"),"string"==typeof n&&(hg=n.toLowerCase().replace(/_/g,"-"))}(v.injector.get(Ov,$c)||$c),this._moduleDoBootstrap(v),v))})})}bootstrapModule(o,u=[]){const c=oC({},u);return function wE(n,i,o){const u=new Ev(o);return Promise.resolve(u)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(o){const u=o.injector.get(Rv);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new Ve(403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ve(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(sD,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(bn(Uo))},n.\u0275prov=nn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function oC(n,i){return Array.isArray(i)?i.reduce(oC,n):{...n,...i}}let Rv=(()=>{class n{constructor(o,u,c){this._zone=o,this._injector=u,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new ee.y(v=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{v.next(this._stable),v.complete()})}),p=new ee.y(v=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{go.assertNotInAngularZone(),tD(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,v.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{go.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{v.next(!1)}))});return()=>{w.unsubscribe(),A.unsubscribe()}});this.isStable=(0,ve.T)(d,p.pipe(function qe(n={}){const{connector:i=(()=>new g.x),resetOnError:o=!0,resetOnComplete:u=!0,resetOnRefCountZero:c=!0}=n;return d=>{let p,v,w,A=0,P=!1,B=!1;const Z=()=>{v?.unsubscribe(),v=void 0},ne=()=>{Z(),p=w=void 0,P=B=!1},Ce=()=>{const Me=p;ne(),Me?.unsubscribe()};return(0,Fe.e)((Me,He)=>{A++,!B&&!P&&Z();const Ze=w=w??i();He.add(()=>{A--,0===A&&!B&&!P&&(v=Le(Ce,c))}),Ze.subscribe(He),!p&&A>0&&(p=new Be.Hp({next:pt=>Ze.next(pt),error:pt=>{B=!0,Z(),v=Le(ne,o,pt),Ze.error(pt)},complete:()=>{P=!0,Z(),v=Le(ne,u),Ze.complete()}}),(0,he.Xf)(Me).subscribe(p))})(d)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,u){const c=o instanceof di;if(!this._injector.get(Nv).done)throw!c&&Q(o),new Ve(405,false);let p;p=c?o:this._injector.get(Ea).resolveComponentFactory(o),this.componentTypes.push(p.componentType);const v=function CE(n){return n.isBoundToModule}(p)?void 0:this._injector.get(Va),A=p.create(Uo.NULL,[],u||p.selector,v),P=A.location.nativeElement,B=A.injector.get(Yw,null);return B?.registerApplication(P),A.onDestroy(()=>{this.detachView(A.hostView),Pv(this.components,A),B?.unregisterApplication(P)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new Ve(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Pv(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Gw,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Pv(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Ve(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(bn(go),bn(Oo),bn(ac))},n.\u0275prov=nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Pv(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}let uC=!0;function xE(){uC=!1}let AE=(()=>{class n{}return n.__NG_ELEMENT_ID__=ME,n})();function ME(n){return function NE(n,i,o){if(Vs(n)&&!o){const u=Hn(n.index,i);return new Mc(u,u)}return 47&n.type?new Mc(i[16],i):null}(Ot(),Ie(),16==(16&n))}class fC{constructor(){}supports(i){return Ta(i)}create(i){return new LE(i)}}const kE=(n,i)=>i;class LE{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||kE}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,c=0,d=null;for(;o||u;){const p=!u||o&&o.currentIndex<gC(u,c,d)?o:u,v=gC(p,c,d),w=p.currentIndex;if(p===u)c--,u=u._nextRemoved;else if(o=o._next,null==p.previousIndex)c++;else{d||(d=[]);const A=v-c,P=w-c;if(A!=P){for(let Z=0;Z<A;Z++){const ne=Z<d.length?d[Z]:d[Z]=0,Ce=ne+Z;P<=Ce&&Ce<A&&(d[Z]=ne+1)}d[p.previousIndex]=P-A}}v!==w&&i(p,v,w)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Ta(i))throw new Ve(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,d,p,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let v=0;v<this.length;v++)d=i[v],p=this._trackByFn(v,d),null!==o&&Object.is(o.trackById,p)?(u&&(o=this._verifyReinsertion(o,d,p,v)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,p,v),u=!0),o=o._next}else c=0,function Op(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[ns()]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,v=>{p=this._trackByFn(c,v),null!==o&&Object.is(o.trackById,p)?(u&&(o=this._verifyReinsertion(o,v,p,c)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,p,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,c){let d;return null===i?d=this._itTail:(d=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,d,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,d,c)):i=this._addAfter(new VE(o,u),d,c),i}_verifyReinsertion(i,o,u,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==d?i=this._reinsertAfter(d,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,d=i._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new pC),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pC),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class VE{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class BE{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class pC{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new BE,this.map.set(o,u)),u.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gC(n,i,o){const u=n.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+i+c}class mC{constructor(){}supports(i){return i instanceof Map||Rh(i)}create(){return new UE}}class UE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Rh(i)))throw new Ve(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const d=c._prev,p=c._next;return d&&(d._next=p),p&&(p._prev=d),c._next=null,c._prev=null,c}const u=new jE(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class jE{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yC(){return new dD([new fC])}let dD=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||yC()),deps:[[n,new su,new Gu]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new Ve(901,!1)}}return n.\u0275prov=nn({token:n,providedIn:"root",factory:yC}),n})();function vC(){return new hD([new mC])}let hD=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||vC()),deps:[[n,new su,new Gu]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new Ve(901,!1)}}return n.\u0275prov=nn({token:n,providedIn:"root",factory:vC}),n})();const GE=eC(null,"core",[]);let zE=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(bn(Rv))},n.\u0275mod=gi({type:n}),n.\u0275inj=Kr({}),n})();function qE(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(yt,Ne,H)=>{H.d(Ne,{Fj:()=>_e,qu:()=>Ot,NI:()=>vr,u:()=>ta,cw:()=>Q,sg:()=>Or,u5:()=>zi,JJ:()=>Nn,JL:()=>on,On:()=>Qo,YN:()=>$s,UX:()=>wo,EJ:()=>Hs,QS:()=>Wr,p4:()=>er,nJ:()=>z,kI:()=>L,_Y:()=>Jo,Kr:()=>Gs});var g=H(1571),O=H(6895),ee=H(2076),ve=H(9751),he=H(4742),Be=H(8421),Fe=H(7669),qe=H(5403),Le=H(3268),ce=H(1810),De=H(4004);let dt=(()=>{class x{constructor(E,F){this._renderer=E,this._elementRef=F,this.onChange=oe=>{},this.onTouched=()=>{}}setProperty(E,F){this._renderer.setProperty(this._elementRef.nativeElement,E,F)}registerOnTouched(E){this.onTouched=E}registerOnChange(E){this.onChange=E}setDisabledState(E){this.setProperty("disabled",E)}}return x.\u0275fac=function(E){return new(E||x)(g.Y36(g.Qsj),g.Y36(g.SBq))},x.\u0275dir=g.lG2({type:x}),x})(),Oe=(()=>{class x extends dt{}return x.\u0275fac=function(){let S;return function(F){return(S||(S=g.n5z(x)))(F||x)}}(),x.\u0275dir=g.lG2({type:x,features:[g.qOj]}),x})();const Je=new g.OlP("NgValueAccessor"),bt={provide:Je,useExisting:(0,g.Gpc)(()=>_e),multi:!0},Kt=new g.OlP("CompositionEventMode");let _e=(()=>{class x extends dt{constructor(E,F,oe){super(E,F),this._compositionMode=oe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ve(){const x=(0,O.q)()?(0,O.q)().getUserAgent():"";return/android (\d+)/.test(x.toLowerCase())}())}writeValue(E){this.setProperty("value",E??"")}_handleInput(E){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(E)}_compositionStart(){this._composing=!0}_compositionEnd(E){this._composing=!1,this._compositionMode&&this.onChange(E)}}return x.\u0275fac=function(E){return new(E||x)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(Kt,8))},x.\u0275dir=g.lG2({type:x,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(E,F){1&E&&g.NdJ("input",function(Ue){return F._handleInput(Ue.target.value)})("blur",function(){return F.onTouched()})("compositionstart",function(){return F._compositionStart()})("compositionend",function(Ue){return F._compositionEnd(Ue.target.value)})},features:[g._Bn([bt]),g.qOj]}),x})();function Ke(x){return null==x||("string"==typeof x||Array.isArray(x))&&0===x.length}function Se(x){return null!=x&&"number"==typeof x.length}const le=new g.OlP("NgValidators"),Y=new g.OlP("NgAsyncValidators"),re=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class L{static min(S){return function G(x){return S=>{if(Ke(S.value)||Ke(x))return null;const E=parseFloat(S.value);return!isNaN(E)&&E<x?{min:{min:x,actual:S.value}}:null}}(S)}static max(S){return function U(x){return S=>{if(Ke(S.value)||Ke(x))return null;const E=parseFloat(S.value);return!isNaN(E)&&E>x?{max:{max:x,actual:S.value}}:null}}(S)}static required(S){return function W(x){return Ke(x.value)?{required:!0}:null}(S)}static requiredTrue(S){return function fe(x){return!0===x.value?null:{required:!0}}(S)}static email(S){return function pe(x){return Ke(x.value)||re.test(x.value)?null:{email:!0}}(S)}static minLength(S){return function Qe(x){return S=>Ke(S.value)||!Se(S.value)?null:S.value.length<x?{minlength:{requiredLength:x,actualLength:S.value.length}}:null}(S)}static maxLength(S){return function It(x){return S=>Se(S.value)&&S.value.length>x?{maxlength:{requiredLength:x,actualLength:S.value.length}}:null}(S)}static pattern(S){return function tn(x){if(!x)return ht;let S,E;return"string"==typeof x?(E="","^"!==x.charAt(0)&&(E+="^"),E+=x,"$"!==x.charAt(x.length-1)&&(E+="$"),S=new RegExp(E)):(E=x.toString(),S=x),F=>{if(Ke(F.value))return null;const oe=F.value;return S.test(oe)?null:{pattern:{requiredPattern:E,actualValue:oe}}}}(S)}static nullValidator(S){return null}static compose(S){return Sn(S)}static composeAsync(S){return Ko(S)}}function ht(x){return null}function Ft(x){return null!=x}function gr(x){return(0,g.QGY)(x)?(0,ee.D)(x):x}function Mt(x){let S={};return x.forEach(E=>{S=null!=E?{...S,...E}:S}),0===Object.keys(S).length?null:S}function wt(x,S){return S.map(E=>E(x))}function sn(x){return x.map(S=>function jn(x){return!x.validate}(S)?S:E=>S.validate(E))}function Sn(x){if(!x)return null;const S=x.filter(Ft);return 0==S.length?null:function(E){return Mt(wt(E,S))}}function nn(x){return null!=x?Sn(sn(x)):null}function Ko(x){if(!x)return null;const S=x.filter(Ft);return 0==S.length?null:function(E){return function ge(...x){const S=(0,Fe.jO)(x),{args:E,keys:F}=(0,he.D)(x),oe=new ve.y(Ue=>{const{length:xt}=E;if(!xt)return void Ue.complete();const Vt=new Array(xt);let si=xt,cn=xt;for(let Cr=0;Cr<xt;Cr++){let _s=!1;(0,Be.Xf)(E[Cr]).subscribe((0,qe.x)(Ue,Ai=>{_s||(_s=!0,cn--),Vt[Cr]=Ai},()=>si--,void 0,()=>{(!si||!_s)&&(cn||Ue.next(F?(0,ce.n)(F,Vt):Vt),Ue.complete())}))}});return S?oe.pipe((0,Le.Z)(S)):oe}(wt(E,S).map(gr)).pipe((0,De.U)(Mt))}}function Kr(x){return null!=x?Ko(sn(x)):null}function Br(x,S){return null===x?[S]:Array.isArray(x)?[...x,S]:[x,S]}function Ps(x){return x._rawValidators}function us(x){return x._rawAsyncValidators}function cs(x){return x?Array.isArray(x)?x:[x]:[]}function bi(x,S){return Array.isArray(x)?x.includes(S):x===S}function Fs(x,S){const E=cs(S);return cs(x).forEach(oe=>{bi(E,oe)||E.push(oe)}),E}function tt(x,S){return cs(S).filter(E=>!bi(x,E))}class or{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(S){this._rawValidators=S||[],this._composedValidatorFn=nn(this._rawValidators)}_setAsyncValidators(S){this._rawAsyncValidators=S||[],this._composedAsyncValidatorFn=Kr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(S){this._onDestroyCallbacks.push(S)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(S=>S()),this._onDestroyCallbacks=[]}reset(S){this.control&&this.control.reset(S)}hasError(S,E){return!!this.control&&this.control.hasError(S,E)}getError(S,E){return this.control?this.control.getError(S,E):null}}class Tn extends or{get formDirective(){return null}get path(){return null}}class Kn extends or{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class st{constructor(S){this._cd=S}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Nn=(()=>{class x extends st{constructor(E){super(E)}}return x.\u0275fac=function(E){return new(E||x)(g.Y36(Kn,2))},x.\u0275dir=g.lG2({type:x,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(E,F){2&E&&g.ekj("ng-untouched",F.isUntouched)("ng-touched",F.isTouched)("ng-pristine",F.isPristine)("ng-dirty",F.isDirty)("ng-valid",F.isValid)("ng-invalid",F.isInvalid)("ng-pending",F.isPending)},features:[g.qOj]}),x})(),on=(()=>{class x extends st{constructor(E){super(E)}}return x.\u0275fac=function(E){return new(E||x)(g.Y36(Tn,10))},x.\u0275dir=g.lG2({type:x,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(E,F){2&E&&g.ekj("ng-untouched",F.isUntouched)("ng-touched",F.isTouched)("ng-pristine",F.isPristine)("ng-dirty",F.isDirty)("ng-valid",F.isValid)("ng-invalid",F.isInvalid)("ng-pending",F.isPending)("ng-submitted",F.isSubmitted)},features:[g.qOj]}),x})();const Zn="VALID",Dt="INVALID",Zr="PENDING",Qr="DISABLED";function gi(x){return(Si(x)?x.validators:x)||null}function mo(x){return Array.isArray(x)?nn(x):x||null}function Jr(x,S){return(Si(S)?S.asyncValidators:x)||null}function Ii(x){return Array.isArray(x)?Kr(x):x||null}function Si(x){return null!=x&&!Array.isArray(x)&&"object"==typeof x}function Nt(x,S,E){const F=x.controls;if(!(S?Object.keys(F):F).length)throw new g.vHH(1e3,"");if(!F[E])throw new g.vHH(1001,"")}function wn(x,S,E){x._forEachChild((F,oe)=>{if(void 0===E[oe])throw new g.vHH(1002,"")})}class X{constructor(S,E){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=S,this._rawAsyncValidators=E,this._composedValidatorFn=mo(this._rawValidators),this._composedAsyncValidatorFn=Ii(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(S){this._rawValidators=this._composedValidatorFn=S}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(S){this._rawAsyncValidators=this._composedAsyncValidatorFn=S}get parent(){return this._parent}get valid(){return this.status===Zn}get invalid(){return this.status===Dt}get pending(){return this.status==Zr}get disabled(){return this.status===Qr}get enabled(){return this.status!==Qr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(S){this._rawValidators=S,this._composedValidatorFn=mo(S)}setAsyncValidators(S){this._rawAsyncValidators=S,this._composedAsyncValidatorFn=Ii(S)}addValidators(S){this.setValidators(Fs(S,this._rawValidators))}addAsyncValidators(S){this.setAsyncValidators(Fs(S,this._rawAsyncValidators))}removeValidators(S){this.setValidators(tt(S,this._rawValidators))}removeAsyncValidators(S){this.setAsyncValidators(tt(S,this._rawAsyncValidators))}hasValidator(S){return bi(this._rawValidators,S)}hasAsyncValidator(S){return bi(this._rawAsyncValidators,S)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(S={}){this.touched=!0,this._parent&&!S.onlySelf&&this._parent.markAsTouched(S)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(S=>S.markAllAsTouched())}markAsUntouched(S={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(E=>{E.markAsUntouched({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}markAsDirty(S={}){this.pristine=!1,this._parent&&!S.onlySelf&&this._parent.markAsDirty(S)}markAsPristine(S={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(E=>{E.markAsPristine({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}markAsPending(S={}){this.status=Zr,!1!==S.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!S.onlySelf&&this._parent.markAsPending(S)}disable(S={}){const E=this._parentMarkedDirty(S.onlySelf);this.status=Qr,this.errors=null,this._forEachChild(F=>{F.disable({...S,onlySelf:!0})}),this._updateValue(),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...S,skipPristineCheck:E}),this._onDisabledChange.forEach(F=>F(!0))}enable(S={}){const E=this._parentMarkedDirty(S.onlySelf);this.status=Zn,this._forEachChild(F=>{F.enable({...S,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent}),this._updateAncestors({...S,skipPristineCheck:E}),this._onDisabledChange.forEach(F=>F(!1))}_updateAncestors(S){this._parent&&!S.onlySelf&&(this._parent.updateValueAndValidity(S),S.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(S){this._parent=S}getRawValue(){return this.value}updateValueAndValidity(S={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zn||this.status===Zr)&&this._runAsyncValidator(S.emitEvent)),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!S.onlySelf&&this._parent.updateValueAndValidity(S)}_updateTreeValidity(S={emitEvent:!0}){this._forEachChild(E=>E._updateTreeValidity(S)),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qr:Zn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(S){if(this.asyncValidator){this.status=Zr,this._hasOwnPendingAsyncValidator=!0;const E=gr(this.asyncValidator(this));this._asyncValidationSubscription=E.subscribe(F=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(F,{emitEvent:S})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(S,E={}){this.errors=S,this._updateControlsErrors(!1!==E.emitEvent)}get(S){let E=S;return null==E||(Array.isArray(E)||(E=E.split(".")),0===E.length)?null:E.reduce((F,oe)=>F&&F._find(oe),this)}getError(S,E){const F=E?this.get(E):this;return F&&F.errors?F.errors[S]:null}hasError(S,E){return!!this.getError(S,E)}get root(){let S=this;for(;S._parent;)S=S._parent;return S}_updateControlsErrors(S){this.status=this._calculateStatus(),S&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(S)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?Qr:this.errors?Dt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zr)?Zr:this._anyControlsHaveStatus(Dt)?Dt:Zn}_anyControlsHaveStatus(S){return this._anyControls(E=>E.status===S)}_anyControlsDirty(){return this._anyControls(S=>S.dirty)}_anyControlsTouched(){return this._anyControls(S=>S.touched)}_updatePristine(S={}){this.pristine=!this._anyControlsDirty(),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}_updateTouched(S={}){this.touched=this._anyControlsTouched(),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}_registerOnCollectionChange(S){this._onCollectionChange=S}_setUpdateStrategy(S){Si(S)&&null!=S.updateOn&&(this._updateOn=S.updateOn)}_parentMarkedDirty(S){return!S&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(S){return null}}class Q extends X{constructor(S,E,F){super(gi(E),Jr(F,E)),this.controls=S,this._initObservables(),this._setUpdateStrategy(E),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(S,E){return this.controls[S]?this.controls[S]:(this.controls[S]=E,E.setParent(this),E._registerOnCollectionChange(this._onCollectionChange),E)}addControl(S,E,F={}){this.registerControl(S,E),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}removeControl(S,E={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),delete this.controls[S],this.updateValueAndValidity({emitEvent:E.emitEvent}),this._onCollectionChange()}setControl(S,E,F={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),delete this.controls[S],E&&this.registerControl(S,E),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}contains(S){return this.controls.hasOwnProperty(S)&&this.controls[S].enabled}setValue(S,E={}){wn(this,0,S),Object.keys(S).forEach(F=>{Nt(this,!0,F),this.controls[F].setValue(S[F],{onlySelf:!0,emitEvent:E.emitEvent})}),this.updateValueAndValidity(E)}patchValue(S,E={}){null!=S&&(Object.keys(S).forEach(F=>{const oe=this.controls[F];oe&&oe.patchValue(S[F],{onlySelf:!0,emitEvent:E.emitEvent})}),this.updateValueAndValidity(E))}reset(S={},E={}){this._forEachChild((F,oe)=>{F.reset(S[oe],{onlySelf:!0,emitEvent:E.emitEvent})}),this._updatePristine(E),this._updateTouched(E),this.updateValueAndValidity(E)}getRawValue(){return this._reduceChildren({},(S,E,F)=>(S[F]=E.getRawValue(),S))}_syncPendingControls(){let S=this._reduceChildren(!1,(E,F)=>!!F._syncPendingControls()||E);return S&&this.updateValueAndValidity({onlySelf:!0}),S}_forEachChild(S){Object.keys(this.controls).forEach(E=>{const F=this.controls[E];F&&S(F,E)})}_setUpControls(){this._forEachChild(S=>{S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(S){for(const[E,F]of Object.entries(this.controls))if(this.contains(E)&&S(F))return!0;return!1}_reduceValue(){return this._reduceChildren({},(E,F,oe)=>((F.enabled||this.disabled)&&(E[oe]=F.value),E))}_reduceChildren(S,E){let F=S;return this._forEachChild((oe,Ue)=>{F=E(F,oe,Ue)}),F}_allControlsDisabled(){for(const S of Object.keys(this.controls))if(this.controls[S].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(S){return this.controls.hasOwnProperty(S)?this.controls[S]:null}}const z=Q;class J extends Q{}function Ye(x,S){return[...S.path,x]}function St(x,S){en(x,S),S.valueAccessor.writeValue(x.value),x.disabled&&S.valueAccessor.setDisabledState?.(!0),function yi(x,S){S.valueAccessor.registerOnChange(E=>{x._pendingValue=E,x._pendingChange=!0,x._pendingDirty=!0,"change"===x.updateOn&&Xr(x,S)})}(x,S),function Qn(x,S){const E=(F,oe)=>{S.valueAccessor.writeValue(F),oe&&S.viewToModelUpdate(F)};x.registerOnChange(E),S._registerOnDestroy(()=>{x._unregisterOnChange(E)})}(x,S),function ct(x,S){S.valueAccessor.registerOnTouched(()=>{x._pendingTouched=!0,"blur"===x.updateOn&&x._pendingChange&&Xr(x,S),"submit"!==x.updateOn&&x.markAsTouched()})}(x,S),function yr(x,S){if(S.valueAccessor.setDisabledState){const E=F=>{S.valueAccessor.setDisabledState(F)};x.registerOnDisabledChange(E),S._registerOnDestroy(()=>{x._unregisterOnDisabledChange(E)})}}(x,S)}function an(x,S,E=!0){const F=()=>{};S.valueAccessor&&(S.valueAccessor.registerOnChange(F),S.valueAccessor.registerOnTouched(F)),mi(x,S),x&&(S._invokeOnDestroyCallbacks(),x._registerOnCollectionChange(()=>{}))}function rn(x,S){x.forEach(E=>{E.registerOnValidatorChange&&E.registerOnValidatorChange(S)})}function en(x,S){const E=Ps(x);null!==S.validator?x.setValidators(Br(E,S.validator)):"function"==typeof E&&x.setValidators([E]);const F=us(x);null!==S.asyncValidator?x.setAsyncValidators(Br(F,S.asyncValidator)):"function"==typeof F&&x.setAsyncValidators([F]);const oe=()=>x.updateValueAndValidity();rn(S._rawValidators,oe),rn(S._rawAsyncValidators,oe)}function mi(x,S){let E=!1;if(null!==x){if(null!==S.validator){const oe=Ps(x);if(Array.isArray(oe)&&oe.length>0){const Ue=oe.filter(xt=>xt!==S.validator);Ue.length!==oe.length&&(E=!0,x.setValidators(Ue))}}if(null!==S.asyncValidator){const oe=us(x);if(Array.isArray(oe)&&oe.length>0){const Ue=oe.filter(xt=>xt!==S.asyncValidator);Ue.length!==oe.length&&(E=!0,x.setAsyncValidators(Ue))}}}const F=()=>{};return rn(S._rawValidators,F),rn(S._rawAsyncValidators,F),E}function Xr(x,S){x._pendingDirty&&x.markAsDirty(),x.setValue(x._pendingValue,{emitModelToViewChange:!1}),S.viewToModelUpdate(x._pendingValue),x._pendingChange=!1}function cr(x,S){if(!x.hasOwnProperty("model"))return!1;const E=x.model;return!!E.isFirstChange()||!Object.is(S,E.currentValue)}function Nr(x,S){if(!S)return null;let E,F,oe;return Array.isArray(S),S.forEach(Ue=>{Ue.constructor===_e?E=Ue:function jr(x){return Object.getPrototypeOf(x.constructor)===Oe}(Ue)?F=Ue:oe=Ue}),oe||F||E||null}function Hr(x,S){const E=x.indexOf(S);E>-1&&x.splice(E,1)}function ln(x){return"object"==typeof x&&null!==x&&2===Object.keys(x).length&&"value"in x&&"disabled"in x}const vr=class extends X{constructor(S=null,E,F){super(gi(E),Jr(F,E)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(S),this._setUpdateStrategy(E),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Si(E)&&(E.nonNullable||E.initialValueIsDefault)&&(this.defaultValue=ln(S)?S.value:S)}setValue(S,E={}){this.value=this._pendingValue=S,this._onChange.length&&!1!==E.emitModelToViewChange&&this._onChange.forEach(F=>F(this.value,!1!==E.emitViewToModelChange)),this.updateValueAndValidity(E)}patchValue(S,E={}){this.setValue(S,E)}reset(S=this.defaultValue,E={}){this._applyFormState(S),this.markAsPristine(E),this.markAsUntouched(E),this.setValue(this.value,E),this._pendingChange=!1}_updateValue(){}_anyControls(S){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(S){this._onChange.push(S)}_unregisterOnChange(S){Hr(this._onChange,S)}registerOnDisabledChange(S){this._onDisabledChange.push(S)}_unregisterOnDisabledChange(S){Hr(this._onDisabledChange,S)}_forEachChild(S){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(S){ln(S)?(this.value=this._pendingValue=S.value,S.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=S}},er=vr,Zo={provide:Kn,useExisting:(0,g.Gpc)(()=>Qo)},ja=(()=>Promise.resolve(null))();let Qo=(()=>{class x extends Kn{constructor(E,F,oe,Ue,xt){super(),this._changeDetectorRef=xt,this.control=new vr,this._registered=!1,this.update=new g.vpe,this._parent=E,this._setValidators(F),this._setAsyncValidators(oe),this.valueAccessor=Nr(0,Ue)}ngOnChanges(E){if(this._checkForErrors(),!this._registered||"name"in E){if(this._registered&&(this._checkName(),this.formDirective)){const F=E.name.previousValue;this.formDirective.removeControl({name:F,path:this._getPath(F)})}this._setUpControl()}"isDisabled"in E&&this._updateDisabled(E),cr(E,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(E){this.viewModel=E,this.update.emit(E)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){St(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(E){ja.then(()=>{this.control.setValue(E,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(E){const F=E.isDisabled.currentValue,oe=0!==F&&(0,g.D6c)(F);ja.then(()=>{oe&&!this.control.disabled?this.control.disable():!oe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(E){return this._parent?Ye(E,this._parent):[E]}}return x.\u0275fac=function(E){return new(E||x)(g.Y36(Tn,9),g.Y36(le,10),g.Y36(Y,10),g.Y36(Je,10),g.Y36(g.sBO,8))},x.\u0275dir=g.lG2({type:x,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([Zo]),g.qOj,g.TTD]}),x})(),Jo=(()=>{class x{}return x.\u0275fac=function(E){return new(E||x)},x.\u0275dir=g.lG2({type:x,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),x})(),vo=(()=>{class x{}return x.\u0275fac=function(E){return new(E||x)},x.\u0275mod=g.oAB({type:x}),x.\u0275inj=g.cJS({}),x})();const Ga=new g.OlP("NgModelWithFormControlWarning"),fs={provide:Tn,useExisting:(0,g.Gpc)(()=>Or)};let Or=(()=>{class x extends Tn{constructor(E,F){super(),this.validators=E,this.asyncValidators=F,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(E),this._setAsyncValidators(F)}ngOnChanges(E){this._checkFormPresent(),E.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(E){const F=this.form.get(E.path);return St(F,E),F.updateValueAndValidity({emitEvent:!1}),this.directives.push(E),F}getControl(E){return this.form.get(E.path)}removeControl(E){an(E.control||null,E,!1),function yo(x,S){const E=x.indexOf(S);E>-1&&x.splice(E,1)}(this.directives,E)}addFormGroup(E){this._setUpFormContainer(E)}removeFormGroup(E){this._cleanUpFormContainer(E)}getFormGroup(E){return this.form.get(E.path)}addFormArray(E){this._setUpFormContainer(E)}removeFormArray(E){this._cleanUpFormContainer(E)}getFormArray(E){return this.form.get(E.path)}updateModel(E,F){this.form.get(E.path).setValue(F)}onSubmit(E){return this.submitted=!0,function $t(x,S){x._syncPendingControls(),S.forEach(E=>{const F=E.control;"submit"===F.updateOn&&F._pendingChange&&(E.viewToModelUpdate(F._pendingValue),F._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(E),!1}onReset(){this.resetForm()}resetForm(E){this.form.reset(E),this.submitted=!1}_updateDomValue(){this.directives.forEach(E=>{const F=E.control,oe=this.form.get(E.path);F!==oe&&(an(F||null,E),(x=>x instanceof vr)(oe)&&(St(oe,E),E.control=oe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(E){const F=this.form.get(E.path);(function Vi(x,S){en(x,S)})(F,E),F.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(E){if(this.form){const F=this.form.get(E.path);F&&function Bi(x,S){return mi(x,S)}(F,E)&&F.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){en(this.form,this),this._oldForm&&mi(this._oldForm,this)}_checkFormPresent(){}}return x.\u0275fac=function(E){return new(E||x)(g.Y36(le,10),g.Y36(Y,10))},x.\u0275dir=g.lG2({type:x,selectors:[["","formGroup",""]],hostBindings:function(E,F){1&E&&g.NdJ("submit",function(Ue){return F.onSubmit(Ue)})("reset",function(){return F.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([fs]),g.qOj,g.TTD]}),x})();const ea={provide:Kn,useExisting:(0,g.Gpc)(()=>ta)};let ta=(()=>{class x extends Kn{constructor(E,F,oe,Ue,xt){super(),this._ngModelWarningConfig=xt,this._added=!1,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=E,this._setValidators(F),this._setAsyncValidators(oe),this.valueAccessor=Nr(0,Ue)}set isDisabled(E){}ngOnChanges(E){this._added||this._setUpControl(),cr(E,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(E){this.viewModel=E,this.update.emit(E)}get path(){return Ye(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return x._ngModelWarningSentOnce=!1,x.\u0275fac=function(E){return new(E||x)(g.Y36(Tn,13),g.Y36(le,10),g.Y36(Y,10),g.Y36(Je,10),g.Y36(Ga,8))},x.\u0275dir=g.lG2({type:x,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([ea]),g.qOj,g.TTD]}),x})();const js={provide:Je,useExisting:(0,g.Gpc)(()=>Hs),multi:!0};function ji(x,S){return null==x?`${S}`:(S&&"object"==typeof S&&(S="Object"),`${x}: ${S}`.slice(0,50))}let Hs=(()=>{class x extends Oe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(E){this._compareWith=E}writeValue(E){this.value=E;const oe=ji(this._getOptionId(E),E);this.setProperty("value",oe)}registerOnChange(E){this.onChange=F=>{this.value=this._getOptionValue(F),E(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(E){for(const F of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(F),E))return F;return null}_getOptionValue(E){const F=function ni(x){return x.split(":")[0]}(E);return this._optionMap.has(F)?this._optionMap.get(F):E}}return x.\u0275fac=function(){let S;return function(F){return(S||(S=g.n5z(x)))(F||x)}}(),x.\u0275dir=g.lG2({type:x,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(E,F){1&E&&g.NdJ("change",function(Ue){return F.onChange(Ue.target.value)})("blur",function(){return F.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([js]),g.qOj]}),x})(),$s=(()=>{class x{constructor(E,F,oe){this._element=E,this._renderer=F,this._select=oe,this._select&&(this.id=this._select._registerOption())}set ngValue(E){null!=this._select&&(this._select._optionMap.set(this.id,E),this._setElementValue(ji(this.id,E)),this._select.writeValue(this._select.value))}set value(E){this._setElementValue(E),this._select&&this._select.writeValue(this._select.value)}_setElementValue(E){this._renderer.setProperty(this._element.nativeElement,"value",E)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return x.\u0275fac=function(E){return new(E||x)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(Hs,9))},x.\u0275dir=g.lG2({type:x,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),x})();const na={provide:Je,useExisting:(0,g.Gpc)(()=>Hi),multi:!0};function Dr(x,S){return null==x?`${S}`:("string"==typeof S&&(S=`'${S}'`),S&&"object"==typeof S&&(S="Object"),`${x}: ${S}`.slice(0,50))}let Hi=(()=>{class x extends Oe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(E){this._compareWith=E}writeValue(E){let F;if(this.value=E,Array.isArray(E)){const oe=E.map(Ue=>this._getOptionId(Ue));F=(Ue,xt)=>{Ue._setSelected(oe.indexOf(xt.toString())>-1)}}else F=(oe,Ue)=>{oe._setSelected(!1)};this._optionMap.forEach(F)}registerOnChange(E){this.onChange=F=>{const oe=[],Ue=F.selectedOptions;if(void 0!==Ue){const xt=Ue;for(let Vt=0;Vt<xt.length;Vt++){const cn=this._getOptionValue(xt[Vt].value);oe.push(cn)}}else{const xt=F.options;for(let Vt=0;Vt<xt.length;Vt++){const si=xt[Vt];if(si.selected){const cn=this._getOptionValue(si.value);oe.push(cn)}}}this.value=oe,E(oe)}}_registerOption(E){const F=(this._idCounter++).toString();return this._optionMap.set(F,E),F}_getOptionId(E){for(const F of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(F)._value,E))return F;return null}_getOptionValue(E){const F=function zr(x){return x.split(":")[0]}(E);return this._optionMap.has(F)?this._optionMap.get(F)._value:E}}return x.\u0275fac=function(){let S;return function(F){return(S||(S=g.n5z(x)))(F||x)}}(),x.\u0275dir=g.lG2({type:x,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(E,F){1&E&&g.NdJ("change",function(Ue){return F.onChange(Ue.target)})("blur",function(){return F.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([na]),g.qOj]}),x})(),Gs=(()=>{class x{constructor(E,F,oe){this._element=E,this._renderer=F,this._select=oe,this._select&&(this.id=this._select._registerOption(this))}set ngValue(E){null!=this._select&&(this._value=E,this._setElementValue(Dr(this.id,E)),this._select.writeValue(this._select.value))}set value(E){this._select?(this._value=E,this._setElementValue(Dr(this.id,E)),this._select.writeValue(this._select.value)):this._setElementValue(E)}_setElementValue(E){this._renderer.setProperty(this._element.nativeElement,"value",E)}_setSelected(E){this._renderer.setProperty(this._element.nativeElement,"selected",E)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return x.\u0275fac=function(E){return new(E||x)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(Hi,9))},x.\u0275dir=g.lG2({type:x,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),x})(),Ys=(()=>{class x{}return x.\u0275fac=function(E){return new(E||x)},x.\u0275mod=g.oAB({type:x}),x.\u0275inj=g.cJS({imports:[vo]}),x})(),zi=(()=>{class x{}return x.\u0275fac=function(E){return new(E||x)},x.\u0275mod=g.oAB({type:x}),x.\u0275inj=g.cJS({imports:[Ys]}),x})(),wo=(()=>{class x{static withConfig(E){return{ngModule:x,providers:[{provide:Ga,useValue:E.warnOnNgModelWithFormControl}]}}}return x.\u0275fac=function(E){return new(E||x)},x.\u0275mod=g.oAB({type:x}),x.\u0275inj=g.cJS({imports:[Ys]}),x})();class Ie extends X{constructor(S,E,F){super(gi(E),Jr(F,E)),this.controls=S,this._initObservables(),this._setUpdateStrategy(E),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(S){return this.controls[this._adjustIndex(S)]}push(S,E={}){this.controls.push(S),this._registerControl(S),this.updateValueAndValidity({emitEvent:E.emitEvent}),this._onCollectionChange()}insert(S,E,F={}){this.controls.splice(S,0,E),this._registerControl(E),this.updateValueAndValidity({emitEvent:F.emitEvent})}removeAt(S,E={}){let F=this._adjustIndex(S);F<0&&(F=0),this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),this.controls.splice(F,1),this.updateValueAndValidity({emitEvent:E.emitEvent})}setControl(S,E,F={}){let oe=this._adjustIndex(S);oe<0&&(oe=0),this.controls[oe]&&this.controls[oe]._registerOnCollectionChange(()=>{}),this.controls.splice(oe,1),E&&(this.controls.splice(oe,0,E),this._registerControl(E)),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(S,E={}){wn(this,0,S),S.forEach((F,oe)=>{Nt(this,!1,oe),this.at(oe).setValue(F,{onlySelf:!0,emitEvent:E.emitEvent})}),this.updateValueAndValidity(E)}patchValue(S,E={}){null!=S&&(S.forEach((F,oe)=>{this.at(oe)&&this.at(oe).patchValue(F,{onlySelf:!0,emitEvent:E.emitEvent})}),this.updateValueAndValidity(E))}reset(S=[],E={}){this._forEachChild((F,oe)=>{F.reset(S[oe],{onlySelf:!0,emitEvent:E.emitEvent})}),this._updatePristine(E),this._updateTouched(E),this.updateValueAndValidity(E)}getRawValue(){return this.controls.map(S=>S.getRawValue())}clear(S={}){this.controls.length<1||(this._forEachChild(E=>E._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:S.emitEvent}))}_adjustIndex(S){return S<0?S+this.length:S}_syncPendingControls(){let S=this.controls.reduce((E,F)=>!!F._syncPendingControls()||E,!1);return S&&this.updateValueAndValidity({onlySelf:!0}),S}_forEachChild(S){this.controls.forEach((E,F)=>{S(E,F)})}_updateValue(){this.value=this.controls.filter(S=>S.enabled||this.disabled).map(S=>S.value)}_anyControls(S){return this.controls.some(E=>E.enabled&&S(E))}_setUpControls(){this._forEachChild(S=>this._registerControl(S))}_allControlsDisabled(){for(const S of this.controls)if(S.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(S){S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange)}_find(S){return this.at(S)??null}}function qi(x){return!!x&&(void 0!==x.asyncValidators||void 0!==x.validators||void 0!==x.updateOn)}let Ot=(()=>{class x{constructor(){this.useNonNullable=!1}get nonNullable(){const E=new x;return E.useNonNullable=!0,E}group(E,F=null){const oe=this._reduceControls(E);let Ue={};return qi(F)?Ue=F:null!==F&&(Ue.validators=F.validator,Ue.asyncValidators=F.asyncValidator),new Q(oe,Ue)}record(E,F=null){const oe=this._reduceControls(E);return new J(oe,F)}control(E,F,oe){let Ue={};return this.useNonNullable?(qi(F)?Ue=F:(Ue.validators=F,Ue.asyncValidators=oe),new vr(E,{...Ue,nonNullable:!0})):new vr(E,F,oe)}array(E,F,oe){const Ue=E.map(xt=>this._createControl(xt));return new Ie(Ue,F,oe)}_reduceControls(E){const F={};return Object.keys(E).forEach(oe=>{F[oe]=this._createControl(E[oe])}),F}_createControl(E){return E instanceof vr||E instanceof X?E:Array.isArray(E)?this.control(E[0],E.length>1?E[1]:null,E.length>2?E[2]:null):this.control(E)}}return x.\u0275fac=function(E){return new(E||x)},x.\u0275prov=g.Yz7({token:x,factory:x.\u0275fac,providedIn:wo}),x})(),Wr=(()=>{class x extends Ot{group(E,F=null){return super.group(E,F)}control(E,F,oe){return super.control(E,F,oe)}array(E,F,oe){return super.array(E,F,oe)}}return x.\u0275fac=function(){let S;return function(F){return(S||(S=g.n5z(x)))(F||x)}}(),x.\u0275prov=g.Yz7({token:x,factory:x.\u0275fac,providedIn:wo}),x})()},1481:(yt,Ne,H)=>{H.d(Ne,{Dx:()=>Nn,b2:()=>Tn,q6:()=>bi});var g=H(6895),O=H(1571);class ee extends g.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ve extends ee{static makeCurrent(){(0,g.HT)(new ve)}onAndCancel(Q,z,ie){return Q.addEventListener(z,ie,!1),()=>{Q.removeEventListener(z,ie,!1)}}dispatchEvent(Q,z){Q.dispatchEvent(z)}remove(Q){Q.parentNode&&Q.parentNode.removeChild(Q)}createElement(Q,z){return(z=z||this.getDefaultDocument()).createElement(Q)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Q){return Q.nodeType===Node.ELEMENT_NODE}isShadowRoot(Q){return Q instanceof DocumentFragment}getGlobalEventTarget(Q,z){return"window"===z?window:"document"===z?Q:"body"===z?Q.body:null}getBaseHref(Q){const z=function Be(){return he=he||document.querySelector("base"),he?he.getAttribute("href"):null}();return null==z?null:function qe(X){Fe=Fe||document.createElement("a"),Fe.setAttribute("href",X);const Q=Fe.pathname;return"/"===Q.charAt(0)?Q:`/${Q}`}(z)}resetBaseElement(){he=null}getUserAgent(){return window.navigator.userAgent}getCookie(Q){return(0,g.Mx)(document.cookie,Q)}}let Fe,he=null;const Le=new O.OlP("TRANSITION_ID"),ge=[{provide:O.ip1,useFactory:function ce(X,Q,z){return()=>{z.get(O.CZH).donePromise.then(()=>{const ie=(0,g.q)(),J=Q.querySelectorAll(`style[ng-transition="${X}"]`);for(let Pe=0;Pe<J.length;Pe++)ie.remove(J[Pe])})}},deps:[Le,g.K0,O.zs3],multi:!0}];let dt=(()=>{class X{build(){return new XMLHttpRequest}}return X.\u0275fac=function(z){return new(z||X)},X.\u0275prov=O.Yz7({token:X,factory:X.\u0275fac}),X})();const Oe=new O.OlP("EventManagerPlugins");let Je=(()=>{class X{constructor(z,ie){this._zone=ie,this._eventNameToPlugin=new Map,z.forEach(J=>J.manager=this),this._plugins=z.slice().reverse()}addEventListener(z,ie,J){return this._findPluginFor(ie).addEventListener(z,ie,J)}addGlobalEventListener(z,ie,J){return this._findPluginFor(ie).addGlobalEventListener(z,ie,J)}getZone(){return this._zone}_findPluginFor(z){const ie=this._eventNameToPlugin.get(z);if(ie)return ie;const J=this._plugins;for(let Pe=0;Pe<J.length;Pe++){const Ye=J[Pe];if(Ye.supports(z))return this._eventNameToPlugin.set(z,Ye),Ye}throw new Error(`No event manager plugin found for event ${z}`)}}return X.\u0275fac=function(z){return new(z||X)(O.LFG(Oe),O.LFG(O.R0b))},X.\u0275prov=O.Yz7({token:X,factory:X.\u0275fac}),X})();class ke{constructor(Q){this._doc=Q}addGlobalEventListener(Q,z,ie){const J=(0,g.q)().getGlobalEventTarget(this._doc,Q);if(!J)throw new Error(`Unsupported event target ${J} for event ${z}`);return this.addEventListener(J,z,ie)}}let it=(()=>{class X{constructor(){this._stylesSet=new Set}addStyles(z){const ie=new Set;z.forEach(J=>{this._stylesSet.has(J)||(this._stylesSet.add(J),ie.add(J))}),this.onStylesAdded(ie)}onStylesAdded(z){}getAllStyles(){return Array.from(this._stylesSet)}}return X.\u0275fac=function(z){return new(z||X)},X.\u0275prov=O.Yz7({token:X,factory:X.\u0275fac}),X})(),bt=(()=>{class X extends it{constructor(z){super(),this._doc=z,this._hostNodes=new Map,this._hostNodes.set(z.head,[])}_addStylesToHost(z,ie,J){z.forEach(Pe=>{const Ye=this._doc.createElement("style");Ye.textContent=Pe,J.push(ie.appendChild(Ye))})}addHost(z){const ie=[];this._addStylesToHost(this._stylesSet,z,ie),this._hostNodes.set(z,ie)}removeHost(z){const ie=this._hostNodes.get(z);ie&&ie.forEach(Ve),this._hostNodes.delete(z)}onStylesAdded(z){this._hostNodes.forEach((ie,J)=>{this._addStylesToHost(z,J,ie)})}ngOnDestroy(){this._hostNodes.forEach(z=>z.forEach(Ve))}}return X.\u0275fac=function(z){return new(z||X)(O.LFG(g.K0))},X.\u0275prov=O.Yz7({token:X,factory:X.\u0275fac}),X})();function Ve(X){(0,g.q)().remove(X)}const Kt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_e=/%COMP%/g;function L(X,Q,z){for(let ie=0;ie<Q.length;ie++){let J=Q[ie];Array.isArray(J)?L(X,J,z):(J=J.replace(_e,X),z.push(J))}return z}function G(X){return Q=>{if("__ngUnwrap__"===Q)return X;!1===X(Q)&&(Q.preventDefault(),Q.returnValue=!1)}}let W=(()=>{class X{constructor(z,ie,J){this.eventManager=z,this.sharedStylesHost=ie,this.appId=J,this.rendererByCompId=new Map,this.defaultRenderer=new fe(z)}createRenderer(z,ie){if(!z||!ie)return this.defaultRenderer;switch(ie.encapsulation){case O.ifc.Emulated:{let J=this.rendererByCompId.get(ie.id);return J||(J=new tn(this.eventManager,this.sharedStylesHost,ie,this.appId),this.rendererByCompId.set(ie.id,J)),J.applyToHost(z),J}case 1:case O.ifc.ShadowDom:return new ht(this.eventManager,this.sharedStylesHost,z,ie);default:if(!this.rendererByCompId.has(ie.id)){const J=L(ie.id,ie.styles,[]);this.sharedStylesHost.addStyles(J),this.rendererByCompId.set(ie.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return X.\u0275fac=function(z){return new(z||X)(O.LFG(Je),O.LFG(bt),O.LFG(O.AFp))},X.\u0275prov=O.Yz7({token:X,factory:X.\u0275fac}),X})();class fe{constructor(Q){this.eventManager=Q,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Q,z){return z?document.createElementNS(Kt[z]||z,Q):document.createElement(Q)}createComment(Q){return document.createComment(Q)}createText(Q){return document.createTextNode(Q)}appendChild(Q,z){(It(Q)?Q.content:Q).appendChild(z)}insertBefore(Q,z,ie){Q&&(It(Q)?Q.content:Q).insertBefore(z,ie)}removeChild(Q,z){Q&&Q.removeChild(z)}selectRootElement(Q,z){let ie="string"==typeof Q?document.querySelector(Q):Q;if(!ie)throw new Error(`The selector "${Q}" did not match any elements`);return z||(ie.textContent=""),ie}parentNode(Q){return Q.parentNode}nextSibling(Q){return Q.nextSibling}setAttribute(Q,z,ie,J){if(J){z=J+":"+z;const Pe=Kt[J];Pe?Q.setAttributeNS(Pe,z,ie):Q.setAttribute(z,ie)}else Q.setAttribute(z,ie)}removeAttribute(Q,z,ie){if(ie){const J=Kt[ie];J?Q.removeAttributeNS(J,z):Q.removeAttribute(`${ie}:${z}`)}else Q.removeAttribute(z)}addClass(Q,z){Q.classList.add(z)}removeClass(Q,z){Q.classList.remove(z)}setStyle(Q,z,ie,J){J&(O.JOm.DashCase|O.JOm.Important)?Q.style.setProperty(z,ie,J&O.JOm.Important?"important":""):Q.style[z]=ie}removeStyle(Q,z,ie){ie&O.JOm.DashCase?Q.style.removeProperty(z):Q.style[z]=""}setProperty(Q,z,ie){Q[z]=ie}setValue(Q,z){Q.nodeValue=z}listen(Q,z,ie){return"string"==typeof Q?this.eventManager.addGlobalEventListener(Q,z,G(ie)):this.eventManager.addEventListener(Q,z,G(ie))}}function It(X){return"TEMPLATE"===X.tagName&&void 0!==X.content}class tn extends fe{constructor(Q,z,ie,J){super(Q),this.component=ie;const Pe=L(J+"-"+ie.id,ie.styles,[]);z.addStyles(Pe),this.contentAttr=function Y(X){return"_ngcontent-%COMP%".replace(_e,X)}(J+"-"+ie.id),this.hostAttr=function re(X){return"_nghost-%COMP%".replace(_e,X)}(J+"-"+ie.id)}applyToHost(Q){super.setAttribute(Q,this.hostAttr,"")}createElement(Q,z){const ie=super.createElement(Q,z);return super.setAttribute(ie,this.contentAttr,""),ie}}class ht extends fe{constructor(Q,z,ie,J){super(Q),this.sharedStylesHost=z,this.hostEl=ie,this.shadowRoot=ie.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Pe=L(J.id,J.styles,[]);for(let Ye=0;Ye<Pe.length;Ye++){const St=document.createElement("style");St.textContent=Pe[Ye],this.shadowRoot.appendChild(St)}}nodeOrShadowRoot(Q){return Q===this.hostEl?this.shadowRoot:Q}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Q,z){return super.appendChild(this.nodeOrShadowRoot(Q),z)}insertBefore(Q,z,ie){return super.insertBefore(this.nodeOrShadowRoot(Q),z,ie)}removeChild(Q,z){return super.removeChild(this.nodeOrShadowRoot(Q),z)}parentNode(Q){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Q)))}}let Ft=(()=>{class X extends ke{constructor(z){super(z)}supports(z){return!0}addEventListener(z,ie,J){return z.addEventListener(ie,J,!1),()=>this.removeEventListener(z,ie,J)}removeEventListener(z,ie,J){return z.removeEventListener(ie,J)}}return X.\u0275fac=function(z){return new(z||X)(O.LFG(g.K0))},X.\u0275prov=O.Yz7({token:X,factory:X.\u0275fac}),X})();const gr=["alt","control","meta","shift"],Mt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wt={alt:X=>X.altKey,control:X=>X.ctrlKey,meta:X=>X.metaKey,shift:X=>X.shiftKey};let jn=(()=>{class X extends ke{constructor(z){super(z)}supports(z){return null!=X.parseEventName(z)}addEventListener(z,ie,J){const Pe=X.parseEventName(ie),Ye=X.eventCallback(Pe.fullKey,J,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.q)().onAndCancel(z,Pe.domEventName,Ye))}static parseEventName(z){const ie=z.toLowerCase().split("."),J=ie.shift();if(0===ie.length||"keydown"!==J&&"keyup"!==J)return null;const Pe=X._normalizeKey(ie.pop());let Ye="",St=ie.indexOf("code");if(St>-1&&(ie.splice(St,1),Ye="code."),gr.forEach(rn=>{const yr=ie.indexOf(rn);yr>-1&&(ie.splice(yr,1),Ye+=rn+".")}),Ye+=Pe,0!=ie.length||0===Pe.length)return null;const an={};return an.domEventName=J,an.fullKey=Ye,an}static matchEventFullKeyCode(z,ie){let J=Mt[z.key]||z.key,Pe="";return ie.indexOf("code.")>-1&&(J=z.code,Pe="code."),!(null==J||!J)&&(J=J.toLowerCase()," "===J?J="space":"."===J&&(J="dot"),gr.forEach(Ye=>{Ye!==J&&(0,wt[Ye])(z)&&(Pe+=Ye+".")}),Pe+=J,Pe===ie)}static eventCallback(z,ie,J){return Pe=>{X.matchEventFullKeyCode(Pe,z)&&J.runGuarded(()=>ie(Pe))}}static _normalizeKey(z){return"esc"===z?"escape":z}}return X.\u0275fac=function(z){return new(z||X)(O.LFG(g.K0))},X.\u0275prov=O.Yz7({token:X,factory:X.\u0275fac}),X})();const bi=(0,O.eFA)(O._c5,"browser",[{provide:O.Lbi,useValue:g.bD},{provide:O.g9A,useValue:function Br(){ve.makeCurrent()},multi:!0},{provide:g.K0,useFactory:function us(){return(0,O.RDi)(document),document},deps:[]}]),Fs=new O.OlP(""),tt=[{provide:O.rWj,useClass:class De{addToWindow(Q){O.dqk.getAngularTestability=(ie,J=!0)=>{const Pe=Q.findTestabilityInTree(ie,J);if(null==Pe)throw new Error("Could not find testability for element.");return Pe},O.dqk.getAllAngularTestabilities=()=>Q.getAllTestabilities(),O.dqk.getAllAngularRootElements=()=>Q.getAllRootElements(),O.dqk.frameworkStabilizers||(O.dqk.frameworkStabilizers=[]),O.dqk.frameworkStabilizers.push(ie=>{const J=O.dqk.getAllAngularTestabilities();let Pe=J.length,Ye=!1;const St=function(an){Ye=Ye||an,Pe--,0==Pe&&ie(Ye)};J.forEach(function(an){an.whenStable(St)})})}findTestabilityInTree(Q,z,ie){return null==z?null:Q.getTestability(z)??(ie?(0,g.q)().isShadowRoot(z)?this.findTestabilityInTree(Q,z.host,!0):this.findTestabilityInTree(Q,z.parentElement,!0):null)}},deps:[]},{provide:O.lri,useClass:O.dDg,deps:[O.R0b,O.eoX,O.rWj]},{provide:O.dDg,useClass:O.dDg,deps:[O.R0b,O.eoX,O.rWj]}],or=[{provide:O.zSh,useValue:"root"},{provide:O.qLn,useFactory:function Ps(){return new O.qLn},deps:[]},{provide:Oe,useClass:Ft,multi:!0,deps:[g.K0,O.R0b,O.Lbi]},{provide:Oe,useClass:jn,multi:!0,deps:[g.K0]},{provide:W,useClass:W,deps:[Je,bt,O.AFp]},{provide:O.FYo,useExisting:W},{provide:it,useExisting:bt},{provide:bt,useClass:bt,deps:[g.K0]},{provide:Je,useClass:Je,deps:[Oe,O.R0b]},{provide:g.JF,useClass:dt,deps:[]},[]];let Tn=(()=>{class X{constructor(z){}static withServerTransition(z){return{ngModule:X,providers:[{provide:O.AFp,useValue:z.appId},{provide:Le,useExisting:O.AFp},ge]}}}return X.\u0275fac=function(z){return new(z||X)(O.LFG(Fs,12))},X.\u0275mod=O.oAB({type:X}),X.\u0275inj=O.cJS({providers:[...or,...tt],imports:[g.ez,O.hGG]}),X})(),Nn=(()=>{class X{constructor(z){this._doc=z}getTitle(){return this._doc.title}setTitle(z){this._doc.title=z||""}}return X.\u0275fac=function(z){return new(z||X)(O.LFG(g.K0))},X.\u0275prov=O.Yz7({token:X,factory:function(z){let ie=null;return ie=z?new z:function xn(){return new Nn((0,O.LFG)(g.K0))}(),ie},providedIn:"root"}),X})();typeof window<"u"&&window},2214:(yt,Ne,H)=>{H.d(Ne,{gz:()=>Rr,F0:()=>Fn,Bz:()=>xo,lC:()=>Di});var g=H(1571),O=H(2076),ee=H(9646),ve=H(7579);class he extends ve.x{constructor(y){super(),this._value=y}get value(){return this.getValue()}_subscribe(y){const f=super._subscribe(y);return!f.closed&&y.next(this._value),f}getValue(){const{hasError:y,thrownError:f,_value:D}=this;if(y)throw f;return this._throwIfClosed(),D}next(y){super.next(this._value=y)}}const Fe=(0,H(3888).d)(m=>function(){m(this),this.name="EmptyError",this.message="no elements in sequence"});var qe=H(9751),Le=H(4742),ce=H(4671),ge=H(3268),De=H(7669),dt=H(1810),Oe=H(5403),Je=H(9672);function ke(...m){const y=(0,De.yG)(m),f=(0,De.jO)(m),{args:D,keys:I}=(0,Le.D)(m);if(0===D.length)return(0,O.D)([],y);const R=new qe.y(function it(m,y,f=ce.y){return D=>{bt(y,()=>{const{length:I}=m,R=new Array(I);let j=I,q=I;for(let se=0;se<I;se++)bt(y,()=>{const Te=(0,O.D)(m[se],y);let at=!1;Te.subscribe((0,Oe.x)(D,We=>{R[se]=We,at||(at=!0,q--),q||D.next(f(R.slice()))},()=>{--j||D.complete()}))},D)},D)}}(D,y,I?j=>(0,dt.n)(I,j):ce.y));return f?R.pipe((0,ge.Z)(f)):R}function bt(m,y,f){m?(0,Je.f)(f,m,y):y()}var Ve=H(8189);function _e(...m){return function Kt(){return(0,Ve.J)(1)}()((0,O.D)(m,(0,De.yG)(m)))}var ye=H(8421);function Ke(m){return new qe.y(y=>{(0,ye.Xf)(m()).subscribe(y)})}var Se=H(9635),le=H(576);function Y(m,y){const f=(0,le.m)(m)?m:()=>m,D=I=>I.error(f());return new qe.y(y?I=>y.schedule(D,0,I):D)}var re=H(515),L=H(727),G=H(4482);function U(){return(0,G.e)((m,y)=>{let f=null;m._refCount++;const D=(0,Oe.x)(y,void 0,void 0,void 0,()=>{if(!m||m._refCount<=0||0<--m._refCount)return void(f=null);const I=m._connection,R=f;f=null,I&&(!R||I===R)&&I.unsubscribe(),y.unsubscribe()});m.subscribe(D),D.closed||(f=m.connect())})}class W extends qe.y{constructor(y,f){super(),this.source=y,this.subjectFactory=f,this._subject=null,this._refCount=0,this._connection=null,(0,G.A)(y)&&(this.lift=y.lift)}_subscribe(y){return this.getSubject().subscribe(y)}getSubject(){const y=this._subject;return(!y||y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:y}=this;this._subject=this._connection=null,y?.unsubscribe()}connect(){let y=this._connection;if(!y){y=this._connection=new L.w0;const f=this.getSubject();y.add(this.source.subscribe((0,Oe.x)(f,void 0,()=>{this._teardown(),f.complete()},D=>{this._teardown(),f.error(D)},()=>this._teardown()))),y.closed&&(this._connection=null,y=L.w0.EMPTY)}return y}refCount(){return U()(this)}}var fe=H(6895),pe=H(4004);function Qe(m,y){return(0,G.e)((f,D)=>{let I=null,R=0,j=!1;const q=()=>j&&!I&&D.complete();f.subscribe((0,Oe.x)(D,se=>{I?.unsubscribe();let Te=0;const at=R++;(0,ye.Xf)(m(se,at)).subscribe(I=(0,Oe.x)(D,We=>D.next(y?y(se,We,at,Te++):We),()=>{I=null,q()}))},()=>{j=!0,q()}))})}function It(m){return m<=0?()=>re.E:(0,G.e)((y,f)=>{let D=0;y.subscribe((0,Oe.x)(f,I=>{++D<=m&&(f.next(I),m<=D&&f.complete())}))})}function ht(m,y){return(0,G.e)((f,D)=>{let I=0;f.subscribe((0,Oe.x)(D,R=>m.call(y,R,I++)&&D.next(R)))})}var Ft=H(5577);function gr(m){return(0,G.e)((y,f)=>{let D=!1;y.subscribe((0,Oe.x)(f,I=>{D=!0,f.next(I)},()=>{D||f.next(m),f.complete()}))})}function Mt(m=wt){return(0,G.e)((y,f)=>{let D=!1;y.subscribe((0,Oe.x)(f,I=>{D=!0,f.next(I)},()=>D?f.complete():f.error(m())))})}function wt(){return new Fe}function jn(m,y){const f=arguments.length>=2;return D=>D.pipe(m?ht((I,R)=>m(I,R,D)):ce.y,It(1),f?gr(y):Mt(()=>new Fe))}function sn(m,y){return(0,le.m)(y)?(0,Ft.z)(m,y,1):(0,Ft.z)(m,1)}function Sn(m,y,f){const D=(0,le.m)(m)||y||f?{next:m,error:y,complete:f}:m;return D?(0,G.e)((I,R)=>{var j;null===(j=D.subscribe)||void 0===j||j.call(D);let q=!0;I.subscribe((0,Oe.x)(R,se=>{var Te;null===(Te=D.next)||void 0===Te||Te.call(D,se),R.next(se)},()=>{var se;q=!1,null===(se=D.complete)||void 0===se||se.call(D),R.complete()},se=>{var Te;q=!1,null===(Te=D.error)||void 0===Te||Te.call(D,se),R.error(se)},()=>{var se,Te;q&&(null===(se=D.unsubscribe)||void 0===se||se.call(D)),null===(Te=D.finalize)||void 0===Te||Te.call(D)}))}):ce.y}function nn(m){return(0,G.e)((y,f)=>{let R,D=null,I=!1;D=y.subscribe((0,Oe.x)(f,void 0,void 0,j=>{R=(0,ye.Xf)(m(j,nn(m)(y))),D?(D.unsubscribe(),D=null,R.subscribe(f)):I=!0})),I&&(D.unsubscribe(),D=null,R.subscribe(f))})}function Ko(m,y,f,D,I){return(R,j)=>{let q=f,se=y,Te=0;R.subscribe((0,Oe.x)(j,at=>{const We=Te++;se=q?m(se,at,We):(q=!0,at),D&&j.next(se)},I&&(()=>{q&&j.next(se),j.complete()})))}}function Kr(m,y){return(0,G.e)(Ko(m,y,arguments.length>=2,!0))}function Br(m){return m<=0?()=>re.E:(0,G.e)((y,f)=>{let D=[];y.subscribe((0,Oe.x)(f,I=>{D.push(I),m<D.length&&D.shift()},()=>{for(const I of D)f.next(I);f.complete()},void 0,()=>{D=null}))})}function Ps(m,y){const f=arguments.length>=2;return D=>D.pipe(m?ht((I,R)=>m(I,R,D)):ce.y,Br(1),f?gr(y):Mt(()=>new Fe))}function bi(m){return(0,G.e)((y,f)=>{try{y.subscribe(f)}finally{f.add(m)}})}var Fs=H(1481);const tt="primary",or=Symbol("RouteTitle");class Tn{constructor(y){this.params=y||{}}has(y){return Object.prototype.hasOwnProperty.call(this.params,y)}get(y){if(this.has(y)){const f=this.params[y];return Array.isArray(f)?f[0]:f}return null}getAll(y){if(this.has(y)){const f=this.params[y];return Array.isArray(f)?f:[f]}return[]}get keys(){return Object.keys(this.params)}}function Kn(m){return new Tn(m)}function st(m,y,f){const D=f.path.split("/");if(D.length>m.length||"full"===f.pathMatch&&(y.hasChildren()||D.length<m.length))return null;const I={};for(let R=0;R<D.length;R++){const j=D[R],q=m[R];if(j.startsWith(":"))I[j.substring(1)]=q;else if(j!==q.path)return null}return{consumed:m.slice(0,D.length),posParams:I}}function xn(m,y){const f=m?Object.keys(m):void 0,D=y?Object.keys(y):void 0;if(!f||!D||f.length!=D.length)return!1;let I;for(let R=0;R<f.length;R++)if(I=f[R],!Nn(m[I],y[I]))return!1;return!0}function Nn(m,y){if(Array.isArray(m)&&Array.isArray(y)){if(m.length!==y.length)return!1;const f=[...m].sort(),D=[...y].sort();return f.every((I,R)=>D[R]===I)}return m===y}function on(m){return Array.prototype.concat.apply([],m)}function ot(m){return m.length>0?m[m.length-1]:null}function Yt(m,y){for(const f in m)m.hasOwnProperty(f)&&y(m[f],f)}function Yn(m){return(0,g.CqO)(m)?m:(0,g.QGY)(m)?(0,O.D)(Promise.resolve(m)):(0,ee.of)(m)}const Lt={exact:function Xe(m,y,f){if(!Dt(m.segments,y.segments)||!Yr(m.segments,y.segments,f)||m.numberOfChildren!==y.numberOfChildren)return!1;for(const D in y.children)if(!m.children[D]||!Xe(m.children[D],y.children[D],f))return!1;return!0},subset:ur},ks={exact:function ls(m,y){return xn(m,y)},subset:function pi(m,y){return Object.keys(y).length<=Object.keys(m).length&&Object.keys(y).every(f=>Nn(m[f],y[f]))},ignored:()=>!0};function hn(m,y,f){return Lt[f.paths](m.root,y.root,f.matrixParams)&&ks[f.queryParams](m.queryParams,y.queryParams)&&!("exact"===f.fragment&&m.fragment!==y.fragment)}function ur(m,y,f){return mr(m,y,y.segments,f)}function mr(m,y,f,D){if(m.segments.length>f.length){const I=m.segments.slice(0,f.length);return!(!Dt(I,f)||y.hasChildren()||!Yr(I,f,D))}if(m.segments.length===f.length){if(!Dt(m.segments,f)||!Yr(m.segments,f,D))return!1;for(const I in y.children)if(!m.children[I]||!ur(m.children[I],y.children[I],D))return!1;return!0}{const I=f.slice(0,m.segments.length),R=f.slice(m.segments.length);return!!(Dt(m.segments,I)&&Yr(m.segments,I,D)&&m.children[tt])&&mr(m.children[tt],y,R,D)}}function Yr(m,y,f){return y.every((D,I)=>ks[f](m[I].parameters,D.parameters))}class On{constructor(y,f,D){this.root=y,this.queryParams=f,this.fragment=D}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kn(this.queryParams)),this._queryParamMap}toString(){return mo.serialize(this)}}class _t{constructor(y,f){this.segments=y,this.children=f,this.parent=null,Yt(f,(D,I)=>D.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jr(this)}}class Ur{constructor(y,f){this.path=y,this.parameters=f}get parameterMap(){return this._parameterMap||(this._parameterMap=Kn(this.parameters)),this._parameterMap}toString(){return ie(this)}}function Dt(m,y){return m.length===y.length&&m.every((f,D)=>f.path===y[D].path)}let Qr=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=g.Yz7({token:m,factory:function(){return new gi},providedIn:"root"}),m})();class gi{parse(y){const f=new mi(y);return new On(f.parseRootSegment(),f.parseQueryParams(),f.parseFragment())}serialize(y){const f=`/${Ii(y.root,!0)}`,D=function Pe(m){const y=Object.keys(m).map(f=>{const D=m[f];return Array.isArray(D)?D.map(I=>`${Nt(f)}=${Nt(I)}`).join("&"):`${Nt(f)}=${Nt(D)}`}).filter(f=>!!f);return y.length?`?${y.join("&")}`:""}(y.queryParams);return`${f}${D}${"string"==typeof y.fragment?`#${function wn(m){return encodeURI(m)}(y.fragment)}`:""}`}}const mo=new gi;function Jr(m){return m.segments.map(y=>ie(y)).join("/")}function Ii(m,y){if(!m.hasChildren())return Jr(m);if(y){const f=m.children[tt]?Ii(m.children[tt],!1):"",D=[];return Yt(m.children,(I,R)=>{R!==tt&&D.push(`${R}:${Ii(I,!1)}`)}),D.length>0?`${f}(${D.join("//")})`:f}{const f=function Zr(m,y){let f=[];return Yt(m.children,(D,I)=>{I===tt&&(f=f.concat(y(D,I)))}),Yt(m.children,(D,I)=>{I!==tt&&(f=f.concat(y(D,I)))}),f}(m,(D,I)=>I===tt?[Ii(m.children[tt],!1)]:[`${I}:${Ii(D,!1)}`]);return 1===Object.keys(m.children).length&&null!=m.children[tt]?`${Jr(m)}/${f[0]}`:`${Jr(m)}/(${f.join("//")})`}}function Si(m){return encodeURIComponent(m).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nt(m){return Si(m).replace(/%3B/gi,";")}function X(m){return Si(m).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Q(m){return decodeURIComponent(m)}function z(m){return Q(m.replace(/\+/g,"%20"))}function ie(m){return`${X(m.path)}${function J(m){return Object.keys(m).map(y=>`;${X(y)}=${X(m[y])}`).join("")}(m.parameters)}`}const Ye=/^[^\/()?;=#]+/;function St(m){const y=m.match(Ye);return y?y[0]:""}const an=/^[^=?&#]+/,yr=/^[^&#]+/;class mi{constructor(y){this.url=y,this.remaining=y}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _t([],{}):new _t([],this.parseChildren())}parseQueryParams(){const y={};if(this.consumeOptional("?"))do{this.parseQueryParam(y)}while(this.consumeOptional("&"));return y}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const y=[];for(this.peekStartsWith("(")||y.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),y.push(this.parseSegment());let f={};this.peekStartsWith("/(")&&(this.capture("/"),f=this.parseParens(!0));let D={};return this.peekStartsWith("(")&&(D=this.parseParens(!1)),(y.length>0||Object.keys(f).length>0)&&(D[tt]=new _t(y,f)),D}parseSegment(){const y=St(this.remaining);if(""===y&&this.peekStartsWith(";"))throw new g.vHH(4009,!1);return this.capture(y),new Ur(Q(y),this.parseMatrixParams())}parseMatrixParams(){const y={};for(;this.consumeOptional(";");)this.parseParam(y);return y}parseParam(y){const f=St(this.remaining);if(!f)return;this.capture(f);let D="";if(this.consumeOptional("=")){const I=St(this.remaining);I&&(D=I,this.capture(D))}y[Q(f)]=Q(D)}parseQueryParam(y){const f=function rn(m){const y=m.match(an);return y?y[0]:""}(this.remaining);if(!f)return;this.capture(f);let D="";if(this.consumeOptional("=")){const j=function en(m){const y=m.match(yr);return y?y[0]:""}(this.remaining);j&&(D=j,this.capture(D))}const I=z(f),R=z(D);if(y.hasOwnProperty(I)){let j=y[I];Array.isArray(j)||(j=[j],y[I]=j),j.push(R)}else y[I]=R}parseParens(y){const f={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const D=St(this.remaining),I=this.remaining[D.length];if("/"!==I&&")"!==I&&";"!==I)throw new g.vHH(4010,!1);let R;D.indexOf(":")>-1?(R=D.slice(0,D.indexOf(":")),this.capture(R),this.capture(":")):y&&(R=tt);const j=this.parseChildren();f[R]=1===Object.keys(j).length?j[tt]:new _t([],j),this.consumeOptional("//")}return f}peekStartsWith(y){return this.remaining.startsWith(y)}consumeOptional(y){return!!this.peekStartsWith(y)&&(this.remaining=this.remaining.substring(y.length),!0)}capture(y){if(!this.consumeOptional(y))throw new g.vHH(4011,!1)}}function yi(m){return m.segments.length>0?new _t([],{[tt]:m}):m}function ct(m){const y={};for(const D of Object.keys(m.children)){const R=ct(m.children[D]);(R.segments.length>0||R.hasChildren())&&(y[D]=R)}return function Xr(m){if(1===m.numberOfChildren&&m.children[tt]){const y=m.children[tt];return new _t(m.segments.concat(y.segments),y.children)}return m}(new _t(m.segments,y))}function Qn(m){return m instanceof On}function ei(m,y,f,D,I){if(0===f.length)return jr(y.root,y.root,y.root,D,I);const R=function yo(m){if("string"==typeof m[0]&&1===m.length&&"/"===m[0])return new Nr(!0,0,m);let y=0,f=!1;const D=m.reduce((I,R,j)=>{if("object"==typeof R&&null!=R){if(R.outlets){const q={};return Yt(R.outlets,(se,Te)=>{q[Te]="string"==typeof se?se.split("/"):se}),[...I,{outlets:q}]}if(R.segmentPath)return[...I,R.segmentPath]}return"string"!=typeof R?[...I,R]:0===j?(R.split("/").forEach((q,se)=>{0==se&&"."===q||(0==se&&""===q?f=!0:".."===q?y++:""!=q&&I.push(q))}),I):[...I,R]},[]);return new Nr(f,y,D)}(f);return R.toRoot()?jr(y.root,y.root,new _t([],{}),D,I):function j(se){const Te=function ti(m,y,f,D){if(m.isAbsolute)return new vi(y.root,!0,0);if(-1===D)return new vi(f,f===y.root,0);return function _i(m,y,f){let D=m,I=y,R=f;for(;R>I;){if(R-=I,D=D.parent,!D)throw new g.vHH(4005,!1);I=D.segments.length}return new vi(D,!1,I-R)}(f,D+(Xn(m.commands[0])?0:1),m.numberOfDoubleDots)}(R,y,m.snapshot?._urlSegment,se),at=Te.processChildren?vr(Te.segmentGroup,Te.index,R.commands):ln(Te.segmentGroup,Te.index,R.commands);return jr(y.root,Te.segmentGroup,at,D,I)}(m.snapshot?._lastPathIndex)}function Xn(m){return"object"==typeof m&&null!=m&&!m.outlets&&!m.segmentPath}function cr(m){return"object"==typeof m&&null!=m&&m.outlets}function jr(m,y,f,D,I){let j,R={};D&&Yt(D,(se,Te)=>{R[Te]=Array.isArray(se)?se.map(at=>`${at}`):`${se}`}),j=m===y?f:$t(m,y,f);const q=yi(ct(j));return new On(q,R,I)}function $t(m,y,f){const D={};return Yt(m.children,(I,R)=>{D[R]=I===y?f:$t(I,y,f)}),new _t(m.segments,D)}class Nr{constructor(y,f,D){if(this.isAbsolute=y,this.numberOfDoubleDots=f,this.commands=D,y&&D.length>0&&Xn(D[0]))throw new g.vHH(4003,!1);const I=D.find(cr);if(I&&I!==ot(D))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vi{constructor(y,f,D){this.segmentGroup=y,this.processChildren=f,this.index=D}}function ln(m,y,f){if(m||(m=new _t([],{})),0===m.segments.length&&m.hasChildren())return vr(m,y,f);const D=function er(m,y,f){let D=0,I=y;const R={match:!1,pathIndex:0,commandIndex:0};for(;I<m.segments.length;){if(D>=f.length)return R;const j=m.segments[I],q=f[D];if(cr(q))break;const se=`${q}`,Te=D<f.length-1?f[D+1]:null;if(I>0&&void 0===se)break;if(se&&Te&&"object"==typeof Te&&void 0===Te.outlets){if(!Bs(se,Te,j))return R;D+=2}else{if(!Bs(se,{},j))return R;D++}I++}return{match:!0,pathIndex:I,commandIndex:D}}(m,y,f),I=f.slice(D.commandIndex);if(D.match&&D.pathIndex<m.segments.length){const R=new _t(m.segments.slice(0,D.pathIndex),{});return R.children[tt]=new _t(m.segments.slice(D.pathIndex),m.children),vr(R,0,I)}return D.match&&0===I.length?new _t(m.segments,{}):D.match&&!m.hasChildren()?_r(m,y,f):D.match?vr(m,0,I):_r(m,y,f)}function vr(m,y,f){if(0===f.length)return new _t(m.segments,{});{const D=function Hr(m){return cr(m[0])?m[0].outlets:{[tt]:m}}(f),I={};return Yt(D,(R,j)=>{"string"==typeof R&&(R=[R]),null!==R&&(I[j]=ln(m.children[j],y,R))}),Yt(m.children,(R,j)=>{void 0===D[j]&&(I[j]=R)}),new _t(m.segments,I)}}function _r(m,y,f){const D=m.segments.slice(0,y);let I=0;for(;I<f.length;){const R=f[I];if(cr(R)){const se=ds(R.outlets);return new _t(D,se)}if(0===I&&Xn(f[0])){D.push(new Ur(m.segments[y].path,Vs(f[0]))),I++;continue}const j=cr(R)?R.outlets[tt]:`${R}`,q=I<f.length-1?f[I+1]:null;j&&q&&Xn(q)?(D.push(new Ur(j,Vs(q))),I+=2):(D.push(new Ur(j,{})),I++)}return new _t(D,{})}function ds(m){const y={};return Yt(m,(f,D)=>{"string"==typeof f&&(f=[f]),null!==f&&(y[D]=_r(new _t([],{}),0,f))}),y}function Vs(m){const y={};return Yt(m,(f,D)=>y[D]=`${f}`),y}function Bs(m,y,f){return m==f.path&&xn(y,f.parameters)}class Cn{constructor(y,f){this.id=y,this.url=f}}class Ua extends Cn{constructor(y,f,D="imperative",I=null){super(y,f),this.type=0,this.navigationTrigger=D,this.restoredState=I}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rn extends Cn{constructor(y,f,D){super(y,f),this.urlAfterRedirects=D,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hs extends Cn{constructor(y,f,D,I){super(y,f),this.reason=D,this.code=I,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zo extends Cn{constructor(y,f,D,I){super(y,f),this.error=D,this.target=I,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ja extends Cn{constructor(y,f,D,I){super(y,f),this.urlAfterRedirects=D,this.state=I,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qo extends Cn{constructor(y,f,D,I){super(y,f),this.urlAfterRedirects=D,this.state=I,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jo extends Cn{constructor(y,f,D,I,R){super(y,f),this.urlAfterRedirects=D,this.state=I,this.shouldActivate=R,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Pu extends Cn{constructor(y,f,D,I){super(y,f),this.urlAfterRedirects=D,this.state=I,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ha extends Cn{constructor(y,f,D,I){super(y,f),this.urlAfterRedirects=D,this.state=I,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fu{constructor(y){this.route=y,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class el{constructor(y){this.route=y,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vo{constructor(y){this.snapshot=y,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $a{constructor(y){this.snapshot=y,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xi{constructor(y){this.snapshot=y,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _o{constructor(y){this.snapshot=y,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xo{constructor(y,f,D){this.routerEvent=y,this.position=f,this.anchor=D,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Us{constructor(y){this._root=y}get root(){return this._root.value}parent(y){const f=this.pathFromRoot(y);return f.length>1?f[f.length-2]:null}children(y){const f=Ui(y,this._root);return f?f.children.map(D=>D.value):[]}firstChild(y){const f=Ui(y,this._root);return f&&f.children.length>0?f.children[0].value:null}siblings(y){const f=fs(y,this._root);return f.length<2?[]:f[f.length-2].children.map(I=>I.value).filter(I=>I!==y)}pathFromRoot(y){return fs(y,this._root).map(f=>f.value)}}function Ui(m,y){if(m===y.value)return y;for(const f of y.children){const D=Ui(m,f);if(D)return D}return null}function fs(m,y){if(m===y.value)return[y];for(const f of y.children){const D=fs(m,f);if(D.length)return D.unshift(y),D}return[]}class Or{constructor(y,f){this.value=y,this.children=f}toString(){return`TreeNode(${this.value})`}}function ps(m){const y={};return m&&m.children.forEach(f=>y[f.value.outlet]=f),y}class $r extends Us{constructor(y,f){super(y),this.snapshot=f,ni(this,y)}toString(){return this.snapshot.toString()}}function Gr(m,y){const f=function gs(m,y){const j=new js([],{},{},"",{},tt,y,null,m.root,-1,{});return new ji("",new Or(j,[]))}(m,y),D=new he([new Ur("",{})]),I=new he({}),R=new he({}),j=new he({}),q=new he(""),se=new Rr(D,I,j,q,R,tt,y,f.root);return se.snapshot=f.root,new $r(new Or(se,[]),f)}class Rr{constructor(y,f,D,I,R,j,q,se){this.url=y,this.params=f,this.queryParams=D,this.fragment=I,this.data=R,this.outlet=j,this.component=q,this.title=this.data?.pipe((0,pe.U)(Te=>Te[or]))??(0,ee.of)(void 0),this._futureSnapshot=se}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pe.U)(y=>Kn(y)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pe.U)(y=>Kn(y)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ea(m,y="emptyOnly"){const f=m.pathFromRoot;let D=0;if("always"!==y)for(D=f.length-1;D>=1;){const I=f[D],R=f[D-1];if(I.routeConfig&&""===I.routeConfig.path)D--;else{if(R.component)break;D--}}return function ta(m){return m.reduce((y,f)=>({params:{...y.params,...f.params},data:{...y.data,...f.data},resolve:{...f.data,...y.resolve,...f.routeConfig?.data,...f._resolvedData}}),{params:{},data:{},resolve:{}})}(f.slice(D))}class js{constructor(y,f,D,I,R,j,q,se,Te,at,We,Ht){this.url=y,this.params=f,this.queryParams=D,this.fragment=I,this.data=R,this.outlet=j,this.component=q,this.title=this.data?.[or],this.routeConfig=se,this._urlSegment=Te,this._lastPathIndex=at,this._correctedLastPathIndex=Ht??at,this._resolve=We}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Kn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(D=>D.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ji extends Us{constructor(y,f){super(f),this.url=y,ni(this,f)}toString(){return Hs(this._root)}}function ni(m,y){y.value._routerState=m,y.children.forEach(f=>ni(m,f))}function Hs(m){const y=m.children.length>0?` { ${m.children.map(Hs).join(", ")} } `:"";return`${m.value}${y}`}function $s(m){if(m.snapshot){const y=m.snapshot,f=m._futureSnapshot;m.snapshot=f,xn(y.queryParams,f.queryParams)||m.queryParams.next(f.queryParams),y.fragment!==f.fragment&&m.fragment.next(f.fragment),xn(y.params,f.params)||m.params.next(f.params),function Yo(m,y){if(m.length!==y.length)return!1;for(let f=0;f<m.length;++f)if(!xn(m[f],y[f]))return!1;return!0}(y.url,f.url)||m.url.next(f.url),xn(y.data,f.data)||m.data.next(f.data)}else m.snapshot=m._futureSnapshot,m.data.next(m._futureSnapshot.data)}function na(m,y){const f=xn(m.params,y.params)&&function Zn(m,y){return Dt(m,y)&&m.every((f,D)=>xn(f.parameters,y[D].parameters))}(m.url,y.url);return f&&!(!m.parent!=!y.parent)&&(!m.parent||na(m.parent,y.parent))}function zr(m,y,f){if(f&&m.shouldReuseRoute(y.value,f.value.snapshot)){const D=f.value;D._futureSnapshot=y.value;const I=function za(m,y,f){return y.children.map(D=>{for(const I of f.children)if(m.shouldReuseRoute(D.value,I.value.snapshot))return zr(m,D,I);return zr(m,D)})}(m,y,f);return new Or(D,I)}{if(m.shouldAttach(y.value)){const R=m.retrieve(y.value);if(null!==R){const j=R.route;return j.value._futureSnapshot=y.value,j.children=y.children.map(q=>zr(m,q)),j}}const D=function Hi(m){return new Rr(new he(m.url),new he(m.params),new he(m.queryParams),new he(m.fragment),new he(m.data),m.outlet,m.component,m)}(y.value),I=y.children.map(R=>zr(m,R));return new Or(D,I)}}const Gs="ngNavigationCancelingError";function ms(m,y){const{redirectTo:f,navigationBehaviorOptions:D}=Qn(y)?{redirectTo:y,navigationBehaviorOptions:void 0}:y,I=un(!1,0,y);return I.url=f,I.navigationBehaviorOptions=D,I}function un(m,y,f){const D=new Error("NavigationCancelingError: "+(m||""));return D[Gs]=!0,D.cancellationCode=y,f&&(D.url=f),D}function ri(m){return ra(m)&&Qn(m.url)}function ra(m){return m&&m[Gs]}class zs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Bt,this.attachRef=null}}let Bt=(()=>{class m{constructor(){this.contexts=new Map}onChildOutletCreated(f,D){const I=this.getOrCreateContext(f);I.outlet=D,this.contexts.set(f,I)}onChildOutletDestroyed(f){const D=this.getContext(f);D&&(D.outlet=null,D.attachRef=null)}onOutletDeactivated(){const f=this.contexts;return this.contexts=new Map,f}onOutletReAttached(f){this.contexts=f}getOrCreateContext(f){let D=this.getContext(f);return D||(D=new zs,this.contexts.set(f,D)),D}getContext(f){return this.contexts.get(f)||null}}return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=g.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();const qs=!1;let Di=(()=>{class m{constructor(f,D,I,R,j){this.parentContexts=f,this.location=D,this.changeDetector=R,this.environmentInjector=j,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.name=I||tt,f.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const f=this.parentContexts.getContext(this.name);f&&f.route&&(f.attachRef?this.attach(f.attachRef,f.route):this.activateWith(f.route,f.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,qs);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,qs);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,qs);this.location.detach();const f=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(f.instance),f}attach(f,D){this.activated=f,this._activatedRoute=D,this.location.insert(f.hostView),this.attachEvents.emit(f.instance)}deactivate(){if(this.activated){const f=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(f)}}activateWith(f,D){if(this.isActivated)throw new g.vHH(4013,qs);this._activatedRoute=f;const I=this.location,j=f._futureSnapshot.component,q=this.parentContexts.getOrCreateContext(this.name).children,se=new ys(f,q,I.injector);if(D&&function Hn(m){return!!m.resolveComponentFactory}(D)){const Te=D.resolveComponentFactory(j);this.activated=I.createComponent(Te,I.length,se)}else this.activated=I.createComponent(j,{index:I.length,injector:se,environmentInjector:D??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return m.\u0275fac=function(f){return new(f||m)(g.Y36(Bt),g.Y36(g.s_b),g.$8M("name"),g.Y36(g.sBO),g.Y36(g.lqb))},m.\u0275dir=g.lG2({type:m,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),m})();class ys{constructor(y,f,D){this.route=y,this.childContexts=f,this.parent=D}get(y,f){return y===Rr?this.route:y===Bt?this.childContexts:this.parent.get(y,f)}}let $i=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275cmp=g.Xpm({type:m,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(f,D){1&f&&g._UZ(0,"router-outlet")},dependencies:[Di],encapsulation:2}),m})();function vs(m,y){return m.providers&&!m._injector&&(m._injector=(0,g.MMx)(m.providers,y,`Route: ${m.path}`)),m._injector??y}function Ks(m){const y=m.children&&m.children.map(Ks),f=y?{...m,children:y}:{...m};return!f.component&&!f.loadComponent&&(y||f.loadChildren)&&f.outlet&&f.outlet!==tt&&(f.component=$i),f}function tr(m){return m.outlet||tt}function Ys(m,y){const f=m.filter(D=>tr(D)===y);return f.push(...m.filter(D=>tr(D)!==y)),f}function zi(m){if(!m)return null;if(m.routeConfig?._injector)return m.routeConfig._injector;for(let y=m.parent;y;y=y.parent){const f=y.routeConfig;if(f?._loadedInjector)return f._loadedInjector;if(f?._injector)return f._injector}return null}class Ie{constructor(y,f,D,I){this.routeReuseStrategy=y,this.futureState=f,this.currState=D,this.forwardEvent=I}activate(y){const f=this.futureState._root,D=this.currState?this.currState._root:null;this.deactivateChildRoutes(f,D,y),$s(this.futureState.root),this.activateChildRoutes(f,D,y)}deactivateChildRoutes(y,f,D){const I=ps(f);y.children.forEach(R=>{const j=R.value.outlet;this.deactivateRoutes(R,I[j],D),delete I[j]}),Yt(I,(R,j)=>{this.deactivateRouteAndItsChildren(R,D)})}deactivateRoutes(y,f,D){const I=y.value,R=f?f.value:null;if(I===R)if(I.component){const j=D.getContext(I.outlet);j&&this.deactivateChildRoutes(y,f,j.children)}else this.deactivateChildRoutes(y,f,D);else R&&this.deactivateRouteAndItsChildren(f,D)}deactivateRouteAndItsChildren(y,f){y.value.component&&this.routeReuseStrategy.shouldDetach(y.value.snapshot)?this.detachAndStoreRouteSubtree(y,f):this.deactivateRouteAndOutlet(y,f)}detachAndStoreRouteSubtree(y,f){const D=f.getContext(y.value.outlet),I=D&&y.value.component?D.children:f,R=ps(y);for(const j of Object.keys(R))this.deactivateRouteAndItsChildren(R[j],I);if(D&&D.outlet){const j=D.outlet.detach(),q=D.children.onOutletDeactivated();this.routeReuseStrategy.store(y.value.snapshot,{componentRef:j,route:y,contexts:q})}}deactivateRouteAndOutlet(y,f){const D=f.getContext(y.value.outlet),I=D&&y.value.component?D.children:f,R=ps(y);for(const j of Object.keys(R))this.deactivateRouteAndItsChildren(R[j],I);D&&D.outlet&&(D.outlet.deactivate(),D.children.onOutletDeactivated(),D.attachRef=null,D.resolver=null,D.route=null)}activateChildRoutes(y,f,D){const I=ps(f);y.children.forEach(R=>{this.activateRoutes(R,I[R.value.outlet],D),this.forwardEvent(new _o(R.value.snapshot))}),y.children.length&&this.forwardEvent(new $a(y.value.snapshot))}activateRoutes(y,f,D){const I=y.value,R=f?f.value:null;if($s(I),I===R)if(I.component){const j=D.getOrCreateContext(I.outlet);this.activateChildRoutes(y,f,j.children)}else this.activateChildRoutes(y,f,D);else if(I.component){const j=D.getOrCreateContext(I.outlet);if(this.routeReuseStrategy.shouldAttach(I.snapshot)){const q=this.routeReuseStrategy.retrieve(I.snapshot);this.routeReuseStrategy.store(I.snapshot,null),j.children.onOutletReAttached(q.contexts),j.attachRef=q.componentRef,j.route=q.route.value,j.outlet&&j.outlet.attach(q.componentRef,q.route.value),$s(q.route.value),this.activateChildRoutes(y,null,j.children)}else{const q=zi(I.snapshot),se=q?.get(g._Vd)??null;j.attachRef=null,j.route=I,j.resolver=se,j.injector=q,j.outlet&&j.outlet.activateWith(I,j.injector),this.activateChildRoutes(y,null,j.children)}}else this.activateChildRoutes(y,null,D)}}class kt{constructor(y){this.path=y,this.route=this.path[this.path.length-1]}}class En{constructor(y,f){this.component=y,this.route=f}}function qi(m,y,f){const D=m._root;return Wr(D,y?y._root:null,f,[D.value])}function wr(m,y){const f=Symbol(),D=y.get(m,f);return D===f?"function"!=typeof m||(0,g.Z0I)(m)?y.get(m):m:D}function Wr(m,y,f,D,I={canDeactivateChecks:[],canActivateChecks:[]}){const R=ps(y);return m.children.forEach(j=>{(function ii(m,y,f,D,I={canDeactivateChecks:[],canActivateChecks:[]}){const R=m.value,j=y?y.value:null,q=f?f.getContext(m.value.outlet):null;if(j&&R.routeConfig===j.routeConfig){const se=function x(m,y,f){if("function"==typeof f)return f(m,y);switch(f){case"pathParamsChange":return!Dt(m.url,y.url);case"pathParamsOrQueryParamsChange":return!Dt(m.url,y.url)||!xn(m.queryParams,y.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!na(m,y)||!xn(m.queryParams,y.queryParams);default:return!na(m,y)}}(j,R,R.routeConfig.runGuardsAndResolvers);se?I.canActivateChecks.push(new kt(D)):(R.data=j.data,R._resolvedData=j._resolvedData),Wr(m,y,R.component?q?q.children:null:f,D,I),se&&q&&q.outlet&&q.outlet.isActivated&&I.canDeactivateChecks.push(new En(q.outlet.component,j))}else j&&S(y,q,I),I.canActivateChecks.push(new kt(D)),Wr(m,null,R.component?q?q.children:null:f,D,I)})(j,R[j.value.outlet],f,D.concat([j.value]),I),delete R[j.value.outlet]}),Yt(R,(j,q)=>S(j,f.getContext(q),I)),I}function S(m,y,f){const D=ps(m),I=m.value;Yt(D,(R,j)=>{S(R,I.component?y?y.children.getContext(j):null:y,f)}),f.canDeactivateChecks.push(new En(I.component&&y&&y.outlet&&y.outlet.isActivated?y.outlet.component:null,I))}function E(m){return"function"==typeof m}function _s(m){return m instanceof Fe||"EmptyError"===m?.name}const Ai=Symbol("INITIAL_VALUE");function Zs(){return Qe(m=>ke(m.map(y=>y.pipe(It(1),function tn(...m){const y=(0,De.yG)(m);return(0,G.e)((f,D)=>{(y?_e(m,f,y):_e(m,f)).subscribe(D)})}(Ai)))).pipe((0,pe.U)(y=>{for(const f of y)if(!0!==f){if(f===Ai)return Ai;if(!1===f||f instanceof On)return f}return!0}),ht(y=>y!==Ai),It(1)))}function b(m){return(0,Se.z)(Sn(y=>{if(Qn(y))throw ms(0,y)}),(0,pe.U)(y=>!0===y))}const K={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ue(m,y,f,D,I){const R=be(m,y,f);return R.matched?function k(m,y,f,D){const I=y.canMatch;if(!I||0===I.length)return(0,ee.of)(!0);const R=I.map(j=>{const q=wr(j,m);return Yn(function si(m){return m&&E(m.canMatch)}(q)?q.canMatch(y,f):m.runInContext(()=>q(y,f)))});return(0,ee.of)(R).pipe(Zs(),b())}(D=vs(y,D),y,f).pipe((0,pe.U)(j=>!0===j?R:{...K})):(0,ee.of)(R)}function be(m,y,f){if(""===y.path)return"full"===y.pathMatch&&(m.hasChildren()||f.length>0)?{...K}:{matched:!0,consumedSegments:[],remainingSegments:f,parameters:{},positionalParamSegments:{}};const I=(y.matcher||st)(f,m,y);if(!I)return{...K};const R={};Yt(I.posParams,(q,se)=>{R[se]=q.path});const j=I.consumed.length>0?{...R,...I.consumed[I.consumed.length-1].parameters}:R;return{matched:!0,consumedSegments:I.consumed,remainingSegments:f.slice(I.consumed.length),parameters:j,positionalParamSegments:I.posParams??{}}}function ze(m,y,f,D,I="corrected"){if(f.length>0&&function lt(m,y,f){return f.some(D=>mn(m,y,D)&&tr(D)!==tt)}(m,f,D)){const j=new _t(y,function Rt(m,y,f,D){const I={};I[tt]=D,D._sourceSegment=m,D._segmentIndexShift=y.length;for(const R of f)if(""===R.path&&tr(R)!==tt){const j=new _t([],{});j._sourceSegment=m,j._segmentIndexShift=y.length,I[tr(R)]=j}return I}(m,y,D,new _t(f,m.children)));return j._sourceSegment=m,j._segmentIndexShift=y.length,{segmentGroup:j,slicedSegments:[]}}if(0===f.length&&function Pt(m,y,f){return f.some(D=>mn(m,y,D))}(m,f,D)){const j=new _t(m.segments,function Ct(m,y,f,D,I,R){const j={};for(const q of D)if(mn(m,f,q)&&!I[tr(q)]){const se=new _t([],{});se._sourceSegment=m,se._segmentIndexShift="legacy"===R?m.segments.length:y.length,j[tr(q)]=se}return{...I,...j}}(m,y,f,D,m.children,I));return j._sourceSegment=m,j._segmentIndexShift=y.length,{segmentGroup:j,slicedSegments:f}}const R=new _t(m.segments,m.children);return R._sourceSegment=m,R._segmentIndexShift=y.length,{segmentGroup:R,slicedSegments:f}}function mn(m,y,f){return(!(m.hasChildren()||y.length>0)||"full"!==f.pathMatch)&&""===f.path}function Qt(m,y,f,D){return!!(tr(m)===D||D!==tt&&mn(y,f,m))&&("**"===m.path||be(y,m,f).matched)}function Ut(m,y,f){return 0===y.length&&!m.children[f]}const Er=!1;class Pr{constructor(y){this.segmentGroup=y||null}}class lr{constructor(y){this.urlTree=y}}function dr(m){return Y(new Pr(m))}function Wi(m){return Y(new lr(m))}class Yi{constructor(y,f,D,I,R){this.injector=y,this.configLoader=f,this.urlSerializer=D,this.urlTree=I,this.config=R,this.allowRedirects=!0}apply(){const y=ze(this.urlTree.root,[],[],this.config).segmentGroup,f=new _t(y.segments,y.children);return this.expandSegmentGroup(this.injector,this.config,f,tt).pipe((0,pe.U)(R=>this.createUrlTree(ct(R),this.urlTree.queryParams,this.urlTree.fragment))).pipe(nn(R=>{if(R instanceof lr)return this.allowRedirects=!1,this.match(R.urlTree);throw R instanceof Pr?this.noMatchError(R):R}))}match(y){return this.expandSegmentGroup(this.injector,this.config,y.root,tt).pipe((0,pe.U)(I=>this.createUrlTree(ct(I),y.queryParams,y.fragment))).pipe(nn(I=>{throw I instanceof Pr?this.noMatchError(I):I}))}noMatchError(y){return new g.vHH(4002,Er)}createUrlTree(y,f,D){const I=yi(y);return new On(I,f,D)}expandSegmentGroup(y,f,D,I){return 0===D.segments.length&&D.hasChildren()?this.expandChildren(y,f,D).pipe((0,pe.U)(R=>new _t([],R))):this.expandSegment(y,D,f,D.segments,I,!0)}expandChildren(y,f,D){const I=[];for(const R of Object.keys(D.children))"primary"===R?I.unshift(R):I.push(R);return(0,O.D)(I).pipe(sn(R=>{const j=D.children[R],q=Ys(f,R);return this.expandSegmentGroup(y,q,j,R).pipe((0,pe.U)(se=>({segment:se,outlet:R})))}),Kr((R,j)=>(R[j.outlet]=j.segment,R),{}),Ps())}expandSegment(y,f,D,I,R,j){return(0,O.D)(D).pipe(sn(q=>this.expandSegmentAgainstRoute(y,f,D,q,I,R,j).pipe(nn(Te=>{if(Te instanceof Pr)return(0,ee.of)(null);throw Te}))),jn(q=>!!q),nn((q,se)=>{if(_s(q))return Ut(f,I,R)?(0,ee.of)(new _t([],{})):dr(f);throw q}))}expandSegmentAgainstRoute(y,f,D,I,R,j,q){return Qt(I,f,R,j)?void 0===I.redirectTo?this.matchSegmentAgainstRoute(y,f,I,R,j):q&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(y,f,D,I,R,j):dr(f):dr(f)}expandSegmentAgainstRouteUsingRedirect(y,f,D,I,R,j){return"**"===I.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(y,D,I,j):this.expandRegularSegmentAgainstRouteUsingRedirect(y,f,D,I,R,j)}expandWildCardWithParamsAgainstRouteUsingRedirect(y,f,D,I){const R=this.applyRedirectCommands([],D.redirectTo,{});return D.redirectTo.startsWith("/")?Wi(R):this.lineralizeSegments(D,R).pipe((0,Ft.z)(j=>{const q=new _t(j,{});return this.expandSegment(y,q,f,j,I,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(y,f,D,I,R,j){const{matched:q,consumedSegments:se,remainingSegments:Te,positionalParamSegments:at}=be(f,I,R);if(!q)return dr(f);const We=this.applyRedirectCommands(se,I.redirectTo,at);return I.redirectTo.startsWith("/")?Wi(We):this.lineralizeSegments(I,We).pipe((0,Ft.z)(Ht=>this.expandSegment(y,f,D,Ht.concat(Te),j,!1)))}matchSegmentAgainstRoute(y,f,D,I,R){return"**"===D.path?(y=vs(D,y),D.loadChildren?(D._loadedRoutes?(0,ee.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):this.configLoader.loadChildren(y,D)).pipe((0,pe.U)(q=>(D._loadedRoutes=q.routes,D._loadedInjector=q.injector,new _t(I,{})))):(0,ee.of)(new _t(I,{}))):ue(f,D,I,y).pipe(Qe(({matched:j,consumedSegments:q,remainingSegments:se})=>j?this.getChildConfig(y=D._injector??y,D,I).pipe((0,Ft.z)(at=>{const We=at.injector??y,Ht=at.routes,{segmentGroup:br,slicedSegments:wi}=ze(f,q,se,Ht),Ao=new _t(br.segments,br.children);if(0===wi.length&&Ao.hasChildren())return this.expandChildren(We,Ht,Ao).pipe((0,pe.U)(Da=>new _t(q,Da)));if(0===Ht.length&&0===wi.length)return(0,ee.of)(new _t(q,{}));const Oi=tr(D)===R;return this.expandSegment(We,Ao,Ht,wi,Oi?tt:R,!0).pipe((0,pe.U)(ci=>new _t(q.concat(ci.segments),ci.children)))})):dr(f)))}getChildConfig(y,f,D){return f.children?(0,ee.of)({routes:f.children,injector:y}):f.loadChildren?void 0!==f._loadedRoutes?(0,ee.of)({routes:f._loadedRoutes,injector:f._loadedInjector}):function N(m,y,f,D){const I=y.canLoad;if(void 0===I||0===I.length)return(0,ee.of)(!0);const R=I.map(j=>{const q=wr(j,m);return Yn(function oe(m){return m&&E(m.canLoad)}(q)?q.canLoad(y,f):m.runInContext(()=>q(y,f)))});return(0,ee.of)(R).pipe(Zs(),b())}(y,f,D).pipe((0,Ft.z)(I=>I?this.configLoader.loadChildren(y,f).pipe(Sn(R=>{f._loadedRoutes=R.routes,f._loadedInjector=R.injector})):function Qs(m){return Y(un(Er,3))}())):(0,ee.of)({routes:[],injector:y})}lineralizeSegments(y,f){let D=[],I=f.root;for(;;){if(D=D.concat(I.segments),0===I.numberOfChildren)return(0,ee.of)(D);if(I.numberOfChildren>1||!I.children[tt])return Y(new g.vHH(4e3,Er));I=I.children[tt]}}applyRedirectCommands(y,f,D){return this.applyRedirectCreateUrlTree(f,this.urlSerializer.parse(f),y,D)}applyRedirectCreateUrlTree(y,f,D,I){const R=this.createSegmentGroup(y,f.root,D,I);return new On(R,this.createQueryParams(f.queryParams,this.urlTree.queryParams),f.fragment)}createQueryParams(y,f){const D={};return Yt(y,(I,R)=>{if("string"==typeof I&&I.startsWith(":")){const q=I.substring(1);D[R]=f[q]}else D[R]=I}),D}createSegmentGroup(y,f,D,I){const R=this.createSegments(y,f.segments,D,I);let j={};return Yt(f.children,(q,se)=>{j[se]=this.createSegmentGroup(y,q,D,I)}),new _t(R,j)}createSegments(y,f,D,I){return f.map(R=>R.path.startsWith(":")?this.findPosParam(y,R,I):this.findOrReturn(R,D))}findPosParam(y,f,D){const I=D[f.path.substring(1)];if(!I)throw new g.vHH(4001,Er);return I}findOrReturn(y,f){let D=0;for(const I of f){if(I.path===y.path)return f.splice(D),I;D++}return y}}class Id{}class Sd{constructor(y,f,D,I,R,j,q,se){this.injector=y,this.rootComponentType=f,this.config=D,this.urlTree=I,this.url=R,this.paramsInheritanceStrategy=j,this.relativeLinkResolution=q,this.urlSerializer=se}recognize(){const y=ze(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,y,tt).pipe((0,pe.U)(f=>{if(null===f)return null;const D=new js([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},tt,this.rootComponentType,null,this.urlTree.root,-1,{}),I=new Or(D,f),R=new ji(this.url,I);return this.inheritParamsAndData(R._root),R}))}inheritParamsAndData(y){const f=y.value,D=ea(f,this.paramsInheritanceStrategy);f.params=Object.freeze(D.params),f.data=Object.freeze(D.data),y.children.forEach(I=>this.inheritParamsAndData(I))}processSegmentGroup(y,f,D,I){return 0===D.segments.length&&D.hasChildren()?this.processChildren(y,f,D):this.processSegment(y,f,D,D.segments,I)}processChildren(y,f,D){return(0,O.D)(Object.keys(D.children)).pipe(sn(I=>{const R=D.children[I],j=Ys(f,I);return this.processSegmentGroup(y,j,R,I)}),Kr((I,R)=>I&&R?(I.push(...R),I):null),function us(m,y=!1){return(0,G.e)((f,D)=>{let I=0;f.subscribe((0,Oe.x)(D,R=>{const j=m(R,I++);(j||y)&&D.next(R),!j&&D.complete()}))})}(I=>null!==I),gr(null),Ps(),(0,pe.U)(I=>{if(null===I)return null;const R=Wa(I);return function Td(m){m.sort((y,f)=>y.value.outlet===tt?-1:f.value.outlet===tt?1:y.value.outlet.localeCompare(f.value.outlet))}(R),R}))}processSegment(y,f,D,I,R){return(0,O.D)(f).pipe(sn(j=>this.processSegmentAgainstRoute(j._injector??y,j,D,I,R)),jn(j=>!!j),nn(j=>{if(_s(j))return Ut(D,I,R)?(0,ee.of)([]):(0,ee.of)(null);throw j}))}processSegmentAgainstRoute(y,f,D,I,R){if(f.redirectTo||!Qt(f,D,I,R))return(0,ee.of)(null);let j;if("**"===f.path){const q=I.length>0?ot(I).parameters:{},se=bo(D)+I.length,Te=new js(I,q,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$n(f),tr(f),f.component??f._loadedComponent??null,f,Ka(D),se,Zi(f),se);j=(0,ee.of)({snapshot:Te,consumedSegments:[],remainingSegments:[]})}else j=ue(D,f,I,y).pipe((0,pe.U)(({matched:q,consumedSegments:se,remainingSegments:Te,parameters:at})=>{if(!q)return null;const We=bo(D)+se.length;return{snapshot:new js(se,at,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$n(f),tr(f),f.component??f._loadedComponent??null,f,Ka(D),We,Zi(f),We),consumedSegments:se,remainingSegments:Te}}));return j.pipe(Qe(q=>{if(null===q)return(0,ee.of)(null);const{snapshot:se,consumedSegments:Te,remainingSegments:at}=q;y=f._injector??y;const We=f._loadedInjector??y,Ht=function xd(m){return m.children?m.children:m.loadChildren?m._loadedRoutes:[]}(f),{segmentGroup:br,slicedSegments:wi}=ze(D,Te,at,Ht.filter(Oi=>void 0===Oi.redirectTo),this.relativeLinkResolution);if(0===wi.length&&br.hasChildren())return this.processChildren(We,Ht,br).pipe((0,pe.U)(Oi=>null===Oi?null:[new Or(se,Oi)]));if(0===Ht.length&&0===wi.length)return(0,ee.of)([new Or(se,[])]);const Ao=tr(f)===R;return this.processSegment(We,Ht,br,wi,Ao?tt:R).pipe((0,pe.U)(Oi=>null===Oi?null:[new Or(se,Oi)]))}))}}function Ef(m){const y=m.value.routeConfig;return y&&""===y.path&&void 0===y.redirectTo}function Wa(m){const y=[],f=new Set;for(const D of m){if(!Ef(D)){y.push(D);continue}const I=y.find(R=>D.value.routeConfig===R.value.routeConfig);void 0!==I?(I.children.push(...D.children),f.add(I)):y.push(D)}for(const D of f){const I=Wa(D.children);y.push(new Or(D.value,I))}return y.filter(D=>!f.has(D))}function Ka(m){let y=m;for(;y._sourceSegment;)y=y._sourceSegment;return y}function bo(m){let y=m,f=y._segmentIndexShift??0;for(;y._sourceSegment;)y=y._sourceSegment,f+=y._segmentIndexShift??0;return f-1}function $n(m){return m.data||{}}function Zi(m){return m.resolve||{}}function Za(m){return"string"==typeof m.title||null===m.title}function Qa(m){return Qe(y=>{const f=m(y);return f?(0,O.D)(f).pipe((0,pe.U)(()=>y)):(0,ee.of)(y)})}let Mi=(()=>{class m{buildTitle(f){let D,I=f.root;for(;void 0!==I;)D=this.getResolvedTitleForRoute(I)??D,I=I.children.find(R=>R.outlet===tt);return D}getResolvedTitleForRoute(f){return f.data[or]}}return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=g.Yz7({token:m,factory:function(){return(0,g.f3M)(ju)},providedIn:"root"}),m})(),ju=(()=>{class m extends Mi{constructor(f){super(),this.title=f}updateTitle(f){const D=this.buildTitle(f);void 0!==D&&this.title.setTitle(D)}}return m.\u0275fac=function(f){return new(f||m)(g.LFG(Fs.Dx))},m.\u0275prov=g.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();class ol{}class la extends class ca{shouldDetach(y){return!1}store(y,f){}shouldAttach(y){return!1}retrieve(y){return null}shouldReuseRoute(y,f){return y.routeConfig===f.routeConfig}}{}const Xa=new g.OlP("",{providedIn:"root",factory:()=>({})}),Js=new g.OlP("ROUTES");let eu=(()=>{class m{constructor(f,D){this.injector=f,this.compiler=D,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(f){if(this.componentLoaders.get(f))return this.componentLoaders.get(f);if(f._loadedComponent)return(0,ee.of)(f._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(f);const D=Yn(f.loadComponent()).pipe(Sn(R=>{this.onLoadEndListener&&this.onLoadEndListener(f),f._loadedComponent=R}),bi(()=>{this.componentLoaders.delete(f)})),I=new W(D,()=>new ve.x).pipe(U());return this.componentLoaders.set(f,I),I}loadChildren(f,D){if(this.childrenLoaders.get(D))return this.childrenLoaders.get(D);if(D._loadedRoutes)return(0,ee.of)({routes:D._loadedRoutes,injector:D._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(D);const R=this.loadModuleFactoryOrRoutes(D.loadChildren).pipe((0,pe.U)(q=>{this.onLoadEndListener&&this.onLoadEndListener(D);let se,Te,at=!1;Array.isArray(q)?Te=q:(se=q.create(f).injector,Te=on(se.get(Js,[],g.XFs.Self|g.XFs.Optional)));return{routes:Te.map(Ks),injector:se}}),bi(()=>{this.childrenLoaders.delete(D)})),j=new W(R,()=>new ve.x).pipe(U());return this.childrenLoaders.set(D,j),j}loadModuleFactoryOrRoutes(f){return Yn(f()).pipe((0,Ft.z)(D=>D instanceof g.YKP||Array.isArray(D)?(0,ee.of)(D):(0,O.D)(this.compiler.compileModuleAsync(D))))}}return m.\u0275fac=function(f){return new(f||m)(g.LFG(g.zs3),g.LFG(g.Sil))},m.\u0275prov=g.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();class ul{}class Md{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,f){return y}}function tu(m){throw m}function bf(m,y,f){return y.parse("/")}const Io={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Nd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Xs(){const m=(0,g.f3M)(Qr),y=(0,g.f3M)(Bt),f=(0,g.f3M)(fe.Ye),D=(0,g.f3M)(g.zs3),I=(0,g.f3M)(g.Sil),R=(0,g.f3M)(Js,{optional:!0})??[],j=(0,g.f3M)(Xa,{optional:!0})??{},q=(0,g.f3M)(ju),se=(0,g.f3M)(Mi,{optional:!0}),Te=(0,g.f3M)(ul,{optional:!0}),at=(0,g.f3M)(ol,{optional:!0}),We=new Fn(null,m,y,f,D,I,on(R));return Te&&(We.urlHandlingStrategy=Te),at&&(We.routeReuseStrategy=at),We.titleStrategy=se??q,function ha(m,y){m.errorHandler&&(y.errorHandler=m.errorHandler),m.malformedUriErrorHandler&&(y.malformedUriErrorHandler=m.malformedUriErrorHandler),m.onSameUrlNavigation&&(y.onSameUrlNavigation=m.onSameUrlNavigation),m.paramsInheritanceStrategy&&(y.paramsInheritanceStrategy=m.paramsInheritanceStrategy),m.relativeLinkResolution&&(y.relativeLinkResolution=m.relativeLinkResolution),m.urlUpdateStrategy&&(y.urlUpdateStrategy=m.urlUpdateStrategy),m.canceledNavigationResolution&&(y.canceledNavigationResolution=m.canceledNavigationResolution)}(j,We),We}let Fn=(()=>{class m{constructor(f,D,I,R,j,q,se){this.rootComponentType=f,this.urlSerializer=D,this.rootContexts=I,this.location=R,this.config=se,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ve.x,this.errorHandler=tu,this.malformedUriErrorHandler=bf,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,ee.of)(void 0),this.urlHandlingStrategy=new Md,this.routeReuseStrategy=new la,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=j.get(eu),this.configLoader.onLoadEndListener=Ht=>this.triggerEvent(new el(Ht)),this.configLoader.onLoadStartListener=Ht=>this.triggerEvent(new Fu(Ht)),this.ngModule=j.get(g.h0i),this.console=j.get(g.c2e);const We=j.get(g.R0b);this.isNgZoneEnabled=We instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(se),this.currentUrlTree=function ar(){return new On(new _t([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Gr(this.currentUrlTree,this.rootComponentType),this.transitions=new he({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(f){const D=this.events;return f.pipe(ht(I=>0!==I.id),(0,pe.U)(I=>({...I,extractedUrl:this.urlHandlingStrategy.extract(I.rawUrl)})),Qe(I=>{let R=!1,j=!1;return(0,ee.of)(I).pipe(Sn(q=>{this.currentNavigation={id:q.id,initialUrl:q.rawUrl,extractedUrl:q.extractedUrl,trigger:q.source,extras:q.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Qe(q=>{const se=this.browserUrlTree.toString(),Te=!this.navigated||q.extractedUrl.toString()!==se||se!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Te)&&this.urlHandlingStrategy.shouldProcessUrl(q.rawUrl))return cl(q.source)&&(this.browserUrlTree=q.extractedUrl),(0,ee.of)(q).pipe(Qe(We=>{const Ht=this.transitions.getValue();return D.next(new Ua(We.id,this.serializeUrl(We.extractedUrl),We.source,We.restoredState)),Ht!==this.transitions.getValue()?re.E:Promise.resolve(We)}),function Eo(m,y,f,D){return Qe(I=>function nl(m,y,f,D,I){return new Yi(m,y,f,D,I).apply()}(m,y,f,I.extractedUrl,D).pipe((0,pe.U)(R=>({...I,urlAfterRedirects:R}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Sn(We=>{this.currentNavigation={...this.currentNavigation,finalUrl:We.urlAfterRedirects},I.urlAfterRedirects=We.urlAfterRedirects}),function il(m,y,f,D,I,R){return(0,Ft.z)(j=>function rl(m,y,f,D,I,R,j="emptyOnly",q="legacy"){return new Sd(m,y,f,D,I,j,q,R).recognize().pipe(Qe(se=>null===se?function aa(m){return new qe.y(y=>y.error(m))}(new Id):(0,ee.of)(se)))}(m,y,f,j.urlAfterRedirects,D.serialize(j.urlAfterRedirects),D,I,R).pipe((0,pe.U)(q=>({...j,targetSnapshot:q}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Sn(We=>{if(I.targetSnapshot=We.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!We.extras.skipLocationChange){const br=this.urlHandlingStrategy.merge(We.urlAfterRedirects,We.rawUrl);this.setBrowserUrl(br,We)}this.browserUrlTree=We.urlAfterRedirects}const Ht=new ja(We.id,this.serializeUrl(We.extractedUrl),this.serializeUrl(We.urlAfterRedirects),We.targetSnapshot);D.next(Ht)}));if(Te&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Ht,extractedUrl:br,source:wi,restoredState:Ao,extras:Oi}=q,_a=new Ua(Ht,this.serializeUrl(br),wi,Ao);D.next(_a);const ci=Gr(br,this.rootComponentType).snapshot;return I={...q,targetSnapshot:ci,urlAfterRedirects:br,extras:{...Oi,skipLocationChange:!1,replaceUrl:!1}},(0,ee.of)(I)}return this.rawUrlTree=q.rawUrl,q.resolve(null),re.E}),Sn(q=>{const se=new Qo(q.id,this.serializeUrl(q.extractedUrl),this.serializeUrl(q.urlAfterRedirects),q.targetSnapshot);this.triggerEvent(se)}),(0,pe.U)(q=>I={...q,guards:qi(q.targetSnapshot,q.currentSnapshot,this.rootContexts)}),function Lu(m,y){return(0,Ft.z)(f=>{const{targetSnapshot:D,currentSnapshot:I,guards:{canActivateChecks:R,canDeactivateChecks:j}}=f;return 0===j.length&&0===R.length?(0,ee.of)({...f,guardsResult:!0}):function ia(m,y,f,D){return(0,O.D)(m).pipe((0,Ft.z)(I=>function C(m,y,f,D,I){const R=y&&y.routeConfig?y.routeConfig.canDeactivate:null;if(!R||0===R.length)return(0,ee.of)(!0);const j=R.map(q=>{const se=zi(y)??I,Te=wr(q,se);return Yn(function Vt(m){return m&&E(m.canDeactivate)}(Te)?Te.canDeactivate(m,y,f,D):se.runInContext(()=>Te(m,y,f,D))).pipe(jn())});return(0,ee.of)(j).pipe(Zs())}(I.component,I.route,f,y,D)),jn(I=>!0!==I,!0))}(j,D,I,m).pipe((0,Ft.z)(q=>q&&function F(m){return"boolean"==typeof m}(q)?function sa(m,y,f,D){return(0,O.D)(y).pipe(sn(I=>_e(function Vu(m,y){return null!==m&&y&&y(new vo(m)),(0,ee.of)(!0)}(I.route.parent,D),function tl(m,y){return null!==m&&y&&y(new xi(m)),(0,ee.of)(!0)}(I.route,D),function Bu(m,y,f){const D=y[y.length-1],R=y.slice(0,y.length-1).reverse().map(j=>function Ot(m){const y=m.routeConfig?m.routeConfig.canActivateChild:null;return y&&0!==y.length?{node:m,guards:y}:null}(j)).filter(j=>null!==j).map(j=>Ke(()=>{const q=j.guards.map(se=>{const Te=zi(j.node)??f,at=wr(se,Te);return Yn(function xt(m){return m&&E(m.canActivateChild)}(at)?at.canActivateChild(D,m):Te.runInContext(()=>at(D,m))).pipe(jn())});return(0,ee.of)(q).pipe(Zs())}));return(0,ee.of)(R).pipe(Zs())}(m,I.path,f),function Co(m,y,f){const D=y.routeConfig?y.routeConfig.canActivate:null;if(!D||0===D.length)return(0,ee.of)(!0);const I=D.map(R=>Ke(()=>{const j=zi(y)??f,q=wr(R,j);return Yn(function Ue(m){return m&&E(m.canActivate)}(q)?q.canActivate(y,m):j.runInContext(()=>q(y,m))).pipe(jn())}));return(0,ee.of)(I).pipe(Zs())}(m,I.route,f))),jn(I=>!0!==I,!0))}(D,R,m,y):(0,ee.of)(q)),(0,pe.U)(q=>({...f,guardsResult:q})))})}(this.ngModule.injector,q=>this.triggerEvent(q)),Sn(q=>{if(I.guardsResult=q.guardsResult,Qn(q.guardsResult))throw ms(0,q.guardsResult);const se=new Jo(q.id,this.serializeUrl(q.extractedUrl),this.serializeUrl(q.urlAfterRedirects),q.targetSnapshot,!!q.guardsResult);this.triggerEvent(se)}),ht(q=>!!q.guardsResult||(this.restoreHistory(q),this.cancelNavigationTransition(q,"",3),!1)),Qa(q=>{if(q.guards.canActivateChecks.length)return(0,ee.of)(q).pipe(Sn(se=>{const Te=new Pu(se.id,this.serializeUrl(se.extractedUrl),this.serializeUrl(se.urlAfterRedirects),se.targetSnapshot);this.triggerEvent(Te)}),Qe(se=>{let Te=!1;return(0,ee.of)(se).pipe(function ua(m,y){return(0,Ft.z)(f=>{const{targetSnapshot:D,guards:{canActivateChecks:I}}=f;if(!I.length)return(0,ee.of)(f);let R=0;return(0,O.D)(I).pipe(sn(j=>function sl(m,y,f,D){const I=m.routeConfig,R=m._resolve;return void 0!==I?.title&&!Za(I)&&(R[or]=I.title),function Ya(m,y,f,D){const I=function Ag(m){return[...Object.keys(m),...Object.getOwnPropertySymbols(m)]}(m);if(0===I.length)return(0,ee.of)({});const R={};return(0,O.D)(I).pipe((0,Ft.z)(j=>function Ad(m,y,f,D){const I=zi(y)??D,R=wr(m,I);return Yn(R.resolve?R.resolve(y,f):I.runInContext(()=>R(y,f)))}(m[j],y,f,D).pipe(jn(),Sn(q=>{R[j]=q}))),Br(1),function cs(m){return(0,pe.U)(()=>m)}(R),nn(j=>_s(j)?re.E:Y(j)))}(R,m,y,D).pipe((0,pe.U)(j=>(m._resolvedData=j,m.data=ea(m,f).resolve,I&&Za(I)&&(m.data[or]=I.title),null)))}(j.route,D,m,y)),Sn(()=>R++),Br(1),(0,Ft.z)(j=>R===I.length?(0,ee.of)(f):re.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Sn({next:()=>Te=!0,complete:()=>{Te||(this.restoreHistory(se),this.cancelNavigationTransition(se,"",2))}}))}),Sn(se=>{const Te=new Ha(se.id,this.serializeUrl(se.extractedUrl),this.serializeUrl(se.urlAfterRedirects),se.targetSnapshot);this.triggerEvent(Te)}))}),Qa(q=>{const se=Te=>{const at=[];Te.routeConfig?.loadComponent&&!Te.routeConfig._loadedComponent&&at.push(this.configLoader.loadComponent(Te.routeConfig).pipe(Sn(We=>{Te.component=We}),(0,pe.U)(()=>{})));for(const We of Te.children)at.push(...se(We));return at};return ke(se(q.targetSnapshot.root)).pipe(gr(),It(1))}),Qa(()=>this.afterPreactivation()),(0,pe.U)(q=>{const se=function Dr(m,y,f){const D=zr(m,y._root,f?f._root:void 0);return new $r(D,y)}(this.routeReuseStrategy,q.targetSnapshot,q.currentRouterState);return I={...q,targetRouterState:se}}),Sn(q=>{this.currentUrlTree=q.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(q.urlAfterRedirects,q.rawUrl),this.routerState=q.targetRouterState,"deferred"===this.urlUpdateStrategy&&(q.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,q),this.browserUrlTree=q.urlAfterRedirects)}),((m,y,f)=>(0,pe.U)(D=>(new Ie(y,D.targetRouterState,D.currentRouterState,f).activate(m),D)))(this.rootContexts,this.routeReuseStrategy,q=>this.triggerEvent(q)),Sn({next(){R=!0},complete(){R=!0}}),bi(()=>{R||j||this.cancelNavigationTransition(I,"",1),this.currentNavigation?.id===I.id&&(this.currentNavigation=null)}),nn(q=>{if(j=!0,ra(q)){ri(q)||(this.navigated=!0,this.restoreHistory(I,!0));const se=new hs(I.id,this.serializeUrl(I.extractedUrl),q.message,q.cancellationCode);if(D.next(se),ri(q)){const Te=this.urlHandlingStrategy.merge(q.url,this.rawUrlTree),at={skipLocationChange:I.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||cl(I.source)};this.scheduleNavigation(Te,"imperative",null,at,{resolve:I.resolve,reject:I.reject,promise:I.promise})}else I.resolve(!1)}else{this.restoreHistory(I,!0);const se=new Zo(I.id,this.serializeUrl(I.extractedUrl),q,I.targetSnapshot??void 0);D.next(se);try{I.resolve(this.errorHandler(q))}catch(Te){I.reject(Te)}}return re.E}))}))}resetRootComponentType(f){this.rootComponentType=f,this.routerState.root.component=this.rootComponentType}setTransition(f){this.transitions.next({...this.transitions.value,...f})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(f=>{const D="popstate"===f.type?"popstate":"hashchange";"popstate"===D&&setTimeout(()=>{const I={replaceUrl:!0},R=f.state?.navigationId?f.state:null;if(R){const q={...R};delete q.navigationId,delete q.\u0275routerPageId,0!==Object.keys(q).length&&(I.state=q)}const j=this.parseUrl(f.url);this.scheduleNavigation(j,D,R,I)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(f){this.events.next(f)}resetConfig(f){this.config=f.map(Ks),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(f,D={}){const{relativeTo:I,queryParams:R,fragment:j,queryParamsHandling:q,preserveFragment:se}=D,Te=I||this.routerState.root,at=se?this.currentUrlTree.fragment:j;let We=null;switch(q){case"merge":We={...this.currentUrlTree.queryParams,...R};break;case"preserve":We=this.currentUrlTree.queryParams;break;default:We=R||null}return null!==We&&(We=this.removeEmptyProps(We)),ei(Te,this.currentUrlTree,f,We,at??null)}navigateByUrl(f,D={skipLocationChange:!1}){const I=Qn(f)?f:this.parseUrl(f),R=this.urlHandlingStrategy.merge(I,this.rawUrlTree);return this.scheduleNavigation(R,"imperative",null,D)}navigate(f,D={skipLocationChange:!1}){return function fa(m){for(let y=0;y<m.length;y++){if(null==m[y])throw new g.vHH(4008,false)}}(f),this.navigateByUrl(this.createUrlTree(f,D),D)}serializeUrl(f){return this.urlSerializer.serialize(f)}parseUrl(f){let D;try{D=this.urlSerializer.parse(f)}catch(I){D=this.malformedUriErrorHandler(I,this.urlSerializer,f)}return D}isActive(f,D){let I;if(I=!0===D?{...Io}:!1===D?{...Nd}:D,Qn(f))return hn(this.currentUrlTree,f,I);const R=this.parseUrl(f);return hn(this.currentUrlTree,R,I)}removeEmptyProps(f){return Object.keys(f).reduce((D,I)=>{const R=f[I];return null!=R&&(D[I]=R),D},{})}processNavigations(){this.navigations.subscribe(f=>{this.navigated=!0,this.lastSuccessfulId=f.id,this.currentPageId=f.targetPageId,this.events.next(new Rn(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),f.resolve(!0)},f=>{this.console.warn(`Unhandled Navigation Error: ${f}`)})}scheduleNavigation(f,D,I,R,j){if(this.disposed)return Promise.resolve(!1);let q,se,Te;j?(q=j.resolve,se=j.reject,Te=j.promise):Te=new Promise((Ht,br)=>{q=Ht,se=br});const at=++this.navigationId;let We;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(I=this.location.getState()),We=I&&I.\u0275routerPageId?I.\u0275routerPageId:R.replaceUrl||R.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):We=0,this.setTransition({id:at,targetPageId:We,source:D,restoredState:I,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:f,extras:R,resolve:q,reject:se,promise:Te,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Te.catch(Ht=>Promise.reject(Ht))}setBrowserUrl(f,D){const I=this.urlSerializer.serialize(f),R={...D.extras.state,...this.generateNgRouterState(D.id,D.targetPageId)};this.location.isCurrentPathEqualTo(I)||D.extras.replaceUrl?this.location.replaceState(I,"",R):this.location.go(I,"",R)}restoreHistory(f,D=!1){if("computed"===this.canceledNavigationResolution){const I=this.currentPageId-f.targetPageId;"popstate"!==f.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===I?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===I&&(this.resetState(f),this.browserUrlTree=f.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(I)}else"replace"===this.canceledNavigationResolution&&(D&&this.resetState(f),this.resetUrlToCurrentUrlTree())}resetState(f){this.routerState=f.currentRouterState,this.currentUrlTree=f.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,f.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(f,D,I){const R=new hs(f.id,this.serializeUrl(f.extractedUrl),D,I);this.triggerEvent(R),f.resolve(!1)}generateNgRouterState(f,D){return"computed"===this.canceledNavigationResolution?{navigationId:f,\u0275routerPageId:D}:{navigationId:f}}}return m.\u0275fac=function(f){g.$Z()},m.\u0275prov=g.Yz7({token:m,factory:function(){return Xs()},providedIn:"root"}),m})();function cl(m){return"imperative"!==m}class Ni{}let to=(()=>{class m{constructor(f,D,I,R,j){this.router=f,this.injector=I,this.preloadingStrategy=R,this.loader=j}setUpPreloading(){this.subscription=this.router.events.pipe(ht(f=>f instanceof Rn),sn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(f,D){const I=[];for(const R of D){R.providers&&!R._injector&&(R._injector=(0,g.MMx)(R.providers,f,`Route: ${R.path}`));const j=R._injector??f,q=R._loadedInjector??j;R.loadChildren&&!R._loadedRoutes&&void 0===R.canLoad||R.loadComponent&&!R._loadedComponent?I.push(this.preloadConfig(j,R)):(R.children||R._loadedRoutes)&&I.push(this.processRoutes(q,R.children??R._loadedRoutes))}return(0,O.D)(I).pipe((0,Ve.J)())}preloadConfig(f,D){return this.preloadingStrategy.preload(D,()=>{let I;I=D.loadChildren&&void 0===D.canLoad?this.loader.loadChildren(f,D):(0,ee.of)(null);const R=I.pipe((0,Ft.z)(j=>null===j?(0,ee.of)(void 0):(D._loadedRoutes=j.routes,D._loadedInjector=j.injector,this.processRoutes(j.injector??f,j.routes))));if(D.loadComponent&&!D._loadedComponent){const j=this.loader.loadComponent(D);return(0,O.D)([R,j]).pipe((0,Ve.J)())}return R})}}return m.\u0275fac=function(f){return new(f||m)(g.LFG(Fn),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(Ni),g.LFG(eu))},m.\u0275prov=g.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();const dl=new g.OlP("");let hl=(()=>{class m{constructor(f,D,I={}){this.router=f,this.viewportScroller=D,this.options=I,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},I.scrollPositionRestoration=I.scrollPositionRestoration||"disabled",I.anchorScrolling=I.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(f=>{f instanceof Ua?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=f.navigationTrigger,this.restoredId=f.restoredState?f.restoredState.navigationId:0):f instanceof Rn&&(this.lastId=f.id,this.scheduleScrollEvent(f,this.router.parseUrl(f.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(f=>{f instanceof Xo&&(f.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(f.position):f.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(f.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(f,D){this.router.triggerEvent(new Xo(f,"popstate"===this.lastSource?this.store[this.restoredId]:null,D))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return m.\u0275fac=function(f){g.$Z()},m.\u0275prov=g.Yz7({token:m,factory:m.\u0275fac}),m})();function To(m,y){return{\u0275kind:m,\u0275providers:y}}function nu(m){return[{provide:Js,multi:!0,useValue:m}]}function Od(){const m=(0,g.f3M)(g.zs3);return y=>{const f=m.get(g.z2F);if(y!==f.components[0])return;const D=m.get(Fn),I=m.get(Sf);1===m.get(Ds)&&D.initialNavigation(),m.get(ru,null,g.XFs.Optional)?.setUpPreloading(),m.get(dl,null,g.XFs.Optional)?.init(),D.resetRootComponentType(f.componentTypes[0]),I.next(),I.complete()}}const Sf=new g.OlP("",{factory:()=>new ve.x}),Ds=new g.OlP("",{providedIn:"root",factory:()=>1});const ru=new g.OlP("");function ga(m){return To(0,[{provide:ru,useExisting:to},{provide:Ni,useExisting:m}])}const ai=new g.OlP("ROUTER_FORROOT_GUARD"),ma=[fe.Ye,{provide:Qr,useClass:gi},{provide:Fn,useFactory:Xs},Bt,{provide:Rr,useFactory:function fl(m){return m.routerState.root},deps:[Fn]},eu];function Ji(){return new g.PXZ("Router",Fn)}let xo=(()=>{class m{constructor(f){}static forRoot(f,D){return{ngModule:m,providers:[ma,[],nu(f),{provide:ai,useFactory:Fd,deps:[[Fn,new g.FiY,new g.tp0]]},{provide:Xa,useValue:D||{}},D?.useHash?{provide:fe.S$,useClass:fe.Do}:{provide:fe.S$,useClass:fe.b0},{provide:dl,useFactory:()=>{const m=(0,g.f3M)(Fn),y=(0,g.f3M)(fe.EM),f=(0,g.f3M)(Xa);return f.scrollOffset&&y.setOffset(f.scrollOffset),new hl(m,y,f)}},D?.preloadingStrategy?ga(D.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:Ji},D?.initialNavigation?va(D):[],[{provide:$u,useFactory:Od},{provide:g.tb,multi:!0,useExisting:$u}]]}}static forChild(f){return{ngModule:m,providers:[nu(f)]}}}return m.\u0275fac=function(f){return new(f||m)(g.LFG(ai,8))},m.\u0275mod=g.oAB({type:m}),m.\u0275inj=g.cJS({imports:[$i]}),m})();function Fd(m){return"guarded"}function va(m){return["disabled"===m.initialNavigation?To(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const y=(0,g.f3M)(Fn);return()=>{y.setUpLocationChangeListener()}}},{provide:Ds,useValue:2}]).\u0275providers:[],"enabledBlocking"===m.initialNavigation?To(2,[{provide:Ds,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:y=>{const f=y.get(fe.V_,Promise.resolve(null));let D=!1;return()=>f.then(()=>new Promise(R=>{const j=y.get(Fn),q=y.get(Sf);(function I(R){y.get(Fn).events.pipe(ht(q=>q instanceof Rn||q instanceof hs||q instanceof Zo),(0,pe.U)(q=>q instanceof Rn||q instanceof hs&&(0===q.code||1===q.code)&&null),ht(q=>null!==q),It(1)).subscribe(()=>{R()})})(()=>{R(!0),D=!0}),j.afterPreactivation=()=>(R(!0),D||q.closed?(0,ee.of)(void 0):q),j.initialNavigation()}))}}]).\u0275providers:[]]}const $u=new g.OlP("")},9016:(yt,Ne,H)=>{H.d(Ne,{Eb:()=>Ke,TK:()=>Kt,lG:()=>Oe});var g=H(1571),O=H(7579),ee=H(6895);const ve=function(Se){return{notification:Se}};function he(Se,le){if(1&Se&&g.GkF(0,2),2&Se){const Y=g.oxw();g.Q6J("ngTemplateOutlet",Y.notification.template)("ngTemplateOutletContext",g.VKq(2,ve,Y.notification))}}function Be(Se,le){if(1&Se){const Y=g.EpF();g.TgZ(0,"button",5),g.NdJ("click",function(){g.CHM(Y);const L=g.oxw(2);return g.KtG(L.onClickDismiss())}),g.O4$(),g.TgZ(1,"svg",6),g._UZ(2,"path",7),g.qZA()()}}function Fe(Se,le){if(1&Se&&(g.TgZ(0,"p",3),g._uU(1),g.qZA(),g.YNc(2,Be,3,0,"button",4)),2&Se){const Y=g.oxw();g.xp6(1),g.Oqu(Y.notification.message),g.xp6(1),g.Q6J("ngIf",Y.config.behaviour.showDismissButton)}}function qe(Se,le){if(1&Se){const Y=g.EpF();g.TgZ(0,"li",2)(1,"notifier-notification",3),g.NdJ("ready",function(L){g.CHM(Y);const G=g.oxw();return g.KtG(G.onNotificationReady(L))})("dismiss",function(L){g.CHM(Y);const G=g.oxw();return g.KtG(G.onNotificationDismiss(L))}),g.qZA()()}if(2&Se){const Y=le.$implicit;g.xp6(1),g.Q6J("notification",Y)}}class Le{constructor(le){this.template=null,Object.assign(this,le),void 0===le.id&&(this.id=`ID_${(new Date).getTime()}`)}}let ce=(()=>{class Se{constructor(){this.actionStream=new O.x,this.actionQueue=[],this.isActionInProgress=!1}push(Y){this.actionQueue.push(Y),this.tryToRunNextAction()}continue(){this.isActionInProgress=!1,this.tryToRunNextAction()}tryToRunNextAction(){this.isActionInProgress||0===this.actionQueue.length||(this.isActionInProgress=!0,this.actionStream.next(this.actionQueue.shift()))}}return Se.\u0275fac=function(Y){return new(Y||Se)},Se.\u0275prov=g.Yz7({token:Se,factory:Se.\u0275fac}),Se})();const ge=new g.OlP("[angular-notifier] Notifier Options"),De=new g.OlP("[anuglar-notifier] Notifier Config");class dt{constructor(le={}){this.animations={enabled:!0,hide:{easing:"ease",offset:50,preset:"fade",speed:300},overlap:150,shift:{easing:"ease",speed:300},show:{easing:"ease",preset:"slide",speed:300}},this.behaviour={autoHide:7e3,onClick:!1,onMouseover:"pauseAutoHide",showDismissButton:!0,stacking:4},this.position={horizontal:{distance:12,position:"left"},vertical:{distance:12,gap:10,position:"bottom"}},this.theme="material",void 0!==le.theme&&(this.theme=le.theme),void 0!==le.animations&&(void 0!==le.animations.enabled&&(this.animations.enabled=le.animations.enabled),void 0!==le.animations.overlap&&(this.animations.overlap=le.animations.overlap),void 0!==le.animations.hide&&Object.assign(this.animations.hide,le.animations.hide),void 0!==le.animations.shift&&Object.assign(this.animations.shift,le.animations.shift),void 0!==le.animations.show&&Object.assign(this.animations.show,le.animations.show)),void 0!==le.behaviour&&Object.assign(this.behaviour,le.behaviour),void 0!==le.position&&(void 0!==le.position.horizontal&&Object.assign(this.position.horizontal,le.position.horizontal),void 0!==le.position.vertical&&Object.assign(this.position.vertical,le.position.vertical))}}let Oe=(()=>{class Se{constructor(Y,re){this.queueService=Y,this.config=re}getConfig(){return this.config}get actionStream(){return this.queueService.actionStream.asObservable()}show(Y){this.queueService.push({payload:Y,type:"SHOW"})}hide(Y){this.queueService.push({payload:Y,type:"HIDE"})}hideNewest(){this.queueService.push({type:"HIDE_NEWEST"})}hideOldest(){this.queueService.push({type:"HIDE_OLDEST"})}hideAll(){this.queueService.push({type:"HIDE_ALL"})}notify(Y,re,L){const G={message:re,type:Y};void 0!==L&&(G.id=L),this.show(G)}}return Se.\u0275fac=function(Y){return new(Y||Se)(g.LFG(ce),g.LFG(De))},Se.\u0275prov=g.Yz7({token:Se,factory:Se.\u0275fac}),Se})(),Je=(()=>{class Se{constructor(){this.now=0,this.remaining=0}start(Y){return new Promise(re=>{this.remaining=Y,this.finishPromiseResolver=re,this.continue()})}pause(){clearTimeout(this.timerId),this.remaining-=(new Date).getTime()-this.now}continue(){this.now=(new Date).getTime(),this.timerId=window.setTimeout(()=>{this.finish()},this.remaining)}stop(){clearTimeout(this.timerId),this.remaining=0}finish(){this.finishPromiseResolver()}}return Se.\u0275fac=function(Y){return new(Y||Se)},Se.\u0275prov=g.Yz7({token:Se,factory:Se.\u0275fac}),Se})();const ke={hide:()=>({from:{opacity:"1"},to:{opacity:"0"}}),show:()=>({from:{opacity:"0"},to:{opacity:"1"}})},it={hide:Se=>{const le=Se.component.getConfig(),Y=Se.component.getShift();let re,L;if("left"===le.position.horizontal.position)re={transform:`translate3d( 0, ${Y}px, 0 )`},L={transform:`translate3d( calc( -100% - ${le.position.horizontal.distance}px - 10px ), ${Y}px, 0 )`};else if("right"===le.position.horizontal.position)re={transform:`translate3d( 0, ${Y}px, 0 )`},L={transform:`translate3d( calc( 100% + ${le.position.horizontal.distance}px + 10px ), ${Y}px, 0 )`};else{let G;G="top"===le.position.vertical.position?`calc( -100% - ${le.position.horizontal.distance}px - 10px )`:`calc( 100% + ${le.position.horizontal.distance}px + 10px )`,re={transform:`translate3d( -50%, ${Y}px, 0 )`},L={transform:`translate3d( -50%, ${G}, 0 )`}}return{from:re,to:L}},show:Se=>{const le=Se.component.getConfig();let Y,re;if("left"===le.position.horizontal.position)Y={transform:`translate3d( calc( -100% - ${le.position.horizontal.distance}px - 10px ), 0, 0 )`},re={transform:"translate3d( 0, 0, 0 )"};else if("right"===le.position.horizontal.position)Y={transform:`translate3d( calc( 100% + ${le.position.horizontal.distance}px + 10px ), 0, 0 )`},re={transform:"translate3d( 0, 0, 0 )"};else{let L;L="top"===le.position.vertical.position?`calc( -100% - ${le.position.horizontal.distance}px - 10px )`:`calc( 100% + ${le.position.horizontal.distance}px + 10px )`,Y={transform:`translate3d( -50%, ${L}, 0 )`},re={transform:"translate3d( -50%, 0, 0 )"}}return{from:Y,to:re}}};let bt=(()=>{class Se{constructor(){this.animationPresets={fade:ke,slide:it}}getAnimationData(Y,re){let L,G,U;return"show"===Y?(L=this.animationPresets[re.component.getConfig().animations.show.preset].show(re),G=re.component.getConfig().animations.show.speed,U=re.component.getConfig().animations.show.easing):(L=this.animationPresets[re.component.getConfig().animations.hide.preset].hide(re),G=re.component.getConfig().animations.hide.speed,U=re.component.getConfig().animations.hide.easing),{keyframes:[L.from,L.to],options:{duration:G,easing:U,fill:"forwards"}}}}return Se.\u0275fac=function(Y){return new(Y||Se)},Se.\u0275prov=g.Yz7({token:Se,factory:Se.\u0275fac}),Se})(),Ve=(()=>{class Se{constructor(Y,re,L,G,U){this.config=L.getConfig(),this.ready=new g.vpe,this.dismiss=new g.vpe,this.timerService=G,this.animationService=U,this.renderer=re,this.element=Y.nativeElement,this.elementShift=0}ngAfterViewInit(){this.setup(),this.elementHeight=this.element.offsetHeight,this.elementWidth=this.element.offsetWidth,this.ready.emit(this)}getConfig(){return this.config}getHeight(){return this.elementHeight}getWidth(){return this.elementWidth}getShift(){return this.elementShift}show(){return new Promise(Y=>{if(this.config.animations.enabled&&this.config.animations.show.speed>0){const re=this.animationService.getAnimationData("show",this.notification),L=Object.keys(re.keyframes[0]);for(let U=L.length-1;U>=0;U--)this.renderer.setStyle(this.element,L[U],re.keyframes[0][L[U]]);this.renderer.setStyle(this.element,"visibility","visible"),this.element.animate(re.keyframes,re.options).onfinish=()=>{this.startAutoHideTimer(),Y()}}else this.renderer.setStyle(this.element,"visibility","visible"),this.startAutoHideTimer(),Y()})}hide(){return new Promise(Y=>{if(this.stopAutoHideTimer(),this.config.animations.enabled&&this.config.animations.hide.speed>0){const re=this.animationService.getAnimationData("hide",this.notification);this.element.animate(re.keyframes,re.options).onfinish=()=>{Y()}}else Y()})}shift(Y,re){return new Promise(L=>{let G;G="top"===this.config.position.vertical.position&&re||"bottom"===this.config.position.vertical.position&&!re?this.elementShift+Y+this.config.position.vertical.gap:this.elementShift-Y-this.config.position.vertical.gap;const U="middle"===this.config.position.horizontal.position?"-50%":"0";if(this.config.animations.enabled&&this.config.animations.shift.speed>0){const W={keyframes:[{transform:`translate3d( ${U}, ${this.elementShift}px, 0 )`},{transform:`translate3d( ${U}, ${G}px, 0 )`}],options:{duration:this.config.animations.shift.speed,easing:this.config.animations.shift.easing,fill:"forwards"}};this.elementShift=G,this.element.animate(W.keyframes,W.options).onfinish=()=>{L()}}else this.renderer.setStyle(this.element,"transform",`translate3d( ${U}, ${G}px, 0 )`),this.elementShift=G,L()})}onClickDismiss(){this.dismiss.emit(this.notification.id)}onNotificationMouseover(){"pauseAutoHide"===this.config.behaviour.onMouseover?this.pauseAutoHideTimer():"resetAutoHide"===this.config.behaviour.onMouseover&&this.stopAutoHideTimer()}onNotificationMouseout(){"pauseAutoHide"===this.config.behaviour.onMouseover?this.continueAutoHideTimer():"resetAutoHide"===this.config.behaviour.onMouseover&&this.startAutoHideTimer()}onNotificationClick(){"hide"===this.config.behaviour.onClick&&this.onClickDismiss()}startAutoHideTimer(){!1!==this.config.behaviour.autoHide&&this.config.behaviour.autoHide>0&&this.timerService.start(this.config.behaviour.autoHide).then(()=>{this.onClickDismiss()})}pauseAutoHideTimer(){!1!==this.config.behaviour.autoHide&&this.config.behaviour.autoHide>0&&this.timerService.pause()}continueAutoHideTimer(){!1!==this.config.behaviour.autoHide&&this.config.behaviour.autoHide>0&&this.timerService.continue()}stopAutoHideTimer(){!1!==this.config.behaviour.autoHide&&this.config.behaviour.autoHide>0&&this.timerService.stop()}setup(){"left"===this.config.position.horizontal.position?this.renderer.setStyle(this.element,"left",`${this.config.position.horizontal.distance}px`):"right"===this.config.position.horizontal.position?this.renderer.setStyle(this.element,"right",`${this.config.position.horizontal.distance}px`):(this.renderer.setStyle(this.element,"left","50%"),this.renderer.setStyle(this.element,"transform","translate3d( -50%, 0, 0 )")),this.renderer.setStyle(this.element,"top"===this.config.position.vertical.position?"top":"bottom",`${this.config.position.vertical.distance}px`),this.renderer.addClass(this.element,`notifier__notification--${this.notification.type}`),this.renderer.addClass(this.element,`notifier__notification--${this.config.theme}`)}}return Se.\u0275fac=function(Y){return new(Y||Se)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(Oe),g.Y36(Je),g.Y36(bt))},Se.\u0275cmp=g.Xpm({type:Se,selectors:[["notifier-notification"]],hostAttrs:[1,"notifier__notification"],hostBindings:function(Y,re){1&Y&&g.NdJ("click",function(){return re.onNotificationClick()})("mouseout",function(){return re.onNotificationMouseout()})("mouseover",function(){return re.onNotificationMouseover()})},inputs:{notification:"notification"},outputs:{ready:"ready",dismiss:"dismiss"},features:[g._Bn([Je])],decls:3,vars:2,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf","ngIfElse"],["predefinedNotification",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"notifier__notification-message"],["class","notifier__notification-button","type","button","title","dismiss",3,"click",4,"ngIf"],["type","button","title","dismiss",1,"notifier__notification-button",3,"click"],["viewBox","0 0 24 24","width","20","height","20",1,"notifier__notification-button-icon"],["d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"]],template:function(Y,re){if(1&Y&&(g.YNc(0,he,1,4,"ng-container",0),g.YNc(1,Fe,3,2,"ng-template",null,1,g.W1O)),2&Y){const L=g.MAs(2);g.Q6J("ngIf",re.notification.template)("ngIfElse",L)}},dependencies:[ee.O5,ee.tP],encapsulation:2,changeDetection:0}),Se})(),Kt=(()=>{class Se{constructor(Y,re,L){this.changeDetector=Y,this.queueService=re,this.config=L.getConfig(),this.notifications=[],this.queueServiceSubscription=this.queueService.actionStream.subscribe(G=>{this.handleAction(G).then(()=>{this.queueService.continue()})})}ngOnDestroy(){this.queueServiceSubscription&&this.queueServiceSubscription.unsubscribe()}identifyNotification(Y,re){return re.id}onNotificationDismiss(Y){this.queueService.push({payload:Y,type:"HIDE"})}onNotificationReady(Y){const re=this.notifications[this.notifications.length-1];re.component=Y,this.continueHandleShowAction(re)}handleAction(Y){switch(Y.type){case"SHOW":return this.handleShowAction(Y);case"HIDE":return this.handleHideAction(Y);case"HIDE_OLDEST":return this.handleHideOldestAction(Y);case"HIDE_NEWEST":return this.handleHideNewestAction(Y);case"HIDE_ALL":return this.handleHideAllAction();default:return new Promise(re=>{re()})}}handleShowAction(Y){return new Promise(re=>{this.tempPromiseResolver=re,this.addNotificationToList(new Le(Y.payload))})}continueHandleShowAction(Y){const re=this.notifications.length;if(1===re)Y.component.show().then(this.tempPromiseResolver);else if(!1===this.config.behaviour.stacking||this.config.behaviour.stacking<2)this.notifications[0].component.hide().then(()=>{this.removeNotificationFromList(this.notifications[0]),Y.component.show().then(this.tempPromiseResolver)});else{const G=[];if(re>this.config.behaviour.stacking){const U=this.notifications.slice(1,re-1);this.config.animations.enabled?!1!==this.config.animations.overlap&&this.config.animations.overlap>0?(G.push(this.notifications[0].component.hide()),setTimeout(()=>{G.push(this.shiftNotifications(U,Y.component.getHeight(),!0))},this.config.animations.hide.speed-this.config.animations.overlap),setTimeout(()=>{G.push(Y.component.show())},this.config.animations.hide.speed+this.config.animations.shift.speed-this.config.animations.overlap)):G.push(new Promise(W=>{this.notifications[0].component.hide().then(()=>{this.shiftNotifications(U,Y.component.getHeight(),!0).then(()=>{Y.component.show().then(W)})})})):(G.push(this.notifications[0].component.hide()),G.push(this.shiftNotifications(U,Y.component.getHeight(),!0)),G.push(Y.component.show()))}else{const U=this.notifications.slice(0,re-1);this.config.animations.enabled?!1!==this.config.animations.overlap&&this.config.animations.overlap>0?(G.push(this.shiftNotifications(U,Y.component.getHeight(),!0)),setTimeout(()=>{G.push(Y.component.show())},this.config.animations.shift.speed-this.config.animations.overlap)):G.push(new Promise(W=>{this.shiftNotifications(U,Y.component.getHeight(),!0).then(()=>{Y.component.show().then(W)})})):(G.push(this.shiftNotifications(U,Y.component.getHeight(),!0)),G.push(Y.component.show()))}Promise.all(G).then(()=>{re>this.config.behaviour.stacking&&this.removeNotificationFromList(this.notifications[0]),this.tempPromiseResolver()})}}handleHideAction(Y){return new Promise(re=>{const L=[],G=this.findNotificationById(Y.payload);if(void 0===G)return void re();const U=this.findNotificationIndexById(Y.payload);if(void 0===U)return void re();const W=this.notifications.slice(0,U);W.length>0?this.config.animations.enabled&&this.config.animations.hide.speed>0?!1!==this.config.animations.overlap&&this.config.animations.overlap>0?(L.push(G.component.hide()),setTimeout(()=>{L.push(this.shiftNotifications(W,G.component.getHeight(),!1))},this.config.animations.hide.speed-this.config.animations.overlap)):G.component.hide().then(()=>{L.push(this.shiftNotifications(W,G.component.getHeight(),!1))}):(L.push(G.component.hide()),L.push(this.shiftNotifications(W,G.component.getHeight(),!1))):L.push(G.component.hide()),Promise.all(L).then(()=>{this.removeNotificationFromList(G),re()})})}handleHideOldestAction(Y){return 0===this.notifications.length?new Promise(re=>{re()}):(Y.payload=this.notifications[0].id,this.handleHideAction(Y))}handleHideNewestAction(Y){return 0===this.notifications.length?new Promise(re=>{re()}):(Y.payload=this.notifications[this.notifications.length-1].id,this.handleHideAction(Y))}handleHideAllAction(){return new Promise(Y=>{const re=this.notifications.length;if(0!==re)if(this.config.animations.enabled&&this.config.animations.hide.speed>0&&!1!==this.config.animations.hide.offset&&this.config.animations.hide.offset>0)for(let L=re-1;L>=0;L--)setTimeout(()=>{this.notifications[L].component.hide().then(()=>{("top"===this.config.position.vertical.position&&0===L||"bottom"===this.config.position.vertical.position&&L===re-1)&&(this.removeAllNotificationsFromList(),Y())})},this.config.animations.hide.offset*("top"===this.config.position.vertical.position?re-1:L));else{const L=[];for(let G=re-1;G>=0;G--)L.push(this.notifications[G].component.hide());Promise.all(L).then(()=>{this.removeAllNotificationsFromList(),Y()})}else Y()})}shiftNotifications(Y,re,L){return new Promise(G=>{if(0===Y.length)return void G();const U=[];for(let W=Y.length-1;W>=0;W--)U.push(Y[W].component.shift(re,L));Promise.all(U).then(G)})}addNotificationToList(Y){this.notifications.push(Y),this.changeDetector.markForCheck()}removeNotificationFromList(Y){this.notifications=this.notifications.filter(re=>re.component!==Y.component),this.changeDetector.markForCheck()}removeAllNotificationsFromList(){this.notifications=[],this.changeDetector.markForCheck()}findNotificationById(Y){return this.notifications.find(re=>re.id===Y)}findNotificationIndexById(Y){const re=this.notifications.findIndex(L=>L.id===Y);return-1!==re?re:void 0}}return Se.\u0275fac=function(Y){return new(Y||Se)(g.Y36(g.sBO),g.Y36(ce),g.Y36(Oe))},Se.\u0275cmp=g.Xpm({type:Se,selectors:[["notifier-container"]],hostAttrs:[1,"notifier__container"],decls:2,vars:2,consts:[[1,"notifier__container-list"],["class","notifier__container-list-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"notifier__container-list-item"],[3,"notification","ready","dismiss"]],template:function(Y,re){1&Y&&(g.TgZ(0,"ul",0),g.YNc(1,qe,2,1,"li",1),g.qZA()),2&Y&&(g.xp6(1),g.Q6J("ngForOf",re.notifications)("ngForTrackBy",re.identifyNotification))},dependencies:[Ve,ee.sg],encapsulation:2,changeDetection:0}),Se})();function _e(Se){return new dt(Se)}function ye(){return new dt({})}let Ke=(()=>{class Se{static withConfig(Y={}){return{ngModule:Se,providers:[{provide:ge,useValue:Y},{deps:[ge],provide:De,useFactory:_e}]}}}return Se.\u0275fac=function(Y){return new(Y||Se)},Se.\u0275mod=g.oAB({type:Se}),Se.\u0275inj=g.cJS({providers:[bt,Oe,ce,{provide:De,useFactory:ye}],imports:[[ee.ez]]}),Se})()},5861:(yt,Ne,H)=>{function g(ee,ve,he,Be,Fe,qe,Le){try{var ce=ee[qe](Le),ge=ce.value}catch(De){return void he(De)}ce.done?ve(ge):Promise.resolve(ge).then(Be,Fe)}function O(ee){return function(){var ve=this,he=arguments;return new Promise(function(Be,Fe){var qe=ee.apply(ve,he);function Le(ge){g(qe,Be,Fe,Le,ce,"next",ge)}function ce(ge){g(qe,Be,Fe,Le,ce,"throw",ge)}Le(void 0)})}}H.d(Ne,{Z:()=>O})}},yt=>{yt(yt.s=3003)}]);